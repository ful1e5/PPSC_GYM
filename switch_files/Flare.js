!function(e){function t(t){for(var i,s,a=t[0],c=t[1],u=t[2],h=0,f=[];h<a.length;h++)s=a[h],o[s]&&f.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(l&&l(t);f.length;)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},o={19:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/lib/";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;r.push([1139,1,0,2]),n()}({1139:function(e,t,n){e.exports=n(1140)},12:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});var i=n(0),o=n(31),r=n(160),s=n(161),a=n(158),c=n(4);let u=null;class l{constructor(e){this._Canvas=e,this._ViewTransform=i.a.create(),this._Cleanup=[]}initialize(e,t){null===u?CanvasKitInit({locateFile:t=>e+t}).then(e=>{setTimeout(()=>{u=e,this.init(),t()},0)}):(this.init(),t())}init(){this.updateSurface();const e=new u.SkPaint;e.setStyle(u.PaintStyle.Fill),e.setBlendMode(u.BlendMode.Clear),a.a.setCanvasKit(u),this._ClearPaint=e}updateSurface(){u&&(this._CanvasSurface&&this._CanvasSurface.delete(),this._CanvasSurface=u.MakeCanvasSurface(this._Canvas.id),this._SkCanvas=this._CanvasSurface.getCanvas(),this._Context=u.currentContext())}save(){this._SkCanvas.save()}restore(){this._SkCanvas.restore()}transform(e){this._SkCanvas.concat([e[0],e[2],e[4],e[1],e[3],e[5],0,0,1])}get canvas(){return this._Canvas}get ctx(){return this._Context}dispose(){}get width(){return this._Canvas.width}get height(){return this._Canvas.height}clear(e){const{_Context:t,_ClearPaint:n,_SkCanvas:i,width:o,height:r}=this;u.setCurrentContext(t),e?(n.setColor(u.Color(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2]),e[3])),n.setBlendMode(u.BlendMode.SrcOver)):n.setBlendMode(u.BlendMode.Clear),i.drawRect(u.LTRBRect(0,0,o,r),n),i.save()}drawPath(e,t){this._SkCanvas.drawPath(e,t)}drawRect(e,t,n,i,o){this._SkCanvas.drawRect(u.LTRBRect(e,t,n,i),o)}setView(e){this._SkCanvas.concat([e[0],e[2],e[4],e[1],e[3],e[5],0,0,1])}addPath(e,t,n){e.addPath(t,[n[0],n[2],n[4],n[1],n[3],n[5],0,0,1])}makeImage(e){return u.MakeImageFromEncoded(e)}makeImageShader(e){return u.MakeImageShader(e,u.TileMode.Clamp,u.TileMode.Clamp)}makePath(e){const t=new u.SkPath;return e&&this._Cleanup.push(t),t}makeVertices(e,t,n){return u.MakeSkVertices(u.VertexMode.Triangles,e,t,null,null,null,n)}drawVertices(e,t){this._SkCanvas.drawVertices(e,u.BlendMode.SrcOver,t)}copyPath(e,t){const n=e.copy();return t&&this._Cleanup.push(n),n}pathEllipse(e,t,n,i,o,r,s,a){var c=u.LTRBRect(t-i,n-o,t+i,n+o),l=h(s-r)-360*!!a;e.addArc(c,h(r),l)}static destroyPath(e){e.delete()}makeLinearGradient(e,t,n,i){return n=n.map(e=>u.Color(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2]),e[3])),u.MakeLinearGradientShader(e,t,n,i,u.TileMode.Clamp,null,0)}makeRadialGradient(e,t,n,i){return n=n.map(e=>u.Color(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2]),e[3])),u.MakeRadialGradientShader(e,t,n,i,u.TileMode.Clamp,null,0)}destroyRadialGradient(e){e.delete()}destroyLinearGradient(e){e.delete()}makePaint(e){const t=new u.SkPaint;return t.setAntiAlias(!0),t.setBlendMode(u.BlendMode.SrcOver),e&&this._Cleanup.push(t),t}setPaintFill(e){e.setStyle(u.PaintStyle.Fill)}setPaintColor(e,t){e.setColor(u.Color(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2]),t[3]))}setPaintShader(e,t){e.setShader(t),e.setFilterQuality(u.FilterQuality.Low)}static setPaintBlendMode(e,t){e.setBlendMode(t.sk)}setPathFillType(e,t){let n;switch(t){case o.a.EvenOdd:n=u.FillType.EvenOdd;break;case o.a.NonZero:n=u.FillType.Winding}e.setFillType(n)}static setPaintStrokeCap(e,t){let n;switch(t){case r.a.Butt:n=u.StrokeCap.Butt;break;case r.a.Round:n=u.StrokeCap.Round;break;case r.a.Square:n=u.StrokeCap.Square;break;default:n=u.StrokeCap.Butt}e.setStrokeCap(n)}static setPaintStrokeJoin(e,t){let n;switch(t){case s.a.Miter:n=u.StrokeJoin.Miter;break;case s.a.Round:n=u.StrokeJoin.Round;break;case s.a.Bevel:n=u.StrokeJoin.Bevel;break;default:n=u.StrokeJoin.Miter}e.setStrokeJoin(n)}static setPaintStroke(e){e.setStyle(u.PaintStyle.Stroke)}destroyPaint(e){e.delete()}clipPath(e){this._SkCanvas.clipPath(e,u.ClipOp.Intersect,!0)}flush(){this._SkCanvas.restore(),this._CanvasSurface.flush();for(const e of this._Cleanup)e.delete();this._Cleanup.length=0}get viewportWidth(){return this._Canvas.width}get viewportHeight(){return this._Canvas.height}setSize(e,t){return(this.width!==e||this.height!==t)&&(this._Canvas.width=e,this._Canvas.height=t,this.updateSurface(),!0)}static pointPath(e,t,n){if(t.length){let i=t[0];e.moveTo(i.translation[0],i.translation[1]);for(let i=0,o=n?t.length:t.length-1,r=t.length;i<o;i++){let n=t[i],o=t[(i+1)%r],s=o.pointType===c.b.Straight?null:o.in,a=n.pointType===c.b.Straight?null:n.out;null===s&&null===a?e.lineTo(o.translation[0],o.translation[1]):(null===a&&(a=n.translation),null===s&&(s=o.translation),e.cubicTo(a[0],a[1],s[0],s[1],o.translation[0],o.translation[1]))}n&&e.close()}return e}static trimPath(e,t,n,i){const o=new u.SkPath;let r=0;{const t=new u.SkPathMeasure(e,!1,1);do{r+=t.getLength()}while(t.nextContour());t.delete()}const s=new u.SkPathMeasure(e,!1,1);let a=r*t,c=r*n,l=0;return i?(a>0&&(l=d(s,o,l,0,a)),c<r&&(l=d(s,o,l,c,r))):a<c&&(l=d(s,o,l,a,c)),s.delete(),o}static trimPathSync(e,t,n,i){const o=new u.SkPath,r=new u.SkPathMeasure(e,!1,1);do{const e=r.getLength();let s=e*t,a=e*n,c=0;i?(s>0&&v(r,o,c,0,s),a<e&&v(r,o,c,a,e)):s<a&&v(r,o,c,s,a)}while(r.nextContour());return r.delete(),o}}function h(e){return e/Math.PI*180}const f=[1,0,0,0,1,0];function d(e,t,n,i,o){let r=n;do{if(i<(r=n+e.getLength())){let s=new u.SkPath;if(e.getSegment(i-n,o-n,s,!0)&&(t.addPath(s,f),s.delete()),o<r)break}n=r}while(e.nextContour());return n}function v(e,t,n,i,o){if(i<n+e.getLength()){let r=new u.SkPath;e.getSegment(i-n,o-n,r,!0)&&(t.addPath(r,f),r.delete())}}},15:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{constructor(){this._Name="Component",this._Parent=null,this._CustomProperties=[],this._DirtMask=0,this._GraphOrder=-1,this._Dependents=null,this._Actor=null,this._ParentIdx=-1}get parent(){return this._Parent}onDirty(e){}initialize(e,t){}dispose(e,t){}update(e){}advance(e){}resolveComponentIndices(e){if(-1!==this._ParentIdx){let t=e[this._ParentIdx];this._Parent=t,this.isNode&&t&&t._Children&&t._Children.push(this),t&&this._Actor.addDependency(this,t)}}completeResolve(){}copy(e,t){this._Name=e._Name,this._ParentIdx=e._ParentIdx,this._Idx=e._Idx,this._Actor=t}getCustomProperty(e){let t=this._CustomProperties;for(let n of t)if(n._Name===e)return n;return null}}},156:function(e,t,n){(t=e.exports=n(13)(!1)).push([e.i,".source-client-source-Tree-Tree-Line-HGo9V, .source-client-source-Tree-Tree-PropertyLine-11VfL, .source-client-source-Tree-Tree-ConnectorLine-35V7b, .source-client-source-Tree-Tree-IconConnectorLine-1WvLv, .source-client-source-Tree-Tree-IconPropertyConnectorLine-1RMGH {\n  position: absolute;\n  width: 1px;\n  background: #CCC;\n  top: 0;\n  bottom: 0;\n  -ms-flex-negative: 0;\n      flex-shrink: 0; }\n\n.source-client-source-Tree-Tree-PropertyLine-11VfL {\n  bottom: 1px;\n  background: none;\n  border-left: dashed 1px #CCC; }\n\n.source-client-source-Tree-Tree-IconPropertyConnectorLine-1RMGH {\n  background: none;\n  bottom: 1px;\n  border-left: dashed 1px #CCC; }\n\n.source-client-source-Tree-Tree-ConnectorLine-35V7b {\n  left: 6px; }\n\n.source-client-source-Tree-Tree-HorizontalLine-1R5rU, .source-client-source-Tree-Tree-HorizontalPropertyLine-2eRak {\n  height: 1px;\n  width: 13px;\n  background: #CCC;\n  margin-left: 7px;\n  -ms-flex-negative: 0;\n      flex-shrink: 0; }\n\n.source-client-source-Tree-Tree-HorizontalPropertyLine-2eRak {\n  background: none;\n  border-bottom: dashed 1px #CCC; }\n\n.source-client-source-Tree-Tree-Item-3uTsh {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: 100%;\n  font-size: 12.5px;\n  font-weight: 400;\n  color: #666;\n  margin-right: 10px;\n  padding-left: 20px; }\n\n.source-client-source-Tree-Tree-ItemContentWrapper-BipuM {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  height: 100%;\n  border-top: 2px solid rgba(255, 255, 255, 0);\n  border-bottom: 2px solid rgba(255, 255, 255, 0);\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  min-width: 0;\n  position: relative; }\n\n.source-client-source-Tree-Tree-ItemContent-2Epgw {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: calc(100% + 2px);\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  margin-right: 5px;\n  min-width: 0;\n  padding-left: 5px; }\n\n.source-client-source-Tree-Tree-Selected-EJEOQ {\n  color: #fff;\n  background: #57A5E0;\n  border-radius: 5px;\n  -webkit-box-shadow: 0px 6px 15px rgba(0, 88, 166, 0.14);\n          box-shadow: 0px 6px 15px rgba(0, 88, 166, 0.14);\n  z-index: 2; }\n\n.source-client-source-Tree-Tree-Selected-EJEOQ svg {\n  fill: #fff; }\n\n.source-client-source-Tree-Tree-Selected-EJEOQ div {\n  font-weight: 400; }\n\n.source-client-source-Tree-Tree-Hovered-3qQ-T {\n  color: #57A5E0;\n  background: rgba(87, 165, 224, 0.1);\n  border-radius: 5px; }\n\n.source-client-source-Tree-Tree-Hovered-3qQ-T svg {\n  fill: #57A5E0; }\n\n.source-client-source-Tree-Tree-DropTarget-2reLy, .source-client-source-Tree-Tree-DropTargetParent-EVZry {\n  border: 2px solid #57A5E0;\n  border-radius: 5px;\n  padding-left: 3px;\n  height: calc(100% - 2px); }\n\n.source-client-source-Tree-Tree-DropTargetParent-EVZry {\n  border: 2px dashed #57A5E0; }\n\n.source-client-source-Tree-Tree-DropDisabled-3Ua3i {\n  opacity: 0.3; }\n\n.source-client-source-Tree-Tree-DropAbove-3sLkP,\n.source-client-source-Tree-Tree-DropBelow-2qNwU {\n  height: 2px;\n  position: absolute;\n  background: #57A5E0;\n  left: -13px;\n  right: 0;\n  top: -1px; }\n\n.source-client-source-Tree-Tree-DropBelow-2qNwU {\n  top: initial;\n  bottom: -1px; }\n\n.source-client-source-Tree-Tree-SelectionMarker-2eA_2 {\n  position: absolute;\n  top: 0;\n  left: -3px;\n  right: 0;\n  bottom: 0;\n  padding: 0 10px;\n  background: #57A5E0;\n  border-radius: 5px;\n  -webkit-box-shadow: 0px 6px 15px rgba(0, 88, 166, 0.14);\n          box-shadow: 0px 6px 15px rgba(0, 88, 166, 0.14); }\n\n.source-client-source-Tree-Tree-ItemName-3v_tc {\n  z-index: 2;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  position: relative; }\n\n.source-client-source-Tree-Tree-Hidden-VLwq8 .source-client-source-Tree-Tree-ItemName-3v_tc {\n  opacity: .3; }\n\n.source-client-source-Tree-Tree-ItemName-3v_tc input {\n  color: rgba(0, 0, 0, 0.6);\n  display: block;\n  border: 0;\n  outline: none;\n  -webkit-transition: border 0.1s ease-in-out, color 0.1s ease-in-out;\n  transition: border 0.1s ease-in-out, color 0.1s ease-in-out;\n  background: none;\n  text-overflow: ellipsis;\n  padding: 0;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1; }\n\n.source-client-source-Tree-Tree-Selected-EJEOQ .source-client-source-Tree-Tree-ItemName-3v_tc input {\n  color: white; }\n\n.source-client-source-Tree-Tree-Expander-2Y-eQ, .source-client-source-Tree-Tree-Toggle-HfRQ_ {\n  border: 1px solid #CCC;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  height: 15px;\n  width: 15px;\n  margin-right: 5px;\n  border-radius: 15px;\n  position: relative;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  z-index: 4; }\n\n.source-client-source-Tree-Tree-Toggle-HfRQ_ {\n  margin-left: 5px; }\n\n.source-client-source-Tree-Tree-Toggle-HfRQ_ div {\n  width: 5px;\n  height: 5px;\n  border-radius: 100%;\n  background: #888;\n  margin: 4px auto;\n  -webkit-transition: opacity 0.1s ease-in-out;\n  transition: opacity 0.1s ease-in-out; }\n\n.source-client-source-Tree-Tree-ExpandArrow-1THV1 {\n  width: 5px;\n  height: 5px;\n  position: absolute;\n  margin-left: 4px;\n  margin-top: 4px;\n  fill: #666;\n  -webkit-transition: margin-top 0.1s ease-in-out, -webkit-transform 0.1s ease-in-out;\n  transition: margin-top 0.1s ease-in-out, -webkit-transform 0.1s ease-in-out;\n  transition: transform 0.1s ease-in-out, margin-top 0.1s ease-in-out;\n  transition: transform 0.1s ease-in-out, margin-top 0.1s ease-in-out, -webkit-transform 0.1s ease-in-out; }\n\n.source-client-source-Tree-Tree-Expander-2Y-eQ:hover {\n  border: 1px solid #aaa; }\n\n.source-client-source-Tree-Tree-Expander-2Y-eQ:hover .source-client-source-Tree-Tree-ExpandArrow-1THV1 {\n  fill: #333; }\n\n.source-client-source-Tree-Tree-IconContainer-YlDCf {\n  /*border: 1px solid #CCC;*/\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  margin-right: 5px;\n  position: relative; }\n\n.source-client-source-Tree-Tree-HierarchyHideBtn-16VQv {\n  width: 21px;\n  height: 17px;\n  margin-top: -3px;\n  margin-bottom: -2px;\n  margin-left: 5px;\n  margin-right: 5px;\n  opacity: 0.4;\n  -ms-flex-negative: 0;\n      flex-shrink: 0; }\n\n.source-client-source-Tree-Tree-HierarchyLockBtn-3Oca9 {\n  width: 16px;\n  height: 14px;\n  margin-left: 5px;\n  opacity: 0.25;\n  -ms-flex-negative: 0;\n      flex-shrink: 0; }\n\n.source-client-source-Tree-Tree-HierarchyHideBtnHidden-NkrVK,\n.source-client-source-Tree-Tree-HierarchyLockBtnHidden-e28-K {\n  opacity: 0.25; }\n\n.source-client-source-Tree-Tree-Hovered-3qQ-T .source-client-source-Tree-Tree-HierarchyHideBtnHidden-NkrVK,\n.source-client-source-Tree-Tree-Hovered-3qQ-T .source-client-source-Tree-Tree-HierarchyHideBtn-16VQv,\n.source-client-source-Tree-Tree-Hovered-3qQ-T .source-client-source-Tree-Tree-HierarchyLockBtnHidden-e28-K,\n.source-client-source-Tree-Tree-Hovered-3qQ-T .source-client-source-Tree-Tree-HierarchyLockBtn-3Oca9,\n.source-client-source-Tree-Tree-Selected-EJEOQ .source-client-source-Tree-Tree-HierarchyHideBtnHidden-NkrVK,\n.source-client-source-Tree-Tree-Selected-EJEOQ .source-client-source-Tree-Tree-HierarchyHideBtn-16VQv,\n.source-client-source-Tree-Tree-Selected-EJEOQ .source-client-source-Tree-Tree-HierarchyLockBtnHidden-e28-K,\n.source-client-source-Tree-Tree-Selected-EJEOQ .source-client-source-Tree-Tree-HierarchyLockBtn-3Oca9 {\n  opacity: 0.7; }\n\n.source-client-source-Tree-Tree-Hovered-3qQ-T .source-client-source-Tree-Tree-HierarchyHideBtnHidden-NkrVK:hover,\n.source-client-source-Tree-Tree-Hovered-3qQ-T .source-client-source-Tree-Tree-HierarchyHideBtn-16VQv:hover,\n.source-client-source-Tree-Tree-Hovered-3qQ-T .source-client-source-Tree-Tree-HierarchyLockBtnHidden-e28-K:hover,\n.source-client-source-Tree-Tree-Hovered-3qQ-T .source-client-source-Tree-Tree-HierarchyLockBtn-3Oca9:hover,\n.source-client-source-Tree-Tree-Selected-EJEOQ .source-client-source-Tree-Tree-HierarchyHideBtnHidden-NkrVK:hover,\n.source-client-source-Tree-Tree-Selected-EJEOQ .source-client-source-Tree-Tree-HierarchyHideBtn-16VQv:hover,\n.source-client-source-Tree-Tree-Selected-EJEOQ .source-client-source-Tree-Tree-HierarchyLockBtnHidden-e28-K:hover,\n.source-client-source-Tree-Tree-Selected-EJEOQ .source-client-source-Tree-Tree-HierarchyLockBtn-3Oca9:hover {\n  opacity: 1; }\n\n.source-client-source-Tree-Tree-TreeIcon-Wy1yL {\n  fill: #b2b2b2;\n  margin-right: 5px;\n  width: 15px;\n  height: 15px;\n  position: relative;\n  -ms-flex-negative: 0;\n      flex-shrink: 0; }\n\n.source-client-source-Tree-Tree-Hovered-3qQ-T .source-client-source-Tree-Tree-TreeIcon-Wy1yL {\n  fill: #57A5E0; }\n\n.source-client-source-Tree-Tree-Selected-EJEOQ .source-client-source-Tree-Tree-TreeIcon-Wy1yL {\n  fill: #fff; }\n\n.source-client-source-Tree-Tree-Hidden-VLwq8 .source-client-source-Tree-Tree-TreeIcon-Wy1yL {\n  opacity: .3; }\n\n.source-client-source-Tree-Tree-TreeIcon-Wy1yL svg {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(calc(-50% - 0.5px), calc(-50% - 0.5px));\n      -ms-transform: translate(calc(-50% - 0.5px), calc(-50% - 0.5px));\n          transform: translate(calc(-50% - 0.5px), calc(-50% - 0.5px)); }\n\n.source-client-source-Tree-Tree-TreeIconBG-1xNT9, .source-client-source-Tree-Tree-AssetIconBG-1F6PU {\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  background-color: rgba(0, 0, 0, 0.03);\n  border-radius: 3px; }\n\n.source-client-source-Tree-Tree-AssetIconBG-1F6PU {\n  width: 40px;\n  height: 30px; }\n\n/*\n\nThis won't work in Edge, so not using for now\n\n.HasDecor\n{\n\t//Clips the tumbnail so we don't have to give ThumbDecor a background color to fake transparency.\n\n\tclip-path: polygon(0px 0px, 0px 30px, 40px 30px, 40px 0px, 0px 0px, 20px 20px, 40px 20px, 40px 30px, 20px 30px, 20px 20px);\n}\n*/\n.source-client-source-Tree-Tree-ThumbDecor-3WnkQ {\n  position: absolute;\n  bottom: 0;\n  right: -1px;\n  background: #efefef;\n  padding: 3px 0 0 3px;\n  line-height: 0;\n  border-radius: 3px 0 3px 0; }\n\n.source-client-source-Tree-Tree-ThumbDecor-3WnkQ svg {\n  fill: #888;\n  position: initial;\n  left: initial;\n  top: initial;\n  -webkit-transform: none;\n      -ms-transform: none;\n          transform: none; }\n\n.source-client-source-Tree-Tree-PsdDecor-3Y3wz {\n  width: 17px;\n  height: 7px; }\n\n.source-client-source-Tree-Tree-Hovered-3qQ-T .source-client-source-Tree-Tree-ThumbDecor-3WnkQ {\n  background: #e0e8ee; }\n\n.source-client-source-Tree-Tree-Selected-EJEOQ .source-client-source-Tree-Tree-ThumbDecor-3WnkQ {\n  background: #57A5E0; }\n\n.source-client-source-Tree-Tree-Selected-EJEOQ .source-client-source-Tree-Tree-ThumbDecor-3WnkQ svg {\n  fill: #9ecdf1; }\n",""]),t.locals={expanderSize:"15px",dragOpacity:"0.3",Line:"source-client-source-Tree-Tree-Line-HGo9V",PropertyLine:"source-client-source-Tree-Tree-PropertyLine-11VfL",ConnectorLine:"source-client-source-Tree-Tree-ConnectorLine-35V7b",IconConnectorLine:"source-client-source-Tree-Tree-IconConnectorLine-1WvLv",IconPropertyConnectorLine:"source-client-source-Tree-Tree-IconPropertyConnectorLine-1RMGH",HorizontalLine:"source-client-source-Tree-Tree-HorizontalLine-1R5rU",HorizontalPropertyLine:"source-client-source-Tree-Tree-HorizontalPropertyLine-2eRak",Item:"source-client-source-Tree-Tree-Item-3uTsh",ItemContentWrapper:"source-client-source-Tree-Tree-ItemContentWrapper-BipuM",ItemContent:"source-client-source-Tree-Tree-ItemContent-2Epgw",Selected:"source-client-source-Tree-Tree-Selected-EJEOQ",Hovered:"source-client-source-Tree-Tree-Hovered-3qQ-T",DropTarget:"source-client-source-Tree-Tree-DropTarget-2reLy",DropTargetParent:"source-client-source-Tree-Tree-DropTargetParent-EVZry",DropDisabled:"source-client-source-Tree-Tree-DropDisabled-3Ua3i",DropAbove:"source-client-source-Tree-Tree-DropAbove-3sLkP",DropBelow:"source-client-source-Tree-Tree-DropBelow-2qNwU",SelectionMarker:"source-client-source-Tree-Tree-SelectionMarker-2eA_2",ItemName:"source-client-source-Tree-Tree-ItemName-3v_tc",Hidden:"source-client-source-Tree-Tree-Hidden-VLwq8",Expander:"source-client-source-Tree-Tree-Expander-2Y-eQ",Toggle:"source-client-source-Tree-Tree-Toggle-HfRQ_",ExpandArrow:"source-client-source-Tree-Tree-ExpandArrow-1THV1",IconContainer:"source-client-source-Tree-Tree-IconContainer-YlDCf",HierarchyHideBtn:"source-client-source-Tree-Tree-HierarchyHideBtn-16VQv",HierarchyLockBtn:"source-client-source-Tree-Tree-HierarchyLockBtn-3Oca9",HierarchyHideBtnHidden:"source-client-source-Tree-Tree-HierarchyHideBtnHidden-NkrVK",HierarchyLockBtnHidden:"source-client-source-Tree-Tree-HierarchyLockBtnHidden-e28-K",TreeIcon:"source-client-source-Tree-Tree-TreeIcon-Wy1yL",TreeIconBG:"source-client-source-Tree-Tree-TreeIconBG-1xNT9",AssetIconBG:"source-client-source-Tree-Tree-AssetIconBG-1F6PU",ThumbDecor:"source-client-source-Tree-Tree-ThumbDecor-3WnkQ",PsdDecor:"source-client-source-Tree-Tree-PsdDecor-3Y3wz"}},157:function(e,t,n){(t=e.exports=n(13)(!1)).push([e.i,".source-client-source-Tree-DarkTree-Line-1hSbD, .source-client-source-Tree-DarkTree-PropertyLine-VuzsF, .source-client-source-Tree-DarkTree-ConnectorLine-PdRdk, .source-client-source-Tree-DarkTree-IconConnectorLine-1Qr1F, .source-client-source-Tree-DarkTree-IconPropertyConnectorLine-s0yJh {\n  position: absolute;\n  width: 1px;\n  background: #fff;\n  opacity: .08;\n  top: 0;\n  bottom: 0;\n  -ms-flex-negative: 0;\n      flex-shrink: 0; }\n\n.source-client-source-Tree-DarkTree-PropertyLine-VuzsF {\n  bottom: 1px;\n  background: none;\n  border-left: dashed 1px #fff;\n  opacity: .08; }\n\n.source-client-source-Tree-DarkTree-IconPropertyConnectorLine-s0yJh {\n  background: none;\n  bottom: 1px;\n  border-left: dashed 1px #fff; }\n\n.source-client-source-Tree-DarkTree-ConnectorLine-PdRdk {\n  left: 6px; }\n\n.source-client-source-Tree-DarkTree-HorizontalLine-3vN7X, .source-client-source-Tree-DarkTree-HorizontalPropertyLine-I_HN2 {\n  height: 1px;\n  width: 13px;\n  background: #fff;\n  margin-left: 7px;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  opacity: .08; }\n\n.source-client-source-Tree-DarkTree-HorizontalPropertyLine-I_HN2 {\n  background: none;\n  border-bottom: dashed 1px #fff; }\n\n.source-client-source-Tree-DarkTree-Item-2mShl {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: 100%;\n  font-size: 12.5px;\n  font-weight: 400;\n  color: #fff;\n  margin-right: 10px;\n  padding-left: 20px; }\n\n.source-client-source-Tree-DarkTree-ItemContentWrapper-1A0br {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  height: 100%;\n  border-top: 2px solid rgba(255, 255, 255, 0);\n  border-bottom: 2px solid rgba(255, 255, 255, 0);\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  min-width: 0;\n  position: relative; }\n\n.source-client-source-Tree-DarkTree-ItemContent-1-8zE {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: calc(100% + 2px);\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  margin-right: 5px;\n  min-width: 0;\n  padding-left: 5px; }\n\n.source-client-source-Tree-DarkTree-Selected-3sybx {\n  color: #fff;\n  background: #57A5E0;\n  border-radius: 5px;\n  -webkit-box-shadow: 0px 6px 15px rgba(0, 88, 166, 0.14);\n          box-shadow: 0px 6px 15px rgba(0, 88, 166, 0.14);\n  z-index: 2; }\n\n.source-client-source-Tree-DarkTree-Selected-3sybx svg {\n  fill: #fff; }\n\n.source-client-source-Tree-DarkTree-Selected-3sybx div {\n  font-weight: 400; }\n\n.source-client-source-Tree-DarkTree-Hovered-3pja_ {\n  color: #57A5E0;\n  background: rgba(87, 165, 224, 0.1);\n  border-radius: 5px; }\n\n.source-client-source-Tree-DarkTree-Hovered-3pja_ svg {\n  fill: #57A5E0; }\n\n.source-client-source-Tree-DarkTree-DropTarget-3t2te, .source-client-source-Tree-DarkTree-DropTargetParent-31bFG {\n  border: 2px solid #57A5E0;\n  border-radius: 5px;\n  padding-left: 3px;\n  height: calc(100% - 2px); }\n\n.source-client-source-Tree-DarkTree-DropTargetParent-31bFG {\n  border: 2px dashed #57A5E0; }\n\n.source-client-source-Tree-DarkTree-DropDisabled-3vidC {\n  opacity: 0.3; }\n\n.source-client-source-Tree-DarkTree-DropAbove-z51jY,\n.source-client-source-Tree-DarkTree-DropBelow-1tJnM {\n  height: 2px;\n  position: absolute;\n  background: #57A5E0;\n  left: -13px;\n  right: 0;\n  top: -1px; }\n\n.source-client-source-Tree-DarkTree-DropBelow-1tJnM {\n  top: initial;\n  bottom: -1px; }\n\n.source-client-source-Tree-DarkTree-SelectionMarker-3MMct {\n  position: absolute;\n  top: 0;\n  left: -3px;\n  right: 0;\n  bottom: 0;\n  padding: 0 10px;\n  background: #57A5E0;\n  border-radius: 5px;\n  -webkit-box-shadow: 0px 6px 15px rgba(0, 88, 166, 0.14);\n          box-shadow: 0px 6px 15px rgba(0, 88, 166, 0.14); }\n\n.source-client-source-Tree-DarkTree-ItemName-Tg-b2 {\n  z-index: 2;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  position: relative;\n  opacity: .5; }\n\n.source-client-source-Tree-DarkTree-Hidden-39jly .source-client-source-Tree-DarkTree-ItemName-Tg-b2 {\n  opacity: .2; }\n\n.source-client-source-Tree-DarkTree-ItemName-Tg-b2 input {\n  color: white;\n  display: block;\n  border: 0;\n  outline: none;\n  -webkit-transition: border 0.1s ease-in-out, color 0.1s ease-in-out;\n  transition: border 0.1s ease-in-out, color 0.1s ease-in-out;\n  background: none;\n  text-overflow: ellipsis;\n  padding: 0;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1; }\n\n.source-client-source-Tree-DarkTree-Selected-3sybx .source-client-source-Tree-DarkTree-ItemName-Tg-b2 input {\n  color: white; }\n\n.source-client-source-Tree-DarkTree-Expander-mq_CV, .source-client-source-Tree-DarkTree-Toggle-mApI- {\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  height: 15px;\n  width: 15px;\n  margin-right: 5px;\n  border-radius: 15px;\n  position: relative;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  -webkit-transition: opacity 0.1s ease-in-out, border 0.1s ease-in-out;\n  transition: opacity 0.1s ease-in-out, border 0.1s ease-in-out; }\n\n.source-client-source-Tree-DarkTree-Toggle-mApI- {\n  margin-left: 5px; }\n\n.source-client-source-Tree-DarkTree-Toggle-mApI- div {\n  width: 5px;\n  height: 5px;\n  border-radius: 100%;\n  background: #888;\n  margin: 4px auto;\n  -webkit-transition: opacity 0.1s ease-in-out;\n  transition: opacity 0.1s ease-in-out; }\n\n.source-client-source-Tree-DarkTree-ExpandArrow-2wK33 {\n  width: 5px;\n  height: 5px;\n  position: absolute;\n  margin-left: 4px;\n  margin-top: 4px;\n  fill: #fff;\n  opacity: .5;\n  -webkit-transition: margin-top 0.1s ease-in-out, opacity 0.1s ease-in-out, -webkit-transform 0.1s ease-in-out;\n  transition: margin-top 0.1s ease-in-out, opacity 0.1s ease-in-out, -webkit-transform 0.1s ease-in-out;\n  transition: transform 0.1s ease-in-out, margin-top 0.1s ease-in-out, opacity 0.1s ease-in-out;\n  transition: transform 0.1s ease-in-out, margin-top 0.1s ease-in-out, opacity 0.1s ease-in-out, -webkit-transform 0.1s ease-in-out; }\n\n.source-client-source-Tree-DarkTree-Expander-mq_CV:hover, .source-client-source-Tree-DarkTree-Toggle-mApI-:hover {\n  border: 1px solid rgba(255, 255, 255, 0.25); }\n\n.source-client-source-Tree-DarkTree-Expander-mq_CV:hover .source-client-source-Tree-DarkTree-ExpandArrow-2wK33 {\n  opacity: 1; }\n\n.source-client-source-Tree-DarkTree-IconContainer-3O6QF {\n  /*border: 1px solid #CCC;*/\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  margin-right: 5px;\n  position: relative; }\n\n.source-client-source-Tree-DarkTree-HierarchyHideBtn-3nSL3 {\n  width: 21px;\n  height: 17px;\n  margin-top: -3px;\n  margin-bottom: -2px;\n  margin-left: 5px;\n  margin-right: 5px;\n  opacity: 0.4;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  fill: #fff; }\n\n.source-client-source-Tree-DarkTree-HierarchyLockBtn-3pNHR {\n  width: 16px;\n  height: 14px;\n  margin-left: 5px;\n  opacity: 0.2;\n  fill: #fff;\n  -ms-flex-negative: 0;\n      flex-shrink: 0; }\n\n.source-client-source-Tree-DarkTree-HierarchyHideBtnHidden-26lST,\n.source-client-source-Tree-DarkTree-HierarchyLockBtnHidden-2nFmL {\n  opacity: 0.2; }\n\n.source-client-source-Tree-DarkTree-Hovered-3pja_ .source-client-source-Tree-DarkTree-HierarchyHideBtnHidden-26lST,\n.source-client-source-Tree-DarkTree-Hovered-3pja_ .source-client-source-Tree-DarkTree-HierarchyHideBtn-3nSL3,\n.source-client-source-Tree-DarkTree-Hovered-3pja_ .source-client-source-Tree-DarkTree-HierarchyLockBtnHidden-2nFmL,\n.source-client-source-Tree-DarkTree-Hovered-3pja_ .source-client-source-Tree-DarkTree-HierarchyLockBtn-3pNHR,\n.source-client-source-Tree-DarkTree-Selected-3sybx .source-client-source-Tree-DarkTree-HierarchyHideBtnHidden-26lST,\n.source-client-source-Tree-DarkTree-Selected-3sybx .source-client-source-Tree-DarkTree-HierarchyHideBtn-3nSL3,\n.source-client-source-Tree-DarkTree-Selected-3sybx .source-client-source-Tree-DarkTree-HierarchyLockBtnHidden-2nFmL,\n.source-client-source-Tree-DarkTree-Selected-3sybx .source-client-source-Tree-DarkTree-HierarchyLockBtn-3pNHR {\n  opacity: 0.7; }\n\n.source-client-source-Tree-DarkTree-Hovered-3pja_ .source-client-source-Tree-DarkTree-HierarchyHideBtnHidden-26lST:hover,\n.source-client-source-Tree-DarkTree-Hovered-3pja_ .source-client-source-Tree-DarkTree-HierarchyHideBtn-3nSL3:hover,\n.source-client-source-Tree-DarkTree-Hovered-3pja_ .source-client-source-Tree-DarkTree-HierarchyLockBtnHidden-2nFmL:hover,\n.source-client-source-Tree-DarkTree-Hovered-3pja_ .source-client-source-Tree-DarkTree-HierarchyLockBtn-3pNHR:hover,\n.source-client-source-Tree-DarkTree-Selected-3sybx .source-client-source-Tree-DarkTree-HierarchyHideBtnHidden-26lST:hover,\n.source-client-source-Tree-DarkTree-Selected-3sybx .source-client-source-Tree-DarkTree-HierarchyHideBtn-3nSL3:hover,\n.source-client-source-Tree-DarkTree-Selected-3sybx .source-client-source-Tree-DarkTree-HierarchyLockBtnHidden-2nFmL:hover,\n.source-client-source-Tree-DarkTree-Selected-3sybx .source-client-source-Tree-DarkTree-HierarchyLockBtn-3pNHR:hover {\n  opacity: 1; }\n\n.source-client-source-Tree-DarkTree-TreeIcon-AZ8ue {\n  fill: #fff;\n  -webkit-transition: fill .1s ease-in-out;\n  transition: fill .1s ease-in-out;\n  margin-right: 5px;\n  width: 15px;\n  height: 15px;\n  position: relative;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  opacity: .4; }\n\n.source-client-source-Tree-DarkTree-Hovered-3pja_ .source-client-source-Tree-DarkTree-TreeIcon-AZ8ue,\n.source-client-source-Tree-DarkTree-Hovered-3pja_ .source-client-source-Tree-DarkTree-ItemName-Tg-b2 {\n  fill: #57A5E0;\n  opacity: 1; }\n\n.source-client-source-Tree-DarkTree-Selected-3sybx .source-client-source-Tree-DarkTree-TreeIcon-AZ8ue,\n.source-client-source-Tree-DarkTree-Selected-3sybx .source-client-source-Tree-DarkTree-ItemName-Tg-b2 {\n  opacity: 1; }\n\n.source-client-source-Tree-DarkTree-Hidden-39jly .source-client-source-Tree-DarkTree-TreeIcon-AZ8ue {\n  opacity: .2; }\n\n.source-client-source-Tree-DarkTree-TreeIcon-AZ8ue svg {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(calc(-50% - 0.5px), calc(-50% - 0.5px));\n      -ms-transform: translate(calc(-50% - 0.5px), calc(-50% - 0.5px));\n          transform: translate(calc(-50% - 0.5px), calc(-50% - 0.5px)); }\n\n.source-client-source-Tree-DarkTree-TreeIconBG-1F2xl, .source-client-source-Tree-DarkTree-AssetIconBG-zjOWT {\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  background-color: rgba(255, 255, 255, 0.06);\n  border-radius: 3px;\n  opacity: 1; }\n\n.source-client-source-Tree-DarkTree-AssetIconBG-zjOWT {\n  width: 40px;\n  height: 30px; }\n\n/*\n\nThis won't work in Edge, so not using for now\n\n.HasDecor\n{\n\t//Clips the tumbnail so we don't have to give ThumbDecor a background color to fake transparency.\n\n\tclip-path: polygon(0px 0px, 0px 30px, 40px 30px, 40px 0px, 0px 0px, 20px 20px, 40px 20px, 40px 30px, 20px 30px, 20px 20px);\n}\n*/\n.source-client-source-Tree-DarkTree-ThumbDecor-3BEG_ {\n  position: absolute;\n  bottom: 0;\n  right: -1px;\n  background: #313131;\n  padding: 3px 0 0 3px;\n  line-height: 0;\n  border-radius: 3px 0 3px 0; }\n\n.source-client-source-Tree-DarkTree-ThumbDecor-3BEG_ svg {\n  fill: #666;\n  position: initial;\n  left: initial;\n  top: initial;\n  -webkit-transform: none;\n      -ms-transform: none;\n          transform: none; }\n\n.source-client-source-Tree-DarkTree-PsdDecor-3AtJ0 {\n  width: 17px;\n  height: 7px; }\n\n.source-client-source-Tree-DarkTree-Hovered-3pja_ .source-client-source-Tree-DarkTree-ThumbDecor-3BEG_ {\n  background: #353D43; }\n\n.source-client-source-Tree-DarkTree-Selected-3sybx .source-client-source-Tree-DarkTree-ThumbDecor-3BEG_ {\n  background: #57A5E0; }\n\n.source-client-source-Tree-DarkTree-Selected-3sybx .source-client-source-Tree-DarkTree-ThumbDecor-3BEG_ svg {\n  fill: #555; }\n",""]),t.locals={expanderSize:"15px",dragOpacity:"0.3",Line:"source-client-source-Tree-DarkTree-Line-1hSbD",PropertyLine:"source-client-source-Tree-DarkTree-PropertyLine-VuzsF",ConnectorLine:"source-client-source-Tree-DarkTree-ConnectorLine-PdRdk",IconConnectorLine:"source-client-source-Tree-DarkTree-IconConnectorLine-1Qr1F",IconPropertyConnectorLine:"source-client-source-Tree-DarkTree-IconPropertyConnectorLine-s0yJh",HorizontalLine:"source-client-source-Tree-DarkTree-HorizontalLine-3vN7X",HorizontalPropertyLine:"source-client-source-Tree-DarkTree-HorizontalPropertyLine-I_HN2",Item:"source-client-source-Tree-DarkTree-Item-2mShl",ItemContentWrapper:"source-client-source-Tree-DarkTree-ItemContentWrapper-1A0br",ItemContent:"source-client-source-Tree-DarkTree-ItemContent-1-8zE",Selected:"source-client-source-Tree-DarkTree-Selected-3sybx",Hovered:"source-client-source-Tree-DarkTree-Hovered-3pja_",DropTarget:"source-client-source-Tree-DarkTree-DropTarget-3t2te",DropTargetParent:"source-client-source-Tree-DarkTree-DropTargetParent-31bFG",DropDisabled:"source-client-source-Tree-DarkTree-DropDisabled-3vidC",DropAbove:"source-client-source-Tree-DarkTree-DropAbove-z51jY",DropBelow:"source-client-source-Tree-DarkTree-DropBelow-1tJnM",SelectionMarker:"source-client-source-Tree-DarkTree-SelectionMarker-3MMct",ItemName:"source-client-source-Tree-DarkTree-ItemName-Tg-b2",Hidden:"source-client-source-Tree-DarkTree-Hidden-39jly",Expander:"source-client-source-Tree-DarkTree-Expander-mq_CV",Toggle:"source-client-source-Tree-DarkTree-Toggle-mApI-",ExpandArrow:"source-client-source-Tree-DarkTree-ExpandArrow-2wK33",IconContainer:"source-client-source-Tree-DarkTree-IconContainer-3O6QF",HierarchyHideBtn:"source-client-source-Tree-DarkTree-HierarchyHideBtn-3nSL3",HierarchyLockBtn:"source-client-source-Tree-DarkTree-HierarchyLockBtn-3pNHR",HierarchyHideBtnHidden:"source-client-source-Tree-DarkTree-HierarchyHideBtnHidden-26lST",HierarchyLockBtnHidden:"source-client-source-Tree-DarkTree-HierarchyLockBtnHidden-2nFmL",TreeIcon:"source-client-source-Tree-DarkTree-TreeIcon-AZ8ue",TreeIconBG:"source-client-source-Tree-DarkTree-TreeIconBG-1F2xl",AssetIconBG:"source-client-source-Tree-DarkTree-AssetIconBG-zjOWT",ThumbDecor:"source-client-source-Tree-DarkTree-ThumbDecor-3BEG_",PsdDecor:"source-client-source-Tree-DarkTree-PsdDecor-3AtJ0"}},158:function(e,t,n){"use strict";n.d(t,"a",function(){return s});const i=new Map,o=[],r=new Map;class s{constructor(e,t,n){this._LegibleID=t,this._Label=n,this._ID=e,i.set(n,this),o.push(this),r.set(e,this)}get id(){return this._ID}get label(){return this._Label}get legibleID(){return this._LegibleID}toString(){return this._LegibleID}static fromString(e){return i.get(e)||s.SrcOver}static fromID(e){return r.get(e)}static get all(){return o}static setCanvasKit(e){const t=e.BlendMode;s.Clear.sk=t.Clear,s.Src.sk=t.Src,s.Dst.sk=t.Dst,s.SrcOver.sk=t.SrcOver,s.DstOver.sk=t.DstOver,s.SrcIn.sk=t.SrcIn,s.DstIn.sk=t.DstIn,s.SrcOut.sk=t.SrcOut,s.DstOut.sk=t.DstOut,s.SrcATop.sk=t.SrcATop,s.DstATop.sk=t.DstATop,s.Xor.sk=t.Xor,s.Plus.sk=t.Plus,s.Modulate.sk=t.Modulate,s.Screen.sk=t.Screen,s.Overlay.sk=t.Overlay,s.Darken.sk=t.Darken,s.Lighten.sk=t.Lighten,s.ColorDodge.sk=t.ColorDodge,s.ColorBurn.sk=t.ColorBurn,s.HardLight.sk=t.HardLight,s.SoftLight.sk=t.SoftLight,s.Difference.sk=t.Difference,s.Exclusion.sk=t.Exclusion,s.Multiply.sk=t.Multiply,s.Hue.sk=t.Hue,s.Saturation.sk=t.Saturation,s.Color.sk=t.Color,s.Luminosity.sk=t.Luminosity}}s.Clear=new s(0,"clear","Clear"),s.Src=new s(1,"src","Src"),s.Dst=new s(2,"dst","Dst"),s.SrcOver=new s(3,"srcOver","Src Over"),s.DstOver=new s(4,"dstOver","Dst Over"),s.SrcIn=new s(5,"srcIn","Src In"),s.DstIn=new s(6,"dstIn","Dst In"),s.SrcOut=new s(7,"srcOut","Src Out"),s.DstOut=new s(8,"dstOut","Dst Out"),s.SrcATop=new s(9,"srcATop","Src A Top"),s.DstATop=new s(10,"dstATop","Dst A Top"),s.Xor=new s(11,"xor","Xor"),s.Plus=new s(12,"plus","Plus"),s.Modulate=new s(13,"modulate","Modulate"),s.Screen=new s(14,"screen","Screen"),s.Overlay=new s(15,"overlay","Overlay"),s.Darken=new s(16,"darken","Darken"),s.Lighten=new s(17,"lighten","Lighten"),s.ColorDodge=new s(18,"colorDodge","Color Dodge"),s.ColorBurn=new s(19,"colorBurn","Color Burn"),s.HardLight=new s(20,"hardLight","Hard Light"),s.SoftLight=new s(21,"softLight","Soft Light"),s.Difference=new s(22,"difference","Difference"),s.Exclusion=new s(23,"exclusion","Exclusion"),s.Multiply=new s(24,"multiply","Multiply"),s.Hue=new s(25,"hue","Hue"),s.Saturation=new s(26,"saturation","Saturation"),s.Color=new s(27,"color","Color"),s.Luminosity=new s(28,"luminosity","Luminosity")},159:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{static get TransformDirty(){return 1}static get WorldTransformDirty(){return 2}static get PaintDirty(){return 4}}},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"==typeof navigator,o={isOSX:!i&&-1!==navigator.userAgent.indexOf("Mac OS X"),isChrome:!i&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),isWin:!i&&-1!==navigator.platform.indexOf("Win"),isNode:i,isMultiSelect:function(e){return o.isOSX&&e.metaKey||e.ctrlKey},isSearchAction:function(e){return(o.isOSX&&e.metaKey||e.ctrlKey)&&70===e.keyCode},isSubmitAction:function(e){return(o.isOSX&&e.metaKey||e.ctrlKey)&&13===e.keyCode},isDuplicateAction:function(e){return(o.isOSX&&e.metaKey||e.ctrlKey)&&74===e.keyCode},isAltPressed:function(e){return e.altKey||18==e.keyCode}};t.default=o},160:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{static get Butt(){return 0}static get Round(){return 1}static get Square(){return 2}}},161:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{static get Miter(){return 0}static get Round(){return 1}static get Bevel(){return 2}}},162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PLAN_CANCELED=t.PLAN_BEHIND=t.PLAN_ACTIVE=t.PLAN_MONTHLY=t.PLAN_YEARLY=t.PLAN_FREE=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(18),s=(i=r)&&i.__esModule?i:{default:i};window.__props.user;var a=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._Data=window.__props.user||null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"update",value:function(e,t){var n=this,i=new XMLHttpRequest,o="/api/me";e&&(o+="?card=true"),i.open("GET",o,!0),i.onload=function(){if(200===this.status){var e=null;try{e=JSON.parse(this.responseText)}catch(e){}e&&(n._Data=e,n.dispatch("updated"),t&&t())}},i.send()}},{key:"isSignedIn",get:function(){return this._Data&&this._Data.signedIn||!1}},{key:"signedIn",get:function(){return this._Data&&this._Data.signedIn||!1}},{key:"isPaid",get:function(){return this._Data&&this._Data.isPaid||!1}},{key:"currentPlan",get:function(){return this._Data&&this._Data.planType||null}},{key:"planStatus",get:function(){return this._Data&&this._Data.planStatus||null}},{key:"planExpires",get:function(){return this._Data&&this._Data.planExpires&&new Date(1e3*this._Data.planExpires)||null}},{key:"storedCard",get:function(){return this._Data&&this._Data.storedCard}},{key:"avatar",get:function(){return this._Data&&this._Data.avatar||null}},{key:"notice",get:function(){return this._Data&&this._Data.notice||null}},{key:"username",get:function(){return this._Data&&this._Data.username||null}},{key:"notificationCount",get:function(){return this._Data&&this._Data.notificationCount||null}},{key:"name",get:function(){return this._Data&&this._Data.name||null}},{key:"isAdmin",get:function(){return this._Data&&this._Data.isAdmin||null}}]),t}());t.default=a;t.PLAN_FREE="FREE",t.PLAN_YEARLY="YEARLY",t.PLAN_MONTHLY="MONTHLY",t.PLAN_ACTIVE="ACTIVE",t.PLAN_BEHIND="BEHIND",t.PLAN_CANCELED="CANCELED"},163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=d(n(2)),c=d(n(1)),u=d(n(174)),l=d(n(27)),h=d(n(29)),f=d(n(3));function d(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var _=(g((i=function(e){function t(e){v(this,t);var n=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.expandedItems=n.props.expandedItems||new Set,n.expandedItemsOverride=null,n.setStyle(e.style||(e.isDark?h.default:l.default)),n.state={flat:[],dropTarget:null,dropParent:null,scrollToIndex:-1},n}return b(t,c.default.Component),s(t,[{key:"setStyle",value:function(e){this.style=e,this.expanderSize=parseInt(e.expanderSize),this.dragOpacity=parseFloat(e.dragOpacity),this.indent=this.expanderSize+5,this.dragEdge=10}},{key:"overrideExpansion",value:function(e){if(e){var t=this.expandedItemsOverride=new Set,n=this.props.getChildren||function(e){return e.children},i=this.props.data;i&&i.constructor!==Array&&(i=n(i)),function i(o){for(var r=o.length,s=0;s<r;s++){var a=o[s],c=e(a);c&&t.add(a);var u=n(a);c&&u&&i(u)}}(i)}else this.expandedItemsOverride=null;this.flatten()}},{key:"show",value:function(e,t){if(e instanceof Array||(e=[e]),e.length){var n=this.expandedItems,i=e[e.length-1],o=!0,r=!1,s=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var u=a.value;t||n.add(u);for(var l=u.parent;!!l;l=l.parent)n.add(l)}}catch(e){r=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(r)throw s}}var h=this.flatten();if(h){var f=h.findIndex(function(e){return e.item===i});this.setState({scrollToIndex:f})}}}},{key:"flatten",value:function(e,t,n,i,o,r){if(!e&&this.state.isDragging)return this.queuedFlatten=!0,null;this.queuedFlatten=!1;var s={expanded:this.expandedItemsOverride||this.expandedItems,lastDepth:0},a=[];return t||(t=this.props.data),n||(n=this.props.spaceItem||function(){return 1}),i||(i=this.props.getChildren||function(e){return e.children}),o||(o=this.props.isProperty||null),r||(r=this.props.isDisabled||null),t&&t.constructor!==Array&&(t=i(t)),t&&function e(t,n,i,o,r,s,a,c,u,l){var h=o.length;o.push(r);var f=void 0;var d=void 0;if(c){f=[],d=[];var v=!0,w=!1,b=void 0;try{for(var g,_=n[Symbol.iterator]();!(v=(g=_.next()).done);v=!0){var k=g.value;c(k)?d.push(k):f.push(k)}}catch(e){w=!0,b=e}finally{try{!v&&_.return&&_.return()}finally{if(w)throw b}}for(var M=d.length,S=f.length,O=0;O<M;O++){var E=0===S?o:o.concat([1]),p=O===M-1,D=d[O],T={p:!0,parent:l||null,prev:t.prev,next:null,item:D,depth:new Int8Array(E),isLast:p,hasChildren:!1,isExpanded:!1,space:s(D),isDisabled:u&&u(D)||!1};t.prev&&(t.prev.next=T),t.prev=T,i.push(T)}}else f=n;var I=f.length;for(var C=0;C<I;C++){var y=C===I-1,L=f[C],N=t.expanded.has(L),A=a(L),m={parent:l||null,prev:t.prev,next:null,item:L,depth:new Int8Array(o),isLast:y,hasChildren:!(!A||!A.length),isExpanded:A&&A.length&&N||!1,space:s(L),isDisabled:u&&u(L)||!1};t.prev&&(t.prev.next=m),t.prev=m,i.push(m),N&&A&&(o[h]=r<0||y?-Math.abs(r):Math.abs(r),e(t,A,i,o.slice(0),m.space,s,a,c,u,m))}}(s,t,a,[],this.props.showFirstLine&&!0!==this.props.hideLines?1:-1,n,i,o,r),this.setState({flat:a}),a}},{key:"expandItem",value:function(e){var t=this.expandedItemsOverride||this.expandedItems;if(!t.has(e)){var n=(this.props.getChildren||function(e){return e.children})(e);n&&n.length&&(t.add(e),this.flatten(!0))}}},{key:"collapseItem",value:function(e){var t=this.expandedItemsOverride||this.expandedItems;t.has(e)&&(t.delete(e),this.flatten(!0))}},{key:"expand",value:function(e){var t=this.expandedItemsOverride||this.expandedItems;t.has(e)?t.delete(e):t.add(e),this.flatten(!0)}},{key:"setData",value:function(e){this.flatten(!1,e)}},{key:"componentWillReceiveProps",value:function(e){this.flatten(!1,e.data,e.spaceItem,e.getChildren,e.isProperty,e.isDisabled)}},{key:"componentWillMount",value:function(){this.flatten()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.drag,!0),window.removeEventListener("mouseup",this.stopDrag,!0)}},{key:"getRangeItems",value:function(e,t){var n=this.state.flat,i=n.findIndex(function(t){return-1!==e.indexOf(t.item)}),o=n.findIndex(function(e){return e.item===t});if(-1===o)return null;if(-1===i)return[t];if(i>o){var r=o;o=i,i=r}return n.slice(i,o+1).map(function(e){return e.item})}},{key:"drag",value:function(e){var t=this.ghost;if(t){var n=t.getBoundingClientRect();t.style.left=Math.round(e.clientX-n.width/2)+"px",t.style.top=Math.round(e.clientY-n.height/2)+"px"}}},{key:"stopDrag",value:function(){var e=this.dragItem,t=this.ghost;t&&(this.props.destroyDragGhost&&this.props.destroyDragGhost(e.item),document.body.removeChild(t)),this.ghost=null,this.dragItem=null,window.removeEventListener("mousemove",this.drag,!0),window.removeEventListener("mouseup",this.stopDrag,!0);var n=e?e.item:null;if(this.externalDragItem&&(n=this.externalDragItem,this.externalDragItem=null),this.dragTarget=null,e){var i=!0,o=!1,r=void 0;try{for(var s,a=this.state.flat[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var c=s.value;c.dragDepth&&delete c.dragDepth}}catch(e){o=!0,r=e}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}}var u=this.state,l=u.dropParent,h=u.dropTarget,f=u.dropId,d=this;if(this.setState(function(){return{isDragging:!1,dropTarget:null,dropParent:null}},function(){d.queuedFlatten&&d.flatten()}),null!==l||null!==h){var v=this.props.getChildren||function(e){return e.children},w=void 0;l?w=v(l.item):(w=this.props.data)&&w.constructor!==Array&&(w=v(w));var b=0;if(h&&(b=w.indexOf(h.item),1===f&&b++),n)(!l||!l.dragDepth)&&(!this.props.allowDrop||this.props.allowDrop(n,l&&l.item||null,b,f))&&this.props.drop&&this.props.drop(n,l&&l.item||null,b)}}},{key:"dragKeyDown",value:function(e){switch(e.keyCode){case 27:this.stopDrag()}}},{key:"dragExternalItem",value:function(e){this.externalDragItem=e,window.addEventListener("mouseup",this.stopDrag,!0),window.addEventListener("keydown",this.dragKeyDown,!0),this.setState({isDragging:!0})}},{key:"handoffDrag",value:function(e){var t=e.dragItem&&e.dragItem.item||e.externalDragItem;if(t)return this.dragItem&&this.dragItem.item===t?(this.externalDragItem=null,void e.haltDrag()):void(this.externalDragItem||(e.haltDrag(),this.externalDragItem=t,window.addEventListener("mouseup",this.stopDrag,!0),window.addEventListener("keydown",this.dragKeyDown,!0),this.setState({isDragging:!0})))}},{key:"haltDrag",value:function(){this.externalDragItem&&(this.externalDragItem=null,window.removeEventListener("mouseup",this.stopDrag,!0),window.removeEventListener("keydown",this.dragKeyDown,!0)),this.setState({dropParent:null,dropTarget:null,dropId:0})}},{key:"onStartDrag",value:function(e,t){var n=this,i=this.state.flat;this.setState(function(){return{isDragging:!0}},function(){var o=i[t];if(!n.props.allowDrag||n.props.allowDrag(o.item)){window.addEventListener("mousemove",n.drag,!0),window.addEventListener("mouseup",n.stopDrag,!0),window.addEventListener("keydown",n.dragKeyDown,!0);var r=n.props.makeDragGhost&&n.props.makeDragGhost(o.item,e),s=r.constructor===Object&&r.ghost||r;s&&document.body.appendChild(s),n.dragItem=o,n.ghost=s,n.drag(e);var a=o.depth&&o.depth.length||0;if(o.dragDepth=a,r.constructor===Object){var c=r.items,u=function(e){var t=i.find(function(t){return t.item===e});t&&(t.dragDepth=t.depth.length)},l=!0,h=!1,f=void 0;try{for(var d,v=c[Symbol.iterator]();!(l=(d=v.next()).done);l=!0){u(d.value)}}catch(e){h=!0,f=e}finally{try{!l&&v.return&&v.return()}finally{if(h)throw f}}}for(var w=o.next;null!==w;w=w.next){for(var b=w.parent;null!==b;){if(b===o){w.dragDepth=a;break}b=b.parent}if(null===b)break}}})}},{key:"updateDragTarget",value:function(e){clearTimeout(this.cancelDropTimeout);var t=this.dragTarget;if(t){var n=this.dragItem,i=n?n.item:this.externalDragItem;if(i){var o=null,r=null,s=-1,a=e.currentTarget.getBoundingClientRect(),c=e.clientY-a.top;c<this.dragEdge?(o=t.parent,r=t,s=-1):c>a.height-this.dragEdge?t.next&&t.next.parent===t?(o=t,r=t.next,s=-1):(o=t.parent,r=t,s=1):(o=t,r=null,s=0);var u=this.props.getChildren||function(e){return e.children},l=void 0;o?l=u(o.item):(l=this.props.data)&&l.constructor!==Array&&(l=u(l));var h=0;r&&(h=l.indexOf(r.item),1===s&&h++),(!o||!(o.p||o.dragDepth||r&&r.p))&&(!this.props.allowDrop||this.props.allowDrop(i,o&&o.item||null,h,s))?this.setState({dropParent:o,dropTarget:r,dropId:s}):this.setState({dropParent:null,dropTarget:null,dropId:0})}}}},{key:"onItemMouseMove",value:function(e,t){this.updateDragTarget(e)}},{key:"onItemMouseLeave",value:function(e,t){var n=this,i=this.state.flat[t];this.dragTarget===i&&(this.dragTarget=null,this.props.onItemMouseLeave&&this.props.onItemMouseLeave(e),this.cancelDropTimeout=setTimeout(function(){n.setState({dropParent:null,dropTarget:null,dropId:0})},100))}},{key:"onItemMouseEnter",value:function(e,t){if(this.ghost||this.externalDragItem){var n=this.state.flat[t];this.dragTarget=n,this.updateDragTarget(e)}}},{key:"componentDidUpdate",value:function(){-1!==this.state.scrollToIndex&&this.setState({scrollToIndex:-1})}},{key:"mouseEnter",value:function(e){this.props.onMouseEnter&&this.props.onMouseEnter(e)}},{key:"mouseLeave",value:function(e){(this.externalDragItem||this.dragItem)&&this.setState({dropParent:null,dropTarget:null,dropId:0}),this.props.onMouseLeave&&this.props.onMouseLeave(e)}},{key:"render",value:function(){var e=this.state,n=e.flat,i=e.dropTarget,o=e.dropParent,s=e.dropId,a=e.isDragging,l=e.scrollToIndex,h=this.expand,f=this.props,d=f.renderItem,v=f.rowHeight,w=f.height,b=f.iconWidth,g=f.iconHeight,_=f.hideFirstHorizontalLine,M=this,S={};return-1!==l&&(S.scrollToIndex=l),c.default.createElement(u.default,r({onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave},S,{width:"100%",height:w,itemCount:n.length,itemSize:v,renderItem:function(e){var r=e.style,u=e.index,l=n[u],f=l.depth,w=l.item,S=l.isLast,O=l.isExpanded,E=l.space,p=l.dragDepth,D=l.hasChildren,T=l.p,I=l.isDisabled,C=255,y=255,L=l.next&&l.next.p||!1,N=l.next&&l.next.depth||[];return p&&(l.prev&&(y=l.prev.dragDepth),l.next&&(C=l.next.dragDepth)),c.default.createElement(k,{isDisabled:I,isProperty:T,isNextProperty:L,nextDepth:N,isDragging:a,dragDepth:p||255,nextDragDepth:C,prevDragDepth:y,dropTargetState:p||I?t.DropDisabled:o===l?0===s?t.DropTarget:t.DropTargetParent:t.DropTargetNone,dropId:i===l&&s||0,tree:M,key:u,index:u,renderItem:d,space:E,iconWidth:b,iconHeight:g,rowHeight:v,item:w,depth:f,style:r,hasChildren:D,isExpanded:O,isLast:S,expand:h,hideFirstHorizontalLine:_})}}))}},{key:"draggingItem",get:function(){return this.dragItem&&this.dragItem.item||this.externalDragItem}}]),t}()).prototype,"expand",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"expand"),i.prototype),g(i.prototype,"drag",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"drag"),i.prototype),g(i.prototype,"stopDrag",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"stopDrag"),i.prototype),g(i.prototype,"dragKeyDown",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"dragKeyDown"),i.prototype),g(i.prototype,"mouseEnter",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"mouseEnter"),i.prototype),g(i.prototype,"mouseLeave",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"mouseLeave"),i.prototype),i);t.default=_;var k=(g((o=function(e){function t(){return v(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,c.default.Component),s(t,[{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"expand",value:function(){this.props.expand(this.props.item)}},{key:"accumulateDrag",value:function(e){var t=e.clientY-this.lastDragY;this.dragY+=t,this.lastDragY=e.clientY,Math.abs(this.dragY)>10&&(this.removeListeners(),this.props.tree.onStartDrag(e,this.props.index))}},{key:"removeListeners",value:function(){window.removeEventListener("mousemove",this.accumulateDrag,!0),window.removeEventListener("mousemove",this.drag,!0),window.removeEventListener("mouseup",this.stopDrag,!0)}},{key:"startDrag",value:function(e){this.lastDragY=e.clientY,this.dragY=0,window.addEventListener("mousemove",this.accumulateDrag,!0),window.addEventListener("mouseup",this.removeListeners,!0)}},{key:"mouseMove",value:function(e){this.props.tree.onItemMouseMove(e,this.props.index)}},{key:"mouseLeave",value:function(e){this.props.tree.onItemMouseLeave(e,this.props.index)}},{key:"mouseEnter",value:function(e){this.props.tree.onItemMouseEnter(e,this.props.index)}},{key:"render",value:function(){var e=this.props,t=e.hasChildren,n=e.isDisabled,i=e.isProperty,o=e.isNextProperty,r=e.nextDepth,s=e.isExpanded,a=e.isLast,u=e.item,l=e.depth,h=e.style,d=e.index,v=e.rowHeight,w=e.iconHeight,b=e.renderItem,g=e.space,_=e.isDragging,k=e.dropTargetState,S=e.dropId,O=e.dragDepth,E=e.nextDragDepth,p=e.prevDragDepth,D=e.tree,T=[],I=l.length,C=t?I-1:I,y=!t&&a;C--;for(var L=27,N=D.style,A=D.expanderSize,m=D.dragOpacity,U=D.expanderSize+10,j=!0!==D.props.hideLines,H=0;H<C;H++){var V=l[H];if(L+=U*(Math.abs(V)-1),V>0){var B={left:M(L)};(H>=O||n)&&(B.opacity=m),T.push(c.default.createElement("div",{key:H,className:N.Line,style:B}))}L+=U}var x=l[C];if(x>0&&(0!==d||!a)){var z=!t&&i?N.PropertyLine:N.Line;x>1&&(L+=(x-1)*U);var W={bottom:y?"50%":null,left:M(L)};0===d&&(W.top="50%",W.bottom="0"),(C>=O||n)&&(W.opacity=m),T.push(c.default.createElement("div",{className:z,key:C,style:W}))}var P=-1!==l[l.length-1],G=-1,K=!0,F=!1,Q=void 0;try{for(var Y,Z=l[Symbol.iterator]();!(K=(Y=Z.next()).done);K=!0){var $=Y.value;G+=Math.abs($)}}catch(e){F=!0,Q=e}finally{try{!K&&Z.return&&Z.return()}finally{if(F)throw Q}}var J=C+2>=O,X=J||n?m:null,q=J&&void 0!==p?m:null,R=C+1>=O&&void 0!==E?m:null,ee=i?N.HorizontalPropertyLine:N.HorizontalLine;return c.default.createElement("div",{style:h,onMouseDown:this.startDrag,onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave,onMouseMove:this.mouseMove},c.default.createElement("div",{className:N.Item,style:{marginLeft:G*U+"px"}},t?c.default.createElement("div",{className:N.Expander,onClick:this.expand},c.default.createElement("svg",{ref:this.setExpansionIcon,className:N.ExpandArrow,style:{transform:s?null:"rotate(-90deg)",marginTop:s?"5px":null,opacity:X}},c.default.createElement("use",{xlinkHref:f.default.make("/images/symbol-defs.svg#icon-arrow")})),j&&P&&0!==d?c.default.createElement("div",{className:N.ConnectorLine,style:{height:M((v-A)/2),top:M(-(v-A)/2-1),bottom:"initial",opacity:q}}):null,j&&P&&!a?c.default.createElement("div",{className:N.ConnectorLine,style:{height:M((v-A)/2),top:M(A-1),bottom:"initial",opacity:R}}):null):this.props.hideFirstHorizontalLine&&1===l.length&&-1===l[0]?null:c.default.createElement("div",{className:ee,style:{background:P&&j?null:"initial",opacity:X}}),s&&j?c.default.createElement("div",{className:o&&r.length-l.length==1?N.IconPropertyConnectorLine:N.IconConnectorLine,style:{marginLeft:M(Math.floor(g*U+7)),top:M(v/2+w/2),opacity:X}}):null,b(u,_,k),j?T:null,0!==S?c.default.createElement("div",{className:S<0?N.DropAbove:N.DropBelow,style:{marginLeft:(G+2)*U+"px"}}):null))}}]),t}()).prototype,"expand",[a.default],Object.getOwnPropertyDescriptor(o.prototype,"expand"),o.prototype),g(o.prototype,"accumulateDrag",[a.default],Object.getOwnPropertyDescriptor(o.prototype,"accumulateDrag"),o.prototype),g(o.prototype,"removeListeners",[a.default],Object.getOwnPropertyDescriptor(o.prototype,"removeListeners"),o.prototype),g(o.prototype,"startDrag",[a.default],Object.getOwnPropertyDescriptor(o.prototype,"startDrag"),o.prototype),g(o.prototype,"mouseMove",[a.default],Object.getOwnPropertyDescriptor(o.prototype,"mouseMove"),o.prototype),g(o.prototype,"mouseLeave",[a.default],Object.getOwnPropertyDescriptor(o.prototype,"mouseLeave"),o.prototype),g(o.prototype,"mouseEnter",[a.default],Object.getOwnPropertyDescriptor(o.prototype,"mouseEnter"),o.prototype),o);function M(e){return e+"px"}_.DropTargetNone=0,_.DropTargetParent=1,_.DropTarget=2,_.DropDisabled=3},164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=r(n(1));r(n(3));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"render",value:function(){return o.default.createElement("div",{className:this.props.addClass?"ModalWrapper "+this.props.addClass:"ModalWrapper",onContextMenu:this.props.onContextMenu,style:{pointerEvents:this.props.isOpen?"all":"none",padding:this.props.isMaximized?"0":null}},o.default.createElement("div",{className:"ModalOverlay",style:{opacity:this.props.isOpen?1:0},onClick:this.props.onClose}),o.default.createElement("div",{className:(this.props.isMaximized?"Modal ModalMaximized":"Modal")+(this.props.modalClass?" "+this.props.modalClass:""),style:{animation:this.props.isOpen?"bounceModalIn .4s ease-in-out 0s both":this.props.isClosing?"bounceModalOut .25s ease-in 0s both":null}},o.default.createElement("div",{className:"ModalCloseBtn",onClick:this.props.onClose},o.default.createElement("div",{className:"ModalCloseIcon"},o.default.createElement("div",null),o.default.createElement("div",null))),this.props.showMaximize?o.default.createElement("div",{className:"ModalMaxBtn",onClick:this.props.onMaximize},o.default.createElement("div",{className:"ModalMaxIcon"},o.default.createElement("div",null),o.default.createElement("div",null))):null,this.props.children))}}]),t}();t.default=s},167:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{constructor(){this.events={}}addEventListener(e,t){let n=this.events[e];n||(this.events[e]=n=[]),-1===n.indexOf(t)&&n.push(t)}removeEventListener(e,t){let n=this.events[e];if(!n)return!0;for(let e=0;e<n.length;e++)if(n[e]===t)return n.splice(e,1),!0;return!1}dispatch(e,t,n){let i=this.events[e];if(i)for(let e=0;e<i.length;e++)i[e].call(this,t,n)}}},17:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(169),r=(i=o)&&i.__esModule?i:{default:i};var s={init:function(e){s.rollbar=new r.default(e)},info:function(){console.info.apply(console,arguments),s.rollbar&&s.rollbar.options&&s.rollbar.options.enabled&&s.rollbar.info.apply(s.rollbar,arguments)},warn:function(){console.warn.apply(console,arguments),s.rollbar&&s.rollbar.options&&s.rollbar.options.enabled&&s.rollbar.warn.apply(s.rollbar,arguments)},debug:function(){console.debug.apply(console,arguments),s.rollbar&&s.rollbar.options&&s.rollbar.options.enabled&&s.rollbar.debug.apply(s.rollbar,arguments)},error:function(){console.error.apply(console,arguments),s.rollbar&&s.rollbar.options&&s.rollbar.options.enabled&&s.rollbar.error.apply(s.rollbar,arguments)}};t.default=s},171:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(18)),s=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var c,u,l,h,f,d,v=(i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.id=t.id,t.id++,n.title=e.title,n.link=e.link,n.blockClose=e.blockClose||!1,n.message=e.message,n.avatar=e.avatar,n.autoHideSeconds=e.autoHideSeconds||0,n.minimumDisplayMs=1e3*e.minimumDisplaySeconds||0,n.displayTimeout=null,n._hide=!1,n.buttons=e.buttons||null,n.license=e.license,n.customTitleRenderer=e.customTitleRenderer,n.type=e.type||t.Types.Default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"hide",value:function(e){if(clearTimeout(this.reHideTimeout),!e&&this.displayedTime){var t=Date.now()-this.displayedTime,n=this.minimumDisplayMs-t;if(n>0)return void(this.reHideTimeout=setTimeout(this.hide,n))}clearTimeout(this.displayTimeout),this._hide=!0,this.onHide&&this.onHide(),this.dispatch("hide")}},{key:"enableButton",value:function(e,t){this.buttons&&e<this.buttons.length&&(this.buttons[e].isDisabled=!t),this.dispatch("updateButtons")}},{key:"accentButton",value:function(e,t){this.buttons&&e<this.buttons.length&&(this.buttons[e].isAccent=t),this.dispatch("updateButtons")}},{key:"highlight",value:function(){this.flash=!0,this.dispatch("updateButtons")}}]),t}(),c=i.prototype,u="hide",l=[s.default],h=Object.getOwnPropertyDescriptor(i.prototype,"hide"),f=i.prototype,d={},Object.keys(h).forEach(function(e){d[e]=h[e]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce(function(e,t){return t(c,u,e)||e},d),f&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(f):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(c,u,d),d=null),i);t.default=v,v.id=0,v.Types={Default:0,Question:1,Event:2,State:3,Saving:4,Avatar:5,License:6}},172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n(1)),s=c(n(2)),a=c(n(3));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var l=(u((i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"click",value:function(e){this.props.onPress&&this.props.onPress(this.props.context,e)}},{key:"setKey",value:function(e){e.stopPropagation(),this.props.onSetKey&&this.props.onSetKey()}},{key:"render",value:function(){var e=void 0,t=this.props.addClass,n=void 0;switch(this.props.label){case"OK":e=r.default.createElement("svg",{className:"OkButtonIcon"},r.default.createElement("use",{xlinkHref:a.default.make("/images/symbol-defs.svg#icon-check-small")}));break;case"NEXT":e=r.default.createElement("svg",{className:"NextButtonIcon"},r.default.createElement("use",{xlinkHref:a.default.make("/images/symbol-defs.svg#icon-arrow-right")}));break;case"BACK":e=r.default.createElement("svg",{className:"NextButtonIcon"},r.default.createElement("use",{xlinkHref:a.default.make("/images/symbol-defs.svg#icon-arrow-left")}));break;case"x":e=r.default.createElement("svg",{className:"XButtonIcon"},r.default.createElement("use",{xlinkHref:a.default.make("/images/symbol-defs.svg#icon-close3")})),t="XButton";break;default:e=this.props.label}var i=void 0;i=1==this.props.disabled?"SelectionPanelButtonDisabled":this.props.accentBtn?"SelectionPanelButton SelectionPanelAccentButton":"SelectionPanelButton",t&&(i=i+" "+t),this.props.icon&&(n=r.default.createElement("svg",{className:"SelectionPanelButtonIcon"+(this.props.iconClass?" "+this.props.iconClass:"")},r.default.createElement("use",{xlinkHref:a.default.make("/images/symbol-defs.svg#"+this.props.icon)})),i+=" IconButton");var o=void 0;switch(this.props.keyState){default:case 0:o="SelectionPanelKey";break;case 1:o="SelectionPanelKeyChanged";break;case 2:o="SelectionPanelKeyed"}return r.default.createElement("div",{className:"SelectionPanelButtonWrapper"},r.default.createElement("div",{className:i,onClick:this.props.disabled?null:this.click},r.default.createElement("span",null,e),n||null),r.default.createElement("div",{className:o,onMouseDown:this.setKey,style:{display:this.props.isAnimating?null:"none"}},r.default.createElement("div",null)))}}]),t}()).prototype,"click",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"click"),i.prototype),u(i.prototype,"setKey",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"setKey"),i.prototype),i);t.default=l},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=new Map,this.removeLater=[],this.hold=null}return i(e,[{key:"holdEvents",value:function(e,t){this.hold||(this.hold=new Map);var n=this.hold.get(e);n?n.squash=!!t:(n={squash:!!t,list:[]},this.hold.set(e,n))}},{key:"releaseEvents",value:function(e){if(this.hold){var t=this.hold.get(e);if(t){this.hold.delete(e);var n=!0,i=!1,o=void 0;try{for(var r,s=t.list[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var a=r.value;this.dispatch(e,a.data,a.extraContext)}}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}}0===this.hold.size&&(this.hold=null)}}},{key:"addEventListener",value:function(e,t){if(!t){var n=new Error;console.log("ADDING BAD EVENT LISTENER",n.stack)}var i=this.events.get(e);i||this.events.set(e,i=[]),-1===i.indexOf(t)&&i.push(t)}},{key:"removeEventListener",value:function(e,t){if(!this.dispatchGuard){var n=this.events.get(e);if(!n)return!0;var i=n.indexOf(t);return-1!==i&&(n.splice(i,1),!0)}this.removeLater.push({event:e,callback:t})}},{key:"dispatch",value:function(e,t,n){var i=this.hold;if(i&&(i=i.get(e)))return i.squash&&(i.list.length=0),void i.list.push({data:t,extraContext:n});var o=this.events.get(e);if(o){this.dispatchGuard=!0;var r=!0,s=!1,a=void 0;try{for(var c,u=o[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){c.value.call(this,t,n)}}catch(e){s=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(s)throw a}}if(this.dispatchGuard=!1,this.removeLater.length){var l=!0,h=!1,f=void 0;try{for(var d,v=this.removeLater[Symbol.iterator]();!(l=(d=v.next()).done);l=!0){var w=d.value;this.removeEventListener(w.event,w.callback)}}catch(e){h=!0,f=e}finally{try{!l&&v.return&&v.return()}finally{if(h)throw f}}this.removeLater.length=0}}}}]),e}();t.default=o},186:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var i=n(21);class o extends i.default{constructor(){super(),this._Width=0,this._Height=0}get width(){return this._Width}get height(){return this._Height}makeInstance(e){let t=new o;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._Width=e._Width,this._Height=e._Height}}},187:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var i=n(21);class o extends i.default{constructor(){super(),this._Width=0,this._Height=0}get width(){return this._Width}get height(){return this._Height}makeInstance(e){let t=new o;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._Width=e._Width,this._Height=e._Height}}},188:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var i=n(21);class o extends i.default{constructor(){super(),this._Radius=0}get radius(){return this._Radius}makeInstance(e){let t=new o;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._Radius=e._Radius}}},189:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var i=n(21);class o extends i.default{constructor(){super(),this._ContourVertices=new Float32Array}get contourVertices(){return this._ContourVertices}makeInstance(e){let t=new o;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._ContourVertices=e._ContourVertices}}},19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=new Map;function o(e,t,n){if(!i.get(e)){var o=setTimeout(function(){i.delete(e),e(t)},n||10);i.set(e,{timeout:o})}}o.cancel=function(e){var t=i.get(e);t&&(i.delete(e),clearTimeout(t.timeout))}},190:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var i=n(21);class o extends i.default{constructor(){super(),this._Vertices=new Float32Array}get vertices(){return this._Vertices}makeInstance(e){let t=new o;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._Vertices=e._Vertices}}},191:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var i=n(167);class o extends i.a{constructor(e,t){super(),this._Actor=e,this._Animation=t,this._Time=0,this._Min=t._DisplayStart||0,this._Max=t._DisplayEnd||t._Duration,this._Loop=t._Loop,this._Range=this._Max-this._Min}get loop(){return this._Loop}set loop(e){this._Loop=e}get time(){return this._Time}get isOver(){return this._Time>=this._Max}set time(e){const t=e-this._Time;let n=this._Time+t%this._Range;n<this._Min?n=this._Loop?this._Max-(this._Min-n):this._Min:n>this._Max&&(n=this._Loop?this._Min+(n-this._Max):this._Max),this._Time=n}reset(){this._Time=0}advance(e){const t=[],n=this._Actor._Components;let i=this._Time;(i+=e%this._Range)<this._Min?this._Loop?(this._Animation.triggerEvents(n,i,this._Time,t),i=this._Max-(this._Min-i),this._Animation.triggerEvents(n,i,this._Max,t)):(i=this._Min,this._Time!=i&&this._Animation.triggerEvents(n,this._Min,this._Time,t)):i>this._Max?this._Loop?(this._Animation.triggerEvents(n,i,this._Time,t),i=this._Min+(i-this._Max),this._Animation.triggerEvents(n,this._Min-.001,i,t)):(i=this._Max,this._Time!=i&&this._Animation.triggerEvents(n,this._Time,this._Max,t)):i>this._Time?this._Animation.triggerEvents(n,this._Time,i,t):this._Animation.triggerEvents(n,i,this._Time,t);for(let e=0;e<t.length;e++){const n=t[e];this.dispatch("animationEvent",n),this._Actor.dispatch("animationEvent",n)}return this._Time=i,t}apply(e,t){this._Animation.apply(this._Time,e,t)}}},192:function(e,t,n){var i={"./af":32,"./af.js":32,"./ar":33,"./ar-dz":34,"./ar-dz.js":34,"./ar-kw":35,"./ar-kw.js":35,"./ar-ly":36,"./ar-ly.js":36,"./ar-ma":37,"./ar-ma.js":37,"./ar-sa":38,"./ar-sa.js":38,"./ar-tn":39,"./ar-tn.js":39,"./ar.js":33,"./az":40,"./az.js":40,"./be":41,"./be.js":41,"./bg":42,"./bg.js":42,"./bm":43,"./bm.js":43,"./bn":44,"./bn.js":44,"./bo":45,"./bo.js":45,"./br":46,"./br.js":46,"./bs":47,"./bs.js":47,"./ca":48,"./ca.js":48,"./cs":49,"./cs.js":49,"./cv":50,"./cv.js":50,"./cy":51,"./cy.js":51,"./da":52,"./da.js":52,"./de":53,"./de-at":54,"./de-at.js":54,"./de-ch":55,"./de-ch.js":55,"./de.js":53,"./dv":56,"./dv.js":56,"./el":57,"./el.js":57,"./en-au":58,"./en-au.js":58,"./en-ca":59,"./en-ca.js":59,"./en-gb":60,"./en-gb.js":60,"./en-ie":61,"./en-ie.js":61,"./en-il":62,"./en-il.js":62,"./en-nz":63,"./en-nz.js":63,"./eo":64,"./eo.js":64,"./es":65,"./es-do":66,"./es-do.js":66,"./es-us":67,"./es-us.js":67,"./es.js":65,"./et":68,"./et.js":68,"./eu":69,"./eu.js":69,"./fa":70,"./fa.js":70,"./fi":71,"./fi.js":71,"./fo":72,"./fo.js":72,"./fr":73,"./fr-ca":74,"./fr-ca.js":74,"./fr-ch":75,"./fr-ch.js":75,"./fr.js":73,"./fy":76,"./fy.js":76,"./gd":77,"./gd.js":77,"./gl":78,"./gl.js":78,"./gom-latn":79,"./gom-latn.js":79,"./gu":80,"./gu.js":80,"./he":81,"./he.js":81,"./hi":82,"./hi.js":82,"./hr":83,"./hr.js":83,"./hu":84,"./hu.js":84,"./hy-am":85,"./hy-am.js":85,"./id":86,"./id.js":86,"./is":87,"./is.js":87,"./it":88,"./it.js":88,"./ja":89,"./ja.js":89,"./jv":90,"./jv.js":90,"./ka":91,"./ka.js":91,"./kk":92,"./kk.js":92,"./km":93,"./km.js":93,"./kn":94,"./kn.js":94,"./ko":95,"./ko.js":95,"./ku":96,"./ku.js":96,"./ky":97,"./ky.js":97,"./lb":98,"./lb.js":98,"./lo":99,"./lo.js":99,"./lt":100,"./lt.js":100,"./lv":101,"./lv.js":101,"./me":102,"./me.js":102,"./mi":103,"./mi.js":103,"./mk":104,"./mk.js":104,"./ml":105,"./ml.js":105,"./mn":106,"./mn.js":106,"./mr":107,"./mr.js":107,"./ms":108,"./ms-my":109,"./ms-my.js":109,"./ms.js":108,"./mt":110,"./mt.js":110,"./my":111,"./my.js":111,"./nb":112,"./nb.js":112,"./ne":113,"./ne.js":113,"./nl":114,"./nl-be":115,"./nl-be.js":115,"./nl.js":114,"./nn":116,"./nn.js":116,"./pa-in":117,"./pa-in.js":117,"./pl":118,"./pl.js":118,"./pt":119,"./pt-br":120,"./pt-br.js":120,"./pt.js":119,"./ro":121,"./ro.js":121,"./ru":122,"./ru.js":122,"./sd":123,"./sd.js":123,"./se":124,"./se.js":124,"./si":125,"./si.js":125,"./sk":126,"./sk.js":126,"./sl":127,"./sl.js":127,"./sq":128,"./sq.js":128,"./sr":129,"./sr-cyrl":130,"./sr-cyrl.js":130,"./sr.js":129,"./ss":131,"./ss.js":131,"./sv":132,"./sv.js":132,"./sw":133,"./sw.js":133,"./ta":134,"./ta.js":134,"./te":135,"./te.js":135,"./tet":136,"./tet.js":136,"./tg":137,"./tg.js":137,"./th":138,"./th.js":138,"./tl-ph":139,"./tl-ph.js":139,"./tlh":140,"./tlh.js":140,"./tr":141,"./tr.js":141,"./tzl":142,"./tzl.js":142,"./tzm":143,"./tzm-latn":144,"./tzm-latn.js":144,"./tzm.js":143,"./ug-cn":145,"./ug-cn.js":145,"./uk":146,"./uk.js":146,"./ur":147,"./ur.js":147,"./uz":148,"./uz-latn":149,"./uz-latn.js":149,"./uz.js":148,"./vi":150,"./vi.js":150,"./x-pseudo":151,"./x-pseudo.js":151,"./yo":152,"./yo.js":152,"./zh-cn":153,"./zh-cn.js":153,"./zh-hk":154,"./zh-hk.js":154,"./zh-tw":155,"./zh-tw.js":155};function o(e){var t=r(e);return n(t)}function r(e){var t=i[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=192},2:function(e,t,n){"use strict";function i(e,t,n){let i=n.value,o=!1;return{configurable:!0,get(){if(o||this===e.prototype||this.hasOwnProperty(t))return i;let n=i.bind(this);return o=!0,Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),o=!1,n}}}n.r(t),n.d(t,"default",function(){return i})},208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),a=(o=s)&&o.__esModule?o:{default:o};var c,u,l,h,f,d,v="undefined"!=typeof __props?__props.workers:{},w=(i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=e.getWorkerScript(t),e.isSupported?(this._Worker=new Worker(t),this._Worker.onmessage=this.onWorkerMessage):(console.log("Worker API is not supported in this context."),this._Worker=null),this._CallId=0,this._Callbacks=new Map}return r(e,[{key:"onWorkerMessage",value:function(e){var t=this._Callbacks.get(e.data.id);t&&(t(e.data.response),this._Callbacks.delete(e.data.id))}},{key:"callCustom",value:function(e,t){this._CallId++,this._Callbacks.set(this._CallId,t),e.id=this._CallId,this._Worker.postMessage(e)}},{key:"call",value:function(e,t,n){this._Worker&&(this._CallId++,this._Callbacks.set(this._CallId,n),t.push(this._CallId),this._Worker.postMessage({call:e,arguments:t}))}}],[{key:"getWorkerScript",value:function(e){return v[e]||"/lib/"+e}},{key:"isSupported",get:function(){return"undefined"!=typeof Worker}}]),e}(),c=i.prototype,u="onWorkerMessage",l=[a.default],h=Object.getOwnPropertyDescriptor(i.prototype,"onWorkerMessage"),f=i.prototype,d={},Object.keys(h).forEach(function(e){d[e]=h[e]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce(function(e,t){return t(c,u,e)||e},d),f&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(f):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(c,u,d),d=null),i);t.default=w},21:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var i=n(6);class o extends i.a{constructor(){super(),this._IsCollisionEnabled=!0}get isCollisionEnabled(){return this._IsCollisionEnabled}copy(e,t){super.copy(e,t),this._IsCollisionEnabled=e._IsCollisionEnabled}}},23:function(e,t,n){{const t=n(170);t.initialize("UA-80207680-2"),e.exports={pageview:function(e){t.pageview(e)},event:function(e,n,i){t.event(e,n,i&&{label:i})}}}},244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(3),a=(i=s)&&i.__esModule?i:{default:i};var c=new Map,u=new Map,l=[],h=function(){function e(t,n,i,o,r,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._Id=t,this._Label=n,this._Title=i,this._Description=o,this._Icons=r,this._Link=s,u.set(t,this),c.set(n,this)}return r(e,[{key:"id",get:function(){return this._Id}},{key:"label",get:function(){return this._Label}},{key:"title",get:function(){return this._Title}},{key:"icons",get:function(){return this._Icons}},{key:"iconsString",get:function(){var e="",t=!0,n=!1,i=void 0;try{for(var o,r=this._Icons[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var s=o.value;e+="<svg class='ccIcon'><use xlink:href='",e+=s,e+="'></use></svg>"}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}return e}},{key:"description",get:function(){return this._Description}},{key:"link",get:function(){return this._Link}}],[{key:"fromId",value:function(e){return u.get(e)}},{key:"get",value:function(e){return c.get(e)}},{key:"all",get:function(){return c}},{key:"list",get:function(){return l}}]),e}();t.default=h,h.CC_BY=new h(1,"CC BY","Attribution","Others can distribute, remix, tweak, and build upon your work, even commercially, as long as they credit you for the original creation. <a href='https://creativecommons.org/licenses/by/4.0/' target='_blank'>View license details.</a>",[a.default.make("/images/symbol-defs.svg#icon-cc"),a.default.make("/images/symbol-defs.svg#icon-cc-by")],"https://creativecommons.org/licenses/by/4.0/"),h.CC_BY_SA=new h(2,"CC BY-SA","Attribution-ShareAlike","Others can distribute, remix, tweak, and build upon your work, even commercially, as long as they credit you and license their creations under identical terms. <a href='https://creativecommons.org/licenses/by-sa/4.0/' target='_blank'>View license details.</a>",[a.default.make("/images/symbol-defs.svg#icon-cc"),a.default.make("/images/symbol-defs.svg#icon-cc-by"),a.default.make("/images/symbol-defs.svg#icon-cc-sa")],"https://creativecommons.org/licenses/by-sa/4.0/"),h.CC_BY_ND=new h(3,"CC BY-ND","Attribution-NoDerivs","Others can redistribute, commercially and non-commercially, as long as it is passed along unchanged and in whole, with credit to you. <a href='https://creativecommons.org/licenses/by-nd/4.0/' target='_blank'>View license details.</a>",[a.default.make("/images/symbol-defs.svg#icon-cc"),a.default.make("/images/symbol-defs.svg#icon-cc-by"),a.default.make("/images/symbol-defs.svg#icon-cc-nd")],"https://creativecommons.org/licenses/by-nd/4.0/"),h.CC_BY_NC=new h(4,"CC BY-NC","Attribution-NonCommercial","Others can remix, tweak, and build upon your work non-commercially, and although their new works must also acknowledge you and be non-commercial, they don't have to license their derivative works on the same terms. <a href='https://creativecommons.org/licenses/by-nc/4.0/' target='_blank'>View license details.</a>",[a.default.make("/images/symbol-defs.svg#icon-cc"),a.default.make("/images/symbol-defs.svg#icon-cc-by"),a.default.make("/images/symbol-defs.svg#icon-cc-nc")],"https://creativecommons.org/licenses/by-nc/4.0/"),h.CC_BY_NC_SA=new h(5,"CC BY-NC-SA","Attribution-NonCommercial-ShareAlike","Others can remix, tweak, and build upon your work non-commercially, as long as they credit you and license their new creations under the identical terms. <a href='https://creativecommons.org/licenses/by-nc-sa/4.0/' target='_blank'>View license details.</a>",[a.default.make("/images/symbol-defs.svg#icon-cc"),a.default.make("/images/symbol-defs.svg#icon-cc-by"),a.default.make("/images/symbol-defs.svg#icon-cc-nc"),a.default.make("/images/symbol-defs.svg#icon-cc-sa")],"https://creativecommons.org/licenses/by-nc-sa/4.0/"),h.CC_BY_NC_ND=new h(6,"CC BY-NC-ND","Attribution-NonCommercial-NoDerivs","Others can only download your works and share them with others as long as they credit you, but they can't change them in any way or use them commercially. <a href='https://creativecommons.org/licenses/by-nc-nd/4.0/' target='_blank'>View license details.</a>",[a.default.make("/images/symbol-defs.svg#icon-cc"),a.default.make("/images/symbol-defs.svg#icon-cc-by"),a.default.make("/images/symbol-defs.svg#icon-cc-nc"),a.default.make("/images/symbol-defs.svg#icon-cc-nd")],"https://creativecommons.org/licenses/by-nc-nd/4.0/");var f=!0,d=!1,v=void 0;try{for(var w,b=c[Symbol.iterator]();!(f=(w=b.next()).done);f=!0){var g=o(w.value,2),_=(g[0],g[1]);l.push(_)}}catch(e){d=!0,v=e}finally{try{!f&&b.return&&b.return()}finally{if(d)throw v}}},245:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=new Map,r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._Label=t,o.set(t,this)}return i(e,[{key:"toString",value:function(){return this._Label}}],[{key:"fromString",value:function(t){return o.get(t)||e.Unknown}}]),e}();t.default=r,r.Unknown=new r(null),r.None=new r("none"),r.ReadWrite=new r("write"),r.ReadOnly=new r("read"),r.Fork=new r("fork")},248:function(e,t,n){"use strict";function i(e,t){return{id:e,key:t}}n.r(t);const o={Unknown:i(0,"unknown"),PosX:i(1,"posX"),PosY:i(2,"posY"),ScaleX:i(3,"scaleX"),ScaleY:i(4,"scaleY"),Rotation:i(5,"rotation"),Opacity:i(6,"opacity"),DrawOrder:i(7,"drawOrder"),Length:i(8,"length"),ImageVertices:i(9,"imageVertices"),ConstraintStrength:i(10,"strength"),Trigger:i(11,"trigger"),IntProperty:i(12,"intValue"),FloatProperty:i(13,"floatValue"),StringProperty:i(14,"stringValue"),BooleanProperty:i(15,"boolValue"),IsCollisionEnabled:i(16,"isCollisionEnabled"),Sequence:i(17,"sequence"),ActiveChildIndex:i(18,"activeChild"),PathVertices:i(19,"pathVertices"),FillColor:i(20,"fillColor"),FillGradient:i(21,"fillGradient"),FillRadial:i(22,"fillRadial"),StrokeColor:i(23,"strokeColor"),StrokeGradient:i(24,"strokeGradient"),StrokeRadial:i(25,"strokeRadial"),StrokeWidth:i(26,"strokeWidth"),StrokeOpacity:i(27,"strokeOpacity"),FillOpacity:i(28,"fillOpacity"),ShapeWidth:i(29,"width"),ShapeHeight:i(30,"height"),CornerRadius:i(31,"cornerRadius"),InnerRadius:i(32,"innerRadius"),StrokeStart:i(33,"strokeStart"),StrokeEnd:i(34,"strokeEnd"),StrokeOffset:i(35,"strokeOffset")},r={},s=new Map;for(const e in o){const t=o[e];r[e]=t.id,s.set(t.key,t.id)}class a{constructor(e){this._Type=e,this._KeyFrames=[]}static get Types(){return r}static fromString(e){return s.get(e)||0}}a.Properties={};var c=n(6),u=n(0);class l extends c.a{constructor(){super(),this._Length=0}get tipWorldTranslation(){const e=u.a.create();return e[4]=this._Length,u.a.mul(e,this._WorldTransform,e),u.c.set(u.c.create(),e[4],e[5])}get length(){return this._Length}set length(e){this._Length!==e&&(this._Length=e,this.markTransformDirty())}copy(e,t){super.copy(e,t),this._Length=e._Length}get firstBone(){let e=this._Children;for(let t of e)if(t instanceof l)return t;return null}}class h extends l{constructor(){super(),this._FirstBone=null}makeInstance(e){const t=new h;return t.copy(this,e),t}completeResolve(){super.completeResolve();let e=this._Children;for(let t of e)if(t instanceof h)return void(this._FirstBone=t)}}var f=n(4);const d=a.Types;function v(e,t,n,i){let o,r;for(;n<=i;)if((r=t[o=n+i>>1]._Time)<e)n=o+1;else{if(!(r>e))return o;i=o-1}return n}class w{constructor(e){this._Artboard=e,this._Components=[],this._TriggerComponents=[],this._Name=null,this._FPS=60,this._Duration=0,this._Loop=!1}get loop(){return this._Loop}get duration(){return this._Duration}triggerEvents(e,t,n,i){const o=this._TriggerComponents;for(let r=0;r<o.length;r++){const s=o[r],a=s._Properties;for(let o=0;o<a.length;o++){const r=a[o];switch(r._Type){case d.Trigger:{const o=r._KeyFrames;if(0===o.length)continue;const a=v(n,o,0,o.length-1);if(0===a){if(o.length>0&&o[0]._Time===n){const t=e[s._ComponentIndex];i.push({name:t._Name,component:t,propertyType:r._Type,keyFrameTime:n,elapsed:0})}}else for(let c=a-1;c>=0;c--){const a=o[c];if(!(a._Time>t))break;{const t=e[s._ComponentIndex];i.push({name:t._Name,component:t,propertyType:r._Type,keyFrameTime:a._Time,elapsed:n-a._Time})}}break}}}}}apply(e,t,n){const i=this._Components,o=1-n,r=t._Components;for(let s=0;s<i.length;s++){const a=i[s],c=r[a._ComponentIndex];if(!c)continue;const u=a._Properties;for(let i=0;i<u.length;i++){const s=u[i],a=s._KeyFrames;if(0===a.length)continue;const l=v(e,a,0,a.length-1);let w=0;if(0===l)w=a[0]._Value;else if(l<a.length){const t=a[l-1],n=a[l];if(e==n._Time)w=n._Value;else{let i=(e-t._Time)/(n._Time-t._Time);const o=t._Interpolator;o&&(i=o.getEasedMix(i)),w=t.interpolate(i,n)}}else{w=a[l-1]._Value}let b=!1;switch(s._Type){case d.PosX:c._Translation[0]=1===n?w:c._Translation[0]*o+w*n,b=!0;break;case d.PosY:c._Translation[1]=1===n?w:c._Translation[1]*o+w*n,b=!0;break;case d.ScaleX:c._Scale[0]=1===n?w:w*o+w*n,b=!0;break;case d.ScaleY:c._Scale[1]=1===n?w:w*o+w*n,b=!0;break;case d.Rotation:c._Rotation=1===n?w:c._Rotation*o+w*n,b=!0;break;case d.Opacity:c._Opacity=1===n?w:c._Opacity*o+w*n,b=!0;break;case d.ConstraintStrength:c.strength=1===n?w:c._Strength*o+w*n;break;case d.DrawOrder:if(t._LastSetDrawOrder!=w){t._LastSetDrawOrder=w;for(let e=0;e<w.length;e++){const t=w[e];r[t.componentIdx]._DrawOrder=t.value}t._IsImageSortDirty=!0}break;case d.Length:b=!0,c._Length=1===n?w:c._Length*o+w*n;for(let e=0;e<c._Children.length;e++){const t=c._Children[e];t.constructor===h&&(t._Translation[0]=c._Length,t._IsDirty=!0)}break;case d.ImageVertices:{const e=c._NumVertices,t=c.deformVertices;let i=0;if(1===n)for(let n=0;n<e;n++){const e=t[n];e[0]=w[i++],e[1]=w[i++]}else for(let r=0;r<e;r++){const e=t[r];e[0]=e[0]*o+w[i++]*n,e[1]=e[1]*o+w[i++]*n}c.invalidateDrawable();break}case d.StringProperty:c._Value=w;break;case d.IntProperty:c._Value=1===n?w:Math.round(c._Value*o+w*n);break;case d.FloatProperty:c._Value=1===n?w:c._Value*o+w*n;break;case d.BooleanProperty:c._Value=w;break;case d.IsCollisionEnabled:c._IsCollisionEnabled=w;break;case d.Sequence:if(c._SequenceFrames){let e=Math.floor(w)%c._SequenceFrames.length;e<0&&(e+=c._SequenceFrames.length),c._SequenceFrame=e}break;case d.ActiveChildIndex:c.activeChildIndex=w,b=!0;break;case d.PathVertices:{c.invalidateDrawable();let e=0;if(1!==n)for(const t of c._Points)t._Translation[0]=t._Translation[0]*o+w[e++]*n,t._Translation[1]=t._Translation[1]*o+w[e++]*n,t.constructor===f.c?t._Radius=t._Radius*o+w[e++]*n:(t._In[0]=t._In[0]*o+w[e++]*n,t._In[1]=t._In[1]*o+w[e++]*n,t._Out[0]=t._Out[0]*o+w[e++]*n,t._Out[1]=t._Out[1]*o+w[e++]*n);else for(const t of c._Points)t._Translation[0]=w[e++],t._Translation[1]=w[e++],t.constructor===f.c?t._Radius=w[e++]:(t._In[0]=w[e++],t._In[1]=w[e++],t._Out[0]=w[e++],t._Out[1]=w[e++]);break}case d.ShapeWidth:case d.StrokeWidth:c.width=1===n?w:c._Width*o+w*n;break;case d.StrokeStart:c.trimStart=1===n?w:c.trimStart*o+w*n;break;case d.StrokeEnd:c.trimEnd=1===n?w:c.trimEnd*o+w*n;break;case d.StrokeOffset:c.trimOffset=1===n?w:c.trimOffset*o+w*n;break;case d.FillOpacity:case d.StrokeOpacity:c._Opacity=1===n?w:c._Opacity*o+w*n,c.markDirty();break;case d.FillColor:case d.StrokeColor:{const e=c._Color;1===n?(e[0]=w[0],e[1]=w[1],e[2]=w[2],e[3]=w[3]):(e[0]=e[0]*o+w[0]*n,e[1]=e[1]*o+w[1]*n,e[2]=e[2]*o+w[2]*n,e[3]=e[3]*o+w[3]*n),c.markDirty();break}case d.FillGradient:case d.StrokeGradient:if(1===n){let e=0;c._Start[0]=w[e++],c._Start[1]=w[e++],c._End[0]=w[e++],c._End[1]=w[e++];const t=c._ColorStops;let n=0;for(;e<w.length&&n<t.length;)t[n++]=w[e++]}else{let e=0;c._Start[0]=c._Start[0]*o+w[e++]*n,c._Start[1]=c._Start[1]*o+w[e++]*n,c._End[0]=c._End[0]*o+w[e++]*n,c._End[1]=c._End[1]*o+w[e++]*n;const t=c._ColorStops;let i=0;for(;e<w.length&&i<t.length;)t[i]=t[i]*o+w[e++],i++}c.markDirty();break;case d.FillRadial:case d.StrokeRadial:if(1===n){let e=0;c._SecondaryRadiusScale=w[e++],c._Start[0]=w[e++],c._Start[1]=w[e++],c._End[0]=w[e++],c._End[1]=w[e++];const t=c._ColorStops;let n=0;for(;e<w.length&&n<t.length;)t[n++]=w[e++]}else{let e=0;c._SecondaryRadiusScale=c._SecondaryRadiusScale*o+w[e++]*n,c._Start[0]=c._Start[0]*o+w[e++]*n,c._Start[1]=c._Start[1]*o+w[e++]*n,c._End[0]=c._End[0]*o+w[e++]*n,c._End[1]=c._End[1]*o+w[e++]*n;const t=c._ColorStops;let i=0;for(;e<w.length&&i<t.length;)t[i]=t[i]*o+w[e++],i++}c.markDirty();break;case d.ShapeHeight:c.height=1===n?w:c._Height*o+w*n;break;case d.CornerRadius:c.cornerRadius=1===n?w:c._CornerRadius*o+w*n;break;case d.InnerRadius:c.innerRadius=1===n?w:c._InnerRadius*o+w*n}b&&c.markTransformDirty()}}}}class b{constructor(e){this._Bytes=e,this._Image=null}get img(){return this._Image}get width(){return this._Image.width()}get height(){return this._Image.height()}get paint(){return this._Paint}initialize(e){const t=e.makeImage(this._Bytes),n=e.makeImageShader(t);this._Image=t;const i=e.makePaint();e.setPaintShader(i,n),this._Paint=i}}class g{constructor(){}readFloat32(){}readFloat32Array(e,t){}readFloat32ArrayOffset(e,t,n){}readFloat64(){}isEOF(){}readInt8(){}readUint8(){}readUint8Length(){}readUint16(){}readUint16Array(e,t){}readUint16Length(){}readInt16(){}readUint32(){}readUint32Length(){}readInt32(){}byteArrayToString(e){}readString(){}readRaw(e,t){}readBool(){}readBlockType(){}readImage(e,t){}readId(e){}openArray(e){}closeArray(){}openObject(e){}closeObject(){}get containerType(){return"stream"}}class _ extends g{constructor(e){super(),this.isBigEndian=function(){const e=new ArrayBuffer(4),t=new Uint32Array(e),n=new Uint8Array(e);return t[0]=3735928559,222==n[0]}(),this.raw=e,this.dataView=new DataView(e.buffer),this.readIndex=0}readFloat32(){const e=this.dataView.getFloat32(this.readIndex,!this.isBigEndian);return this.readIndex+=4,e}readFloat32ArrayOffset(e,t,n){n||(n=0),t||(t=e.length);let i=n+t;for(let t=n;t<i;t++)e[t]=this.dataView.getFloat32(this.readIndex,!this.isBigEndian),this.readIndex+=4;return e}readFloat32Array(e){for(let t=0;t<e.length;t++)e[t]=this.dataView.getFloat32(this.readIndex,!this.isBigEndian),this.readIndex+=4;return e}readFloat64(){const e=this.dataView.getFloat64(this.readIndex,!this.isBigEndian);return this.readIndex+=8,e}readUint8(){return this.raw[this.readIndex++]}isEOF(){return this.readIndex>=this.raw.length}readInt8(){const e=this.dataView.getInt8(this.readIndex);return this.readIndex+=1,e}readUint16(){const e=this.dataView.getUint16(this.readIndex,!this.isBigEndian);return this.readIndex+=2,e}readUint16Array(e){const{length:t}=e;for(let n=0;n<t;n++)e[n]=this.dataView.getUint16(this.readIndex,!this.isBigEndian),this.readIndex+=2;return e}readInt16(){const e=this.dataView.getInt16(this.readIndex,!this.isBigEndian);return this.readIndex+=2,e}readUint32(){const e=this.dataView.getUint32(this.readIndex,!this.isBigEndian);return this.readIndex+=4,e}readInt32(){const e=this.dataView.getInt32(this.readIndex,!this.isBigEndian);return this.readIndex+=4,e}byteArrayToString(e){let t=[],n=0,i=0;for(;n<e.length;){let o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){let r=e[n++];t[i++]=String.fromCharCode((31&o)<<6|63&r)}else if(o>239&&o<365){let r=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(r>>10)),t[i++]=String.fromCharCode(56320+(1023&r))}else{let r=e[n++],s=e[n++];t[i++]=String.fromCharCode((15&o)<<12|(63&r)<<6|63&s)}}return t.join("")}readString(){const e=this.readUint32(),t=new Uint8Array(e);for(let n=0;n<e;n++)t[n]=this.raw[this.readIndex++];return this.byteArrayToString(t)}readRaw(e,t){for(let n=0;n<t;n++)e[n]=this.raw[this.readIndex++]}readBool(){return 1===this.readUint8()}readBlockType(){return this.readUint8()}readImage(e,t){if(e){const e=this.readString(),n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){t(this.response)},n.send()}else{const e=this.readUint32(),n=new Uint8Array(e);this.readRaw(n,n.length),t(n)}}readId(e){return this.readUint16()}readUint8Length(){return this.readUint8()}readUint16Length(){return this.readUint16()}readUint32Length(){return this.readUint32()}get containerType(){return"bin"}}_.alignment=1024;class k extends g{constructor(e){super(),this._readObject=e.container,this._context=[this._readObject]}readProp(e){const t=this._last;if(t.constructor===Object){const n=t[e];return delete t[e],n}if(t.constructor===Array)return t.shift()}readFloat32(e){return this.readProp(e)}readFloat32Array(e,t){return this.readArray(e,t)}readFloat32ArrayOffset(e,t,n,i){return this.readFloat32Array(e,i)}readArray(e,t){const n=this.readProp(t);for(let t=0;t<e.length;t++)e[t]=n[t];return e}readFloat64(e){return this.readProp(e)}readUint8(e){return this.readProp(e)}readUint8Length(){return this._readLength()}isEOF(){return this._context.length<=1&&0===Object.keys(this._readObject).length}readInt8(e){return this.readProp(e)}readUint16(e){return this.readProp(e)}readUint16Array(e,t){return this.readArray(e,t)}readInt16(e){return this.readProp(e)}readUint16Length(){return this._readLength()}readUint32(e){return this.readProp(e)}byteArrayToString(e){let t=[],n=0,i=0;for(;n<e.length;){let o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){let r=e[n++];t[i++]=String.fromCharCode((31&o)<<6|63&r)}else if(o>239&&o<365){let r=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(r>>10)),t[i++]=String.fromCharCode(56320+(1023&r))}else{let r=e[n++],s=e[n++];t[i++]=String.fromCharCode((15&o)<<12|(63&r)<<6|63&s)}}return t.join("")}readString(e){return this.readProp(e)}readBool(e){return this.readProp(e)}readRaw(e,t,n){const i=this._last,o=this._peekNext();e.container=o,i.constructor===Object?delete i[this._nextKey]:i.constructor===Array&&i.shift()}readBlockType(e){const t=this._peekNext();let n;if(t.constructor===Object){const i=this._last;let o;i.constructor===Object?o=this._nextKey:i.constructor===Array&&(o=t.type),n=e.fromString(o)||o}else if(t.constructor===Array){const t=this._nextKey;n=e.fromString(t)||t}return n}readImage(e,t){const n=this.readString();if(e){const e=new XMLHttpRequest;e.open("GET",n,!0),e.responseType="arraybuffer",e.onload=function(){t(this.response)},e.send()}else t(function(e){const t=atob(e.split(",")[1]),n=(e.split(",")[0].split(":")[1].split(";")[0],new ArrayBuffer(t.length)),i=new Uint8Array(n);for(let e=0;e<t.length;e++)i[e]=t.charCodeAt(e);return n}(n))}readId(e){const t=this.readUint16(e);return void 0!==t?t+1:0}openArray(e){const t=this.readProp(e);this._context.unshift(t)}closeArray(){this._context.shift()}openObject(e){const t=this.readProp(e);this._context.unshift(t)}closeObject(){this._context.shift()}get containerType(){return"json"}_peekNext(){const e=this._last;let t;return e.constructor===Object?t=e[this._nextKey]:e.constructor===Array&&(t=e[0]),t}get _nextKey(){return Object.keys(this._last)[0]}_readLength(){const e=this._last;return e.constructor===Array?e.length:e.constructor===Object?Object.keys(e).length:void 0}get _last(){return this._context[0]}}var M=n(167);class S extends M.a{constructor(){super(),this._Artboards=[],this._NestedActorAssets=[],this._Atlases=[]}getArtboard(e){return this._Artboards.find(t=>t._Name===e)}dispose(e){for(const t of this._Artboards)t.dispose(e)}initialize(e){for(let t of this._NestedActorAssets)t.actor&&t.actor.initialize(e);for(const t of this._Atlases)t.initialize(e);for(const t of this._Artboards)t.initialize(e)}makeInstance(){return this._Artboards.length&&this._Artboards[0].makeInstance()||null}get animations(){return this._Artboards.length&&this._Artboards[0]._Animations||null}}var O=n(15);class E extends O.a{constructor(){super()}makeInstance(e){const t=new E;return t.copy(this,e),t}copy(e,t){super.copy(e,t)}}class p extends c.a{constructor(){super(),this._ActiveChildIndex=0}setActiveChildIndex(e){this._ActiveChildIndex=Math.min(this._Children.length,Math.max(0,e));for(let e=0;e<this._Children.length;++e){const t=this._Children[e],n=e!==this._ActiveChildIndex-1;t.setCollapsedVisibility(n)}}set activeChildIndex(e){e!==this._ActiveChildIndex&&this.setActiveChildIndex(e)}get activeChildIndex(){return this._ActiveChildIndex}makeInstance(e){let t=new p;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._ActiveChildIndex=e._ActiveChildIndex}completeResolve(){super.completeResolve(),this.setActiveChildIndex(this._ActiveChildIndex)}}var D=n(12);var T=e=>(class extends e{constructor(){super(),this._ConnectedBones=null,this._Skin=null}setSkin(e){this._Skin=e}get skin(){return this._Skin}get connectedBones(){return this._ConnectedBones}get isConnectedToBones(){return this._ConnectedBones&&this._ConnectedBones.length>0}resolveComponentIndices(e){if(super.resolveComponentIndices(e),this._ConnectedBones)for(let t=0;t<this._ConnectedBones.length;t++){const n=this._ConnectedBones[t];n.node=e[n.componentIndex]}}copy(e,t){if(super.copy(e,t),e._ConnectedBones){this._ConnectedBones=[];for(const t of e._ConnectedBones)this._ConnectedBones.push({componentIndex:t.componentIndex,bind:t.bind,ibind:t.ibind})}}});const I=1-.552284749831,C=u.a.create();class y extends(T(c.a)){constructor(){super(),this._IsClosed=!1,this._IsHidden=!1,this._Points=[],this._RenderPath=null,this._IsRenderPathDirty=!0}get isHidden(){return this._IsHidden}set isHidden(e){this._IsHidden=e}get isClosed(){return this._IsClosed}set isClosed(e){this._IsClosed=e}initialize(e,t){this._RenderPath=t.makePath()}get numPoints(){return this._Points.length}getPathOBB(){let e=Number.MAX_VALUE,t=Number.MAX_VALUE,n=-Number.MAX_VALUE,i=-Number.MAX_VALUE;const{deformedPoints:o,isClosed:r}=this,s=y.makeRenderPoints(o,r);for(let o of s){let r=o.translation,s=r[0],a=r[1];if(s<e&&(e=s),a<t&&(t=a),s>n&&(n=s),a>i&&(i=a),o.pointType!==f.b.Straight){let r=o.in;(s=r[0])<e&&(e=s),(a=r[1])<t&&(t=a),s>n&&(n=s),a>i&&(i=a),(s=(r=o.out)[0])<e&&(e=s),(a=r[1])<t&&(t=a),s>n&&(n=s),a>i&&(i=a)}}return[e,t,n,i]}getPathAABB(){let e=Number.MAX_VALUE,t=Number.MAX_VALUE,n=-Number.MAX_VALUE,i=-Number.MAX_VALUE;const o=this.getPathOBB(),r=[u.c.fromValues(o[0],o[1]),u.c.fromValues(o[2],o[1]),u.c.fromValues(o[2],o[3]),u.c.fromValues(o[0],o[3])];let{_Transform:s,isConnectedToBones:a}=this;a&&(s=u.a.invert(u.a.create(),this.parent._WorldTransform));for(let o=0;o<r.length;o++){const a=r[o],c=s?u.c.transformMat2d(a,a,s):a;c[0]<e&&(e=c[0]),c[1]<t&&(t=c[1]),c[0]>n&&(n=c[0]),c[1]>i&&(i=c[1])}return[e,t,n,i]}makeInstance(e){const t=new y;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._IsClosed=e._IsClosed,this._IsHidden=e._IsHidden;const n=e._Points.length;this._Points=new Array(n);for(let t=0;t<n;t++){let n=e._Points[t];this._Points[t]=n.makeInstance()}}get deformedPoints(){let e=null;this._Skin&&(e=this._Skin.boneMatrices);const{_Points:t,worldTransform:n}=this;if(!e)return t;const i=[];for(const o of t)i.push(o.skin(n,e));return i}static makeRenderPoints(e,t){const n=[];if(e.length){let i=e.length,o=t?e[e.length-1]:null;for(let r=0;r<e.length;r++){let s=e[r];switch(s.pointType){case f.b.Straight:{const a=s.radius;if(a>0)if(t||0!==r&&r!==i-1){let t=e[(r+1)%i];o=o.pointType===f.b.Straight?o.translation:o.out,t=t.pointType===f.b.Straight?t.translation:t.in;const c=s.translation,l=u.c.subtract(u.c.create(),o,c),h=u.c.length(l);l[0]/=h,l[1]/=h;const d=u.c.subtract(u.c.create(),t,c),v=u.c.length(d);d[0]/=v,d[1]/=v;const w=Math.min(h,Math.min(v,a));let b=u.c.scaleAndAdd(u.c.create(),c,l,w);const g={pointType:f.b.Disconnected,translation:b,out:u.c.scaleAndAdd(u.c.create(),c,l,I*w),in:b};n.push(g),b=u.c.scaleAndAdd(u.c.create(),c,d,w),o={pointType:f.b.Disconnected,translation:b,in:u.c.scaleAndAdd(u.c.create(),c,d,I*w),out:b},n.push(o)}else n.push(s),o=s;else n.push(s),o=s;break}case f.b.Mirror:case f.b.Disconnected:case f.b.Asymmetric:n.push(s),o=s}}}return n}getPathRenderTransform(){return this.isConnectedToBones?C:this.worldTransform}getPathTransform(){return this.isConnectedToBones?C:this.worldTransform}invalidateDrawable(){this._IsRenderPathDirty=!0,this._RenderPath.setIsVolatile(!0),this.parent.invalidatePath()}getPath(e){const{_RenderPath:t,_IsRenderPathDirty:n}=this;if(!n)return t;t.rewind();const{deformedPoints:i,isClosed:o}=this,r=y.makeRenderPoints(i,o);return D.default.pointPath(t,r,o)}}class L extends c.a{constructor(e){super(e),this._Width=0,this._Height=0,this._RenderPath=null,this._IsRenderPathDirty=!0}initialize(e,t){this._RenderPath=t.makePath()}invalidatePath(){this._IsRenderPathDirty=!0,this._RenderPath.setIsVolatile(!0),this.parent.invalidatePath()}get width(){return this._Width}set width(e){this._Width!==e&&(this._Width=e,this.invalidatePath())}get height(){return this._Height}set height(e){this._Height!==e&&(this._Height=e,this.invalidatePath())}resolveComponentIndices(e){c.a.prototype.resolveComponentIndices.call(this,e)}makeInstance(e){const t=L();return L.prototype.copy.call(t,this,e),t}getPathTransform(){return this._WorldTransform}getPathRenderTransform(){return this.worldTransform}getPath(e){let{_IsRenderPathDirty:t,_RenderPath:n}=this;return t?(n?n.rewind():this._RenderPath=n=e.makePath(),this._IsRenderPathDirty=!1,D.default.pointPath(n,y.makeRenderPoints(this.getPathPoints(),!0),!0)):n}getPathAABB(){let e=Number.MAX_VALUE,t=Number.MAX_VALUE,n=Number.MIN_VALUE,i=Number.MIN_VALUE;const o=this._Transform;function r(r){o&&(r=u.c.transformMat2d(u.c.create(),r,o)),r[0]<e&&(e=r[0]),r[1]<t&&(t=r[1]),r[0]>n&&(n=r[0]),r[1]>i&&(i=r[1])}const s=this._Width/2,a=this._Height/2;return r([-s,-a]),r([s,-a]),r([-s,a]),r([s,a]),[e,t,n,i]}copy(e,t){super.copy(e,t),this._Width=e._Width,this._Height=e._Height}}const N=.552284749831;class A extends L{constructor(e){super(e)}resolveComponentIndices(e){L.prototype.resolveComponentIndices.call(this,e)}makeInstance(e){const t=new A;return t.copy(this,e),t}getPathPoints(){let e=[];const t=Math.max(0,this.width/2),n=Math.max(0,this.height/2);return e.push({pointType:f.b.Disconnected,in:[-t*N,-n],translation:[0,-n],out:[t*N,-n]}),e.push({pointType:f.b.Disconnected,in:[t,-n*N],translation:[t,0],out:[t,n*N]}),e.push({pointType:f.b.Disconnected,in:[t*N,n],translation:[0,n],out:[-t*N,n]}),e.push({pointType:f.b.Disconnected,in:[-t,n*N],translation:[-t,0],out:[-t,-n*N]}),e}}class m extends L{constructor(e){super(e),this._Sides=5}resolveComponentIndices(e){L.prototype.resolveComponentIndices.call(this,e)}makeInstance(e){const t=new m;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._Sides=e._Sides}getPathPoints(){const e=[],t=this.width/2,n=this.height/2,i=this._Sides;let o=-Math.PI/2;const r=2*Math.PI/i;for(let s=0;s<i;s++)e.push({pointType:f.b.Straight,translation:[Math.cos(o)*t,Math.sin(o)*n]}),o+=r;return e}getPathAABB(){let e=Number.MAX_VALUE,t=Number.MAX_VALUE,n=-Number.MAX_VALUE,i=-Number.MAX_VALUE;const o=this._WorldTransform;function r(r){o&&(r=u.c.transformMat2d(u.c.create(),r,o)),r[0]<e&&(e=r[0]),r[1]<t&&(t=r[1]),r[0]>n&&(n=r[0]),r[1]>i&&(i=r[1])}const s=this._Sides,a=this.width/2,c=this.height/2;let l=-Math.PI/2,h=2*Math.PI/s;r([0,-c]);for(let e=0;e<s;e++)r([Math.cos(l)*a,Math.sin(l)*c]),l+=h;return[u.c.fromValues(e,t),u.c.fromValues(n,i)]}}class U extends L{constructor(e){super(e),this._CornerRadius=0}get cornerRadius(){return this._CornerRadius}set cornerRadius(e){this._CornerRadius!==e&&(this._CornerRadius=e,this.invalidatePath())}resolveComponentIndices(e){L.prototype.resolveComponentIndices.call(this,e)}makeInstance(e){const t=new U;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._CornerRadius=e._CornerRadius}getPathPoints(){const{width:e,height:t,cornerRadius:n}=this,i=e/2,o=t/2;let r=n||0;return e<2*r&&(r=e/2),t<2*r&&(r=t/2),[{pointType:f.b.Straight,translation:[-i,-o],radius:r},{pointType:f.b.Straight,translation:[i,-o],radius:r},{pointType:f.b.Straight,translation:[i,o],radius:r},{pointType:f.b.Straight,translation:[-i,o],radius:r}]}}class j extends L{constructor(e){super(e),this._Points=5,this._InnerRadius=0}get innerRadius(){return this._InnerRadius}set innerRadius(e){this._InnerRadius!==e&&(this._InnerRadius=e,this.invalidatePath())}makeInstance(e){const t=new j;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._Points=e._Points,this._InnerRadius=e._InnerRadius}getOBB(e){let t=Number.MAX_VALUE,n=Number.MAX_VALUE,i=-Number.MAX_VALUE,o=-Number.MAX_VALUE;function r(r){e&&(r=u.c.transformMat2d(u.c.create(),r,e)),r[0]<t&&(t=r[0]),r[1]<n&&(n=r[1]),r[0]>i&&(i=r[0]),r[1]>o&&(o=r[1])}const s=this.width/2,a=this.height/2;let c=-Math.PI/2;const l=2*Math.PI/this.sides,h=[s,s*this._InnerRadius],f=[a,a*this._InnerRadius];r([0,-a]);for(let e=0;e<this.sides;e++)r([Math.cos(c)*h[e%2],Math.sin(c)*f[e%2]]),c+=l;return[u.c.fromValues(t,n),u.c.fromValues(i,o)]}getPathPoints(){const{_Points:e,_InnerRadius:t}=this,n=2*e;let i=[];const o=Math.max(0,this.width/2),r=Math.max(0,this.height/2);let s=-Math.PI/2,a=2*Math.PI/n,c=[o,o*t],u=[r,r*t];for(let e=0;e<n;e++)i.push({pointType:f.b.Straight,translation:[Math.cos(s)*c[e%2],Math.sin(s)*u[e%2]]}),s+=a;return i}get sides(){return 2*this._Points}}class H extends L{constructor(e){super(e)}makeInstance(e){const t=new H;return t.copy(this,e),t}getOBB(e){let t=Number.MAX_VALUE,n=Number.MAX_VALUE,i=-Number.MAX_VALUE,o=-Number.MAX_VALUE;function r(r){e&&(r=u.c.transformMat2d(u.c.create(),r,e)),r[0]<t&&(t=r[0]),r[1]<n&&(n=r[1]),r[0]>i&&(i=r[0]),r[1]>o&&(o=r[1])}const s=this.width/2,a=this.height/2;return r([0,-a-10]),r([s,a]),r([-s,a]),[u.c.fromValues(t,n),u.c.fromValues(i,o)]}getPathPoints(){let e=[];const t=this.width/2,n=this.height/2;return e.push({pointType:f.b.Straight,translation:[0,-n]}),e.push({pointType:f.b.Straight,translation:[t,n]}),e.push({pointType:f.b.Straight,translation:[-t,n]}),e}}class V extends l{makeInstance(e){const t=new V;return t.copy(this,e),t}}const B=16,x=4*(Math.sqrt(2)-1)/3*Math.sqrt(2)*.5;function z(e,t,n,i,o,r,s){let a=r;const c=3*(t-e)/a,u=3*(e-2*t+n)/(a*=r),l=(i-e+3*(t-n))/(a*=r);e=e,t=c+u+l,n=2*u+6*l,i=6*l;for(let a=0;a<=r;a++)o[a][s]=e,e+=t,t+=n,n+=i}const W=.001;function P(e,t){const n=e[0],i=e[1],o=t[0],r=t[1];return Math.abs(n-o)<=W*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-r)<=W*Math.max(1,Math.abs(i),Math.abs(r))}class G extends O.a{constructor(){super(),this._EaseIn=0,this._EaseOut=0,this._ScaleIn=0,this._ScaleOut=0,this._InTargetIdx=0,this._OutTargetIdx=0,this._InTarget=null,this._OutTarget=null,this._Bones=[],this._InPoint=u.c.create(),this._InDirection=u.c.create(),this._OutPoint=u.c.create(),this._OutDirection=u.c.create()}makeInstance(e){const t=new G;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._EaseIn=e._EaseIn,this._EaseOut=e._EaseOut,this._ScaleIn=e._ScaleIn,this._ScaleOut=e._ScaleOut,this._InTargetIdx=e._InTargetIdx,this._OutTargetIdx=e._OutTargetIdx}resolveComponentIndices(e){super.resolveComponentIndices(e),0!==this._InTargetIdx&&(this._InTarget=e[this._InTargetIdx]),0!==this._OutTargetIdx&&(this._OutTarget=e[this._OutTargetIdx]);const{_Actor:t,_Parent:n}=this;let i=[];if(n){t.addDependency(this,n),i=i.concat(Array.from(n.allConstraints));let e=n.firstBone;e&&(t.addDependency(this,e),i=i.concat(Array.from(e.allConstraints)),!this.outTarget&&e.jelly&&e.jelly.inTarget&&(t.addDependency(this,e.jelly.inTarget),i=i.concat(Array.from(e.jelly.inTarget.allConstraints))));let o=n.parent instanceof l&&n.parent,r=o&&o.jelly;r&&r.outTarget&&(t.addDependency(this,r.outTarget),i=i.concat(Array.from(r.outTarget.allConstraints)))}this._InTarget&&(t.addDependency(this,this._InTarget),i=i.concat(Array.from(this._InTarget.allConstraints))),this._OutTarget&&(t.addDependency(this,this._OutTarget),i=i.concat(Array.from(this._OutTarget.allConstraints))),i=new Set(i);for(const e of i)t.addDependency(this,e)}completeResolve(){super.completeResolve();const{_Actor:e,_Parent:t}=this;t._Jelly=this;const n=t._Children;if(n)for(const t of n)t.constructor===V&&(this._Bones.push(t),e.addDependency(t,this))}updateJellies(){const e=this._Parent,t=u.c.set(u.c.create(),e._Length,0),n=this._Cache,i=this._Bones;if(!i)return;if(n&&P(n.tip,t)&&P(n.out,this._OutPoint)&&P(n.in,this._InPoint)&&n.sin===this._ScaleIn&&n.sout===this._ScaleOut)return;this._Cache={tip:t,out:u.c.clone(this._OutPoint),in:u.c.clone(this._InPoint),sin:this._ScaleIn,sout:this._ScaleOut};const o=u.c.create(),r=this._InPoint,s=this._OutPoint,a=t,c=B,l=[];for(let e=0;e<=c;e++)l.push(new Float32Array(2));z(o[0],r[0],s[0],a[0],l,c,0),z(o[1],r[1],s[1],a[1],l,c,1);const h=function(e,t){const n=[],i=e.length,o=new Float32Array(i);o[0]=0;for(let t=0;t<i-1;t++){const n=e[t],i=e[t+1];o[t+1]=o[t]+u.c.distance(n,i)}const r=o[i-1]/t;let s=1;for(let a=1;a<=t;a++){const t=r*a;for(;s<i-1&&o[s]<t;)s++;const c=o[s],u=(c-t)/(c-o[s-1]),l=1-u,h=e[s-1],f=e[s];n.push([h[0]*u+f[0]*l,h[1]*u+f[1]*l])}return n}(l,i.length);let f=l[0],d=this._ScaleIn;const v=(this._ScaleOut-this._ScaleIn)/(i.length-1);for(let e=0;e<h.length;e++){const t=i[e],n=h[e];u.c.copy(t._Translation,f),t._Length=u.c.distance(n,f),t._Scale[1]=d,d+=v;const o=u.c.subtract(u.c.create(),n,f);t._Rotation=Math.atan2(o[1],o[0]),t.markTransformDirty(),f=n}}get tipPosition(){const e=this._Parent;return u.c.set(u.c.create(),e._Length,0)}update(e){const t=this._Parent,n=t.parent instanceof l&&t.parent,i=n&&n.jelly,o=u.a.invert(u.a.create(),t.worldTransform);if(o){if(this._InTarget){const e=this._InTarget.worldTranslation;u.c.transformMat2d(this._InPoint,e,o),u.c.normalize(this._InDirection,this._InPoint)}else if(n){if(n._FirstBone===t&&i&&i._OutTarget){const e=i._OutTarget.worldTranslation,t=u.c.transformMat2d(u.c.create(),e,o);u.c.normalize(t,t),u.c.negate(this._InDirection,t)}else{const e=u.c.set(u.c.create(),1,0),i=u.c.set(u.c.create(),1,0);u.c.transformMat2(e,e,n.worldTransform),u.c.transformMat2(i,i,t.worldTransform);const r=u.c.add(u.c.create(),e,i),s=u.c.transformMat2(this._InDirection,r,o);u.c.normalize(s,s)}u.c.scale(this._InPoint,this._InDirection,this._EaseIn*t._Length*x)}else u.c.set(this._InDirection,1,0),u.c.set(this._InPoint,this._EaseIn*t._Length*x,0);if(this._OutTarget){const e=this._OutTarget.worldTranslation;u.c.transformMat2d(this._OutPoint,e,o);const n=u.c.set(u.c.create(),t._Length,0);u.c.subtract(this._OutDirection,this._OutPoint,n),u.c.normalize(this._OutDirection,this._OutDirection)}else if(t._FirstBone){const e=t._FirstBone,n=e.jelly;if(n&&n._InTarget){const t=n._InTarget.worldTranslation,i=u.c.subtract(u.c.create(),e.worldTranslation,t);u.c.transformMat2(this._OutDirection,i,o)}else{const n=u.c.set(u.c.create(),1,0),i=u.c.set(u.c.create(),1,0);u.c.transformMat2(n,n,e.worldTransform),u.c.transformMat2(i,i,t.worldTransform);const r=u.c.add(u.c.create(),n,i);u.c.negate(r,r),u.c.transformMat2(this._OutDirection,r,o)}u.c.normalize(this._OutDirection,this._OutDirection);const i=u.c.scale(u.c.create(),this._OutDirection,this._EaseOut*t._Length*x);u.c.set(this._OutPoint,t._Length,0),u.c.add(this._OutPoint,this._OutPoint,i)}else{u.c.set(this._OutDirection,-1,0);const e=u.c.scale(u.c.create(),this._OutDirection,this._EaseOut*t._Length*x);u.c.set(this._OutPoint,t._Length,0),u.c.add(this._OutPoint,this._OutPoint,e)}this.updateJellies()}else console.warn("Failed to invert transform space",t.worldTransform)}}class K extends c.a{constructor(){super()}makeInstance(e){const t=new K;return t.copy(this,e),t}copy(e,t){super.copy(e,t)}}var F=n(158);class Q extends c.a{constructor(e){super(e),this._DrawOrder=0,this._BlendMode=F.a.SrcOver,this._IsHidden=!1}get drawOrder(){return this._DrawOrder}get blendMode(){return this._BlendMode}get isHidden(){return this._IsHidden}set isHidden(e){this._IsHidden=e}copy(e,t){super.copy(e,t),this._DrawOrder=e._DrawOrder,this._BlendMode=e._BlendMode,this._IsHidden=e._IsHidden}getClips(){let e=this,t=[];for(;e;)e._Clips&&t.push(e._Clips),e=e.parent;return t}clip(e){const t=this.getClips();if(t.length)for(const n of t){const t=e.makePath(!0);for(let i of n){let n=new Set;i.all(function(e){e.paths&&n.add(e)});for(let i of n){const n=i.paths;for(const i of n)e.addPath(t,i.getPath(e),i.getPathTransform())}}e.clipPath(t)}}}class Y extends(T(Q)){constructor(){super(),this._AtlasIndex=-1,this._NumVertices=0,this._Vertices=null,this._Triangles=null,this._IsInstance=!1,this._VertexBuffer=null,this._IndexBuffer=null,this._DeformVertexBuffer=null,this._SequenceFrames=null,this._SequenceFrame=0,this._SequenceUVs=null,this._SequenceUVBuffer=null,this._skUV=null,this._skPos=null,this._Weights=null,this._Atlas=null}invalidateDrawable(){this._SkVertices&&(this._SkVertices.delete(),this._SkVertices=null)}get deformVertices(){return this._skPos}computeAABB(){const e=this.computeWorldVertices(),t=e.length;let n=Number.MAX_VALUE,i=Number.MAX_VALUE,o=-Number.MAX_VALUE,r=-Number.MAX_VALUE;for(let s=0;s<t;s++){let t=e[s],a=t[0],c=t[1];a<n&&(n=a),c<i&&(i=c),a>o&&(o=a),c>r&&(r=c)}return new Float32Array([n,i,o,r])}skinVertices(e,t){const{skin:n,_Weights:i}=this;let o=0;const r=this._WorldTransform,s=n.boneMatrices;for(let n=0,a=e.length;n<a;n++){let a=e[n],c=a[0],l=a[1];const h=r[0]*c+r[2]*l+r[4],f=r[1]*c+r[3]*l+r[5],d=new Float32Array(6);for(let e=0;e<4;e++){const t=i[o+e],n=i[o+e+4],r=6*t;for(let e=0;e<6;e++)d[e]+=s[r+e]*n}o+=8,c=d[0]*h+d[2]*f+d[4],l=d[1]*h+d[3]*f+d[5],t.push(u.c.fromValues(c,l))}return t}computeWorldVertices(e){const t=this._skPos,n=[],{isConnectedToBones:i}=this;if(i)this.skinVertices(t,n);else{const e=this._WorldTransform;for(let i=0,o=this._NumVertices;i<o;i++){t[i];const o=t[0],r=t[1];n.push(u.c.fromValues(e[0]*o+e[2]*r+e[4],e[1]*o+e[3]*r+e[5]))}}return n}dispose(e,t){this._IsInstance?this._DeformVertexBuffer&&(this._DeformVertexBuffer.dispose(),this._DeformVertexBuffer=null):(this._VertexBuffer&&(this._VertexBuffer.dispose(),this._VertexBuffer=null),this._IndexBuffer&&(this._IndexBuffer.dispose(),this._IndexBuffer=null),this._SequenceUVBuffer&&(this._SequenceUVBuffer.dispose(),this._SequenceUVBuffer=null))}initialize(e,t){const{actor:n}=e;if(this._Atlas=this._AtlasIndex>-1&&this._AtlasIndex<n._Atlases.length?n._Atlases[this._AtlasIndex]:null,!this._Atlas||!this._Atlas.img)return;const{width:i,height:o}=this._Atlas,{_VertexStride:r,_Vertices:s,_NumVertices:a}=this;if(s){const e=[],t=[],n=12===r?new Float32Array(8*a):null;let c=0;for(let a=0,l=s.length;a<l;a+=r)if(t.push(u.c.fromValues(s[a],s[a+1])),e.push(u.c.fromValues(s[a+2]*i,s[a+3]*o)),n){const e=a+4;for(let t=0;t<8;t++)n[c++]=s[e+t]}this._skUV=e,this._skPos=t,this._Weights=n}}getVertices(e){if(this._SkVertices)return this._SkVertices;const{_skUV:t,_skPos:n,_Triangles:i,isConnectedToBones:o}=this;if(!t||!n||!i)return null;const r=e.makeVertices(o?this.skinVertices(n,[]):n,t,i);return this._SkVertices=r,r}draw(e){if(this._RenderCollapsed||this._IsHidden)return;const t=this.getVertices(e);if(!t)return;const{paint:n}=this._Atlas;e.save(),this.clip(e),this.isConnectedToBones||e.transform(this.worldTransform),D.default.setPaintBlendMode(n,this._BlendMode),e.setPaintColor(n,[1,1,1,this._RenderOpacity]),e.drawVertices(t,n),e.restore()}makeInstance(e){const t=new Y;return t._IsInstance=!0,t.copy(this,e),t}copy(e,t){super.copy(e,t),this._AtlasIndex=e._AtlasIndex,this._NumVertices=e._NumVertices,this._VertexStride=e._VertexStride,this._Vertices=e._Vertices,this._Triangles=e._Triangles,this._VertexBuffer=e._VertexBuffer,this._IndexBuffer=e._IndexBuffer,this._SequenceUVBuffer=e._SequenceUVBuffer,this._SequenceFrames=e._SequenceFrames}}class Z extends O.a{constructor(){super(),this._IsEnabled=!0,this._Strength=1}makeInstance(e){const t=new Z;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._IsEnabled=e._IsEnabled,this._Strength=e._Strength}onDirty(e){this.markDirty()}markDirty(){this.parent.markTransformDirty()}set strength(e){this._Strength!=e&&(this._Strength=e,this.markDirty())}get isEnabled(){return this._IsEnabled}set isEnabled(e){this._IsEnabled!==e&&(this._IsEnabled=e,this.markDirty())}resolveComponentIndices(e){super.resolveComponentIndices(e),this._Parent&&this._Parent.addConstraint(this)}}class $ extends Z{constructor(){super(),this._TargetIdx=0,this._Target=null}makeInstance(e){const t=new $;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._TargetIdx=e._TargetIdx}resolveComponentIndices(e){if(super.resolveComponentIndices(e),0!==this._TargetIdx){const t=e[this._TargetIdx];t&&(this._Target=t,this._Actor.addDependency(this._Parent,t))}}}function J(e,t){let n=e[0],i=e[1],o=e[2],r=e[3],s=Math.atan2(i,n),a=n*n+i*i,c=Math.sqrt(a),u=(n*r-o*i)/c,l=Math.atan2(n*o+i*r,a);t[0]=e[4],t[1]=e[5],t[2]=c,t[3]=u,t[4]=s,t[5]=l}function X(e,t){let n=t[4];0!==n?u.a.fromRotation(e,n):u.a.identity(e),e[4]=t[0],e[5]=t[1],u.a.scale(e,e,[t[2],t[3]]);let i=t[5];0!==i&&(e[2]=e[0]*i+e[2],e[3]=e[1]*i+e[3])}const q=2*Math.PI;class R extends ${constructor(e){super(e),this._InvertDirection=!1,this._InfluencedBones=[],this._FKChain=null,this._BoneData=null}makeInstance(e){let t=new R;return t.copy(this,e),t}copy(e,t){if(super.copy(e,t),this._InvertDirection=e._InvertDirection,this._InfluencedBones=[],e._InfluencedBones)for(let t=0;t<e._InfluencedBones.length;t++){const n=e._InfluencedBones[t];n&&(n.constructor===c.a?this._InfluencedBones.push(n._Idx):this._InfluencedBones.push(n))}}resolveComponentIndices(e){super.resolveComponentIndices(e);const t=this._InfluencedBones;if(t&&t.length)for(let n=0;n<t.length;n++){let i=t[n];i.constructor!==Number&&(i=i._Idx);const o=e[i];t[n]=o,o!==this.parent&&o.addPeerConstraint(this)}}markDirty(){const{_FKChain:e}=this;if(null!==e)for(const t of e)t.bone.markTransformDirty()}completeResolve(){super.completeResolve();const e=this._InfluencedBones;if(!e||!e.length)return;const t=e[0];let n=e[e.length-1];const i=this._FKChain=[],o=this._BoneData=[];for(;n&&n!==t._Parent;)i.unshift({bone:n,ikAngle:0,transformComponents:new Float32Array(6),in:!1}),n=n._Parent;const r=i.length<3;for(let e=0;e<i.length;e++){let t=i[e];t.idx=e,t.in=r}for(const t of e){const e=i.find(e=>e.bone===t);e?o.push(e):console.warn("Bone not in chain?",e,t)}if(!r)for(let e=0;e<o.length-1;e++){const t=o[e];t.in=!0,i[t.idx+1].in=!0}const s=this._Actor;for(const t of e)t!==this.parent&&s.addDependency(this,t);if(this._Target&&s.addDependency(this,this._Target),i.length){const e=i[i.length-1];for(const t of i){if(t===e)continue;const n=t.bone._Children;for(const t of n){if(!(t instanceof c.a))continue;i.find(e=>e.bone===t)||s.addDependency(t,e.bone)}}}}constrain(e){const t=this._Target;if(t){const e=t.worldTransform;this.solve(u.c.set(u.c.create(),e[4],e[5]),this._Strength)}}solve1(e,t){const n=e.parentWorldInverse,i=e.bone.worldTranslation,o=u.c.copy(u.c.create(),t),r=u.c.subtract(u.c.create(),o,i),s=u.c.transformMat2(u.c.create(),r,n),a=Math.atan2(s[1],s[0]);return ee(e,a),e.ikAngle=a,!0}solve2(e,t,n){const i=this._InvertDirection,o=e.bone,r=t.bone,s=this._FKChain,a=s[e.idx+1],c=e.parentWorldInverse;let l=o.worldTranslation,h=a.bone.worldTranslation,f=r.tipWorldTranslation,d=u.c.copy(u.c.create(),n);l=u.c.transformMat2d(l,l,c),h=u.c.transformMat2d(h,h,c),f=u.c.transformMat2d(f,f,c),d=u.c.transformMat2d(d,d,c);const v=u.c.subtract(u.c.create(),f,h),w=u.c.length(v),b=u.c.subtract(u.c.create(),h,l),g=u.c.length(b),_=u.c.subtract(u.c.create(),d,l),k=u.c.length(_),M=Math.acos(Math.max(-1,Math.min(1,(-w*w+g*g+k*k)/(2*g*k)))),S=Math.acos(Math.max(-1,Math.min(1,(w*w+g*g-k*k)/(2*w*g))));let O,E;if(r.parent!=o){const t=s[e.idx+2].parentWorldInverse;h=a.bone.worldTranslation,f=r.tipWorldTranslation;const n=u.c.subtract(u.c.create(),f,h),o=u.c.transformMat2(u.c.create(),n,t),c=-Math.atan2(o[1],o[0]);i?(O=Math.atan2(_[1],_[0])-M,E=-S+Math.PI+c):(O=M+Math.atan2(_[1],_[0]),E=S-Math.PI+c)}else i?(O=Math.atan2(_[1],_[0])-M,E=-S+Math.PI):(O=M+Math.atan2(_[1],_[0]),E=S-Math.PI);if(ee(e,O),ee(a,E),a!==t){const e=t.bone;u.a.mul(e.worldTransform,e.parent.worldTransform,e.transform)}return e.ikAngle=O,a.ikAngle=E,!0}solve(e,t){const n=this._BoneData;if(!n.length)return;const i=this._FKChain;for(let e=0;e<i.length;e++){const t=i[e],n=t.bone.parent.worldTransform,o=u.a.invert(u.a.create(),n);J(u.a.mul(t.bone.transform,o,t.bone.worldTransform),t.transformComponents),t.parentWorldInverse=o}if(1===n.length)this.solve1(n[0],e);else if(2==n.length)this.solve2(n[0],n[1],e);else{const t=n[n.length-1];for(let o=0;o<n.length-1;o++){const r=n[o];this.solve2(r,t,e);for(let e=r.idx+1;e<i.length-1;e++){const t=i[e],n=t.bone.parent.worldTransform;t.parentWorldInverse=u.a.invert(u.a.create(),n)}}}const o=t;if(1!=o)for(const e of i){if(!e.in){const t=e.bone;u.a.mul(t.worldTransform,t.parent.worldTransform,t.transform);continue}const t=e.transformComponents[4]%q;let n=e.ikAngle%q-t;n>Math.PI?n-=q:n<-Math.PI&&(n+=q),ee(e,t+n*o)}}}function ee(e,t){const n=e.bone.parent.worldTransform,i=e.bone.transform,o=e.transformComponents;0===t?u.a.identity(i):u.a.fromRotation(i,t),i[4]=o[0],i[5]=o[1];const r=o[2],s=o[3];i[0]*=r,i[1]*=r,i[2]*=s,i[3]*=s;const a=o[5];0!==a&&(i[2]=i[0]*a+i[2],i[3]=i[1]*a+i[3]),u.a.mul(e.bone.worldTransform,n,i)}class te extends c.a{constructor(){super(),this._Order=0,this._Strength=0,this._InvertDirection=!1,this._InfluencedBones=null}resolveComponentIndices(e){super.resolveComponentIndices(e);const t=new R;this._Constraint=t;const n=this._InfluencedBones;t._Actor=this._Actor,t._TargetIdx=this._Idx,t._ParentIdx=n?n[n.length-1]:-1,t._InvertDirection=this._InvertDirection,t._InfluencedBones=n,t._Strength=this._Strength,t._IsEnabled=!0,t.resolveComponentIndices(e)}completeResolve(){super.completeResolve(),this._Constraint.completeResolve()}get strength(){return this._Constraint?this._Constraint.strength:0}set strength(e){this._Constraint&&(this._Constraint.strength=e)}makeInstance(e){const t=new te;return t.copy(this,e),t}copy(e,t){if(super.copy(e,t),this._Order=e._Order,this._Strength=e._Strength,this._InvertDirection=e._InvertDirection,this._InfluencedBones=[],e._InfluencedBones)for(let t=0;t<e._InfluencedBones.length;t++){const n=e._InfluencedBones[t];n&&(n.constructor===h?this._InfluencedBones.push(n._Idx):this._InfluencedBones.push(n))}}}var ne=n(186),ie=n(187),oe=n(188),re=n(189),se=n(190);class ae extends c.a{constructor(){super(),this._DrawOrder=0,this._Asset=null,this._Instance=null,this._Actor=null}makeInstance(e){const t=new ae;return t.copy(this,e),this._Asset.actor&&(t._Actor=this._Asset.actor.makeInstance()),t}copy(e,t){super.copy(e,t),this._Asset=e._Asset,this._DrawOrder=e._DrawOrder}initialize(e,t){this._Actor&&this._Actor.initialize(t)}updateWorldTransform(){super.updateWorldTransform(),this._Actor&&this._Actor.root.overrideWorldTransform(this._WorldTransform)}computeAABB(){return this._Actor?this._Actor.computeAABB():null}draw(e){this._Actor&&this._Actor.draw(e)}advance(e){super.advance(e),this._Actor&&this._Actor.advance(e)}}class ce extends O.a{constructor(){super(),this._PropertyType=ce.Integer,this._Value=0}get propertyType(){return this._PropertyType}get value(){return this._Value}makeInstance(e){const t=new ce;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._PropertyType=e._PropertyType,this._Value=e._Value}resolveComponentIndices(e){super.resolveComponentIndices(e),void 0!==this._ParentIdx&&(this._Parent=e[this._ParentIdx],this._Parent&&this._Parent._CustomProperties.push(this))}}ce.Type={Integer:0,Float:1,String:2,Boolean:3};class ue{constructor(e){this._ComponentIndex=e,this._Properties=[]}}class le{constructor(e,t){this._Id=t,this._Name=e,this._Actor=null}get id(){return this._Id}get name(){return this._Name}get actor(){return this._Actor}}const he={Closer:0,Further:1,Exact:2};class fe extends ${constructor(e){super(e),this._Distance=100,this._Mode=he.Closer}makeInstance(e){let t=new fe;return t.copy(this,e),t}get distance(){return this._Distance}set distance(e){this._Distance!==e&&(this._Distance=e,this.markDirty())}get mode(){return this._Mode}set mode(e){this._Mode!==e&&(this._Mode=e,this.markDirty())}copy(e,t){super.copy(e,t),this._Distance=e._Distance,this._Mode=e._Mode}constrain(e){let t=this._Target;if(!t)return;let n=this._Parent,i=t.worldTranslation,o=n.worldTranslation,{_Strength:r,_Mode:s,_Distance:a}=this,c=u.c.subtract(u.c.create(),o,i),l=u.c.length(c);switch(s){case he.Closer:if(l<a)return;break;case he.Further:if(l>a)return}if(l<.001)return!0;u.c.scale(c,c,1/l),u.c.scale(c,c,a);let h=n.worldTransform,f=u.c.lerp(u.c.create(),o,u.c.add(u.c.create(),i,c),r);h[4]=f[0],h[5]=f[1]}}var de={Local:0,World:1};const ve=2*Math.PI;class we extends ${constructor(e){super(e),this._SourceSpace=de.World,this._DestSpace=de.World,this._ComponentsA=new Float32Array(6),this._ComponentsB=new Float32Array(6)}makeInstance(e){let t=new we;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._SourceSpace=e._SourceSpace,this._DestSpace=e._DestSpace}constrain(e){let t=this._Target;if(!t)return;let n=this._Parent,{_ComponentsA:i,_ComponentsB:o,_Strength:r,_SourceSpace:s,_DestSpace:a}=this,c=n.worldTransform,l=u.a.clone(t.worldTransform);if(s===de.Local){let e=t.parent;if(e){let t=u.a.invert(u.a.create(),e.worldTransform);l=u.a.mul(t,t,l)}}if(a===de.Local){let e=n.parent;e&&u.a.mul(l,e.worldTransform,l)}J(c,i),J(l,o);let h=i[4]%ve,f=o[4]%ve-h;f>Math.PI?f-=ve:f<-Math.PI&&(f+=ve);let d=1-r;o[4]=h+f*r,o[0]=i[0]*d+o[0]*r,o[1]=i[1]*d+o[1]*r,o[2]=i[2]*d+o[2]*r,o[3]=i[3]*d+o[3]*r,o[5]=i[5]*d+o[5]*r,X(n.worldTransform,o)}}class be extends ${constructor(e){super(e),this._CopyX=!1,this._CopyY=!1,this._ScaleX=1,this._ScaleY=1,this._EnableMinX=!1,this._MinX=0,this._EnableMaxX=!1,this._MaxX=0,this._EnableMinY=!1,this._MinY=0,this._EnableMaxY=!1,this._MaxY=0,this._Offset=!1,this._SourceSpace=de.World,this._DestSpace=de.World,this._MinMaxSpace=de.World}copy(e,t){super.copy(e,t),this._CopyX=e._CopyX,this._CopyY=e._CopyY,this._ScaleX=e._ScaleX,this._ScaleY=e._ScaleY,this._EnableMinX=e._EnableMinX,this._MinX=e._MinX,this._EnableMaxX=e._EnableMaxX,this._MaxX=e._MaxX,this._EnableMinY=e._EnableMinY,this._MinY=e._MinY,this._EnableMaxY=e._EnableMaxY,this._MaxY=e._MaxY,this._Offset=e._Offset,this._SourceSpace=e._SourceSpace,this._DestSpace=e._DestSpace,this._MinMaxSpace=e._MinMaxSpace}onDirty(e){this.markDirty()}}class ge extends be{constructor(e){super(e)}makeInstance(e){let t=new ge;return t.copy(this,e),t}constrain(e){let t=this._Target,n=this._Parent,i=n._Parent,{_Strength:o,_SourceSpace:r,_DestSpace:s,_MinMaxSpace:a}=this,c=n.worldTransform,l=u.c.set(u.c.create(),c[4],c[5]),h=u.c.create();if(t){let e=u.a.clone(t.worldTransform);if(r===de.Local){let n=t.parent;if(n){let t=u.a.invert(u.a.create(),n.worldTransform);e=u.a.mul(t,t,e)}}u.c.set(h,e[4],e[5]),this._CopyX?(h[0]*=this._ScaleX,this._Offset&&(h[0]+=n._Translation[0])):h[0]=s===de.Local?0:l[0],this._CopyY?(h[1]*=this._ScaleY,this._Offset&&(h[1]+=n._Translation[1])):h[1]=s===de.Local?0:l[1],s===de.Local&&i&&u.c.transformMat2d(h,h,i.worldTransform)}else u.c.copy(h,l);let f=!(a!==de.Local||!i);if(f){let e=u.a.invert(u.a.create(),i.worldTransform);u.c.transformMat2d(h,h,e)}this._EnableMaxX&&h[0]>this._MaxX&&(h[0]=this._MaxX),this._EnableMinX&&h[0]<this._MinX&&(h[0]=this._MinX),this._EnableMaxY&&h[1]>this._MaxY&&(h[1]=this._MaxY),this._EnableMinY&&h[1]<this._MinY&&(h[1]=this._MinY),f&&u.c.transformMat2d(h,h,i.worldTransform);let d=1-o;c[4]=l[0]*d+h[0]*o,c[5]=l[1]*d+h[1]*o}}class _e extends be{constructor(e){super(e),this._ComponentsA=new Float32Array(6),this._ComponentsB=new Float32Array(6)}makeInstance(e){let t=new _e;return t.copy(this,e),t}constrain(e){let t=this._Target,n=this._Parent,i=n._Parent,{_ComponentsA:o,_ComponentsB:r,_Strength:s,_SourceSpace:a,_DestSpace:c,_MinMaxSpace:l}=this,h=n.worldTransform,f=u.a.create();if(J(h,o),t){if(u.a.copy(f,t.worldTransform),a===de.Local){let e=t.parent;if(e){let t=u.a.invert(u.a.create(),e.worldTransform);f=u.a.mul(t,t,f)}}J(f,r),this._CopyX?(r[2]*=this._ScaleX,this._Offset&&(r[2]*=n._Scale[0])):r[2]=c===de.Local?1:o[2],this._CopyY?(r[3]*=this._ScaleY,this._Offset&&(r[3]*=n._Scale[1])):r[3]=c===de.Local?0:o[3],c===de.Local&&i&&(X(f,r),u.a.mul(f,i.worldTransform,f),J(f,r))}else u.a.copy(f,h),r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5];let d=!(l!==de.Local||!i);if(d){X(f,r);let e=u.a.invert(u.a.create(),i.worldTransform);u.a.mul(f,e,f),J(f,r)}this._EnableMaxX&&r[2]>this._MaxX&&(r[2]=this._MaxX),this._EnableMinX&&r[2]<this._MinX&&(r[2]=this._MinX),this._EnableMaxY&&r[3]>this._MaxY&&(r[3]=this._MaxY),this._EnableMinY&&r[3]<this._MinY&&(r[3]=this._MinY),d&&(X(f,r),u.a.mul(f,i.worldTransform,f),J(f,r));let v=1-s;r[4]=o[4],r[0]=o[0],r[1]=o[1],r[2]=o[2]*v+r[2]*s,r[3]=o[3]*v+r[3]*s,r[5]=o[5],X(n.worldTransform,r)}}const ke=2*Math.PI;class Me extends ${constructor(e){super(e),this._Copy=!1,this._EnableMin=!1,this._EnableMax=!1,this._Offset=!1,this._Min=-ke,this._Max=ke,this._Scale=1,this._SourceSpace=de.World,this._DestSpace=de.World,this._MinMaxSpace=de.World,this._ComponentsA=new Float32Array(6),this._ComponentsB=new Float32Array(6)}onDirty(e){this.markDirty()}makeInstance(e){let t=new Me;return t.copy(this,e),t}copy(e,t){super.copy(e,t),this._Copy=e._Copy,this._EnableMin=e._EnableMin,this._EnableMax=e._EnableMax,this._Offset=e._Offset,this._Min=e._Min,this._Max=e._Max,this._Scale=e._Scale,this._SourceSpace=e._SourceSpace,this._DestSpace=e._DestSpace,this._MinMaxSpace=e._MinMaxSpace}constrain(e){let t=this._Target,n=this._Parent,i=n._Parent,{_ComponentsA:o,_ComponentsB:r,_Strength:s,_SourceSpace:a,_DestSpace:c,_MinMaxSpace:l}=this,h=n.worldTransform,f=u.a.create();if(J(h,o),t){if(u.a.copy(f,t.worldTransform),a===de.Local){let e=t.parent;if(e){let t=u.a.invert(u.a.create(),e.worldTransform);f=u.a.mul(t,t,f)}}J(f,r),this._Copy?(r[4]*=this._Scale,this._Offset&&(r[4]+=n._Rotation)):r[4]=c===de.Local?0:o[4],c===de.Local&&i&&(X(f,r),u.a.mul(f,i.worldTransform,f),J(f,r))}else u.a.copy(f,h),r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5];let d=!(l!==de.Local||!i);if(d){X(f,r);let e=u.a.invert(u.a.create(),i.worldTransform);u.a.mul(f,e,f),J(f,r)}this._EnableMax&&r[4]>this._Max&&(r[4]=this._Max),this._EnableMin&&r[4]<this._Min&&(r[4]=this._Min),d&&(X(f,r),u.a.mul(f,i.worldTransform,f),J(f,r));let v=o[4]%ke,w=r[4]%ke-v;w>Math.PI?w-=ke:w<-Math.PI&&(w+=ke),r[4]=v+w*s,r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[5]=o[5],X(n.worldTransform,r)}}var Se=n(159);const{WorldTransformDirty:Oe}=Se.a;class Ee extends Q{constructor(e){super(e),this._Paths=null,this._Fills=null,this._Strokes=null}get paths(){return this._Paths}addFill(e){this._Fills||(this._Fills=[]),this._Fills.push(e)}addStroke(e){this._Strokes||(this._Strokes=[]),this._Strokes.push(e)}get stroke(){return this._Strokes&&this._Strokes.length&&this._Strokes[0]}initialize(e,t){}computeAABB(){const e=this.getClips();if(e.length){let t=null;for(const n of e)for(const e of n)e.all(function(e){if(e.constructor===Ee){let n=e.computeAABB();t?(n[0]<t[0]&&(t[0]=n[0]),n[1]<t[1]&&(t[1]=n[1]),n[2]>t[2]&&(t[2]=n[2]),n[3]>t[3]&&(t[3]=n[3])):t=n}});return t}let t=null,n=0;if(this._Strokes)for(const e of this._Strokes)e.width>n&&(n=e.width);for(const e of this._Children){if(e.constructor!==y&&!(e instanceof L))continue;if(e.numPoints<2)continue;const n=e.getPathAABB();t?(t[0]=Math.min(t[0],n[0]),t[1]=Math.min(t[1],n[1]),t[2]=Math.max(t[2],n[2]),t[3]=Math.max(t[3],n[3])):t=n}const i=n/2;t[0]-=i,t[1]-=i,t[2]+=i,t[3]+=i;let o=Number.MAX_VALUE,r=Number.MAX_VALUE,s=-Number.MAX_VALUE,a=-Number.MAX_VALUE;if(!t)return null;let c=this._WorldTransform;const l=[u.c.set(u.c.create(),t[0],t[1]),u.c.set(u.c.create(),t[2],t[1]),u.c.set(u.c.create(),t[2],t[3]),u.c.set(u.c.create(),t[0],t[3])];for(let e=0;e<l.length;e++){const t=l[e],n=u.c.transformMat2d(t,t,c);n[0]<o&&(o=n[0]),n[1]<r&&(r=n[1]),n[0]>s&&(s=n[0]),n[1]>a&&(a=n[1])}return new Float32Array([o,r,s,a])}dispose(e,t){}draw(e){if(this._RenderCollapsed||this._IsHidden)return;e.save(),this.clip(e);const t=this.getShapePath(e),{_Fills:n,_Strokes:i}=this;if(n)for(const i of n)i.fill(e,t);if(i)for(const n of i)n._Width>0&&n.stroke(e,t);e.restore()}invalidatePath(){const{stroke:e}=this;e&&e.markPathEffectsDirty()}getShapePath(e){const t=this._Paths,n=e.makePath(!0);for(const i of t)i.isHidden||e.addPath(n,i.getPath(e),i.getPathTransform());return n}update(e){super.update(e),(e&Oe)===Oe&&this.invalidatePath()}completeResolve(){super.completeResolve(),this._Paths=this._Children.filter(e=>e.constructor===y||e instanceof L)}makeInstance(e){const t=new Ee;return t._IsInstance=!0,t.copy(this,e),t}}class pe extends O.a{constructor(){super(),this._BoneMatrices=null}get boneMatrices(){return this._BoneMatrices}update(e){const t=this._Parent;if(t&&t._ConnectedBones){const e=t._ConnectedBones,n=6*(e.length+1);let i=this._BoneMatrices;i&&i.length===n||(this._BoneMatrices=i=new Float32Array(n),i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0);let o=6;const r=u.a.create();for(const t of e){if(!t.node){i[o++]=1,i[o++]=0,i[o++]=0,i[o++]=1,i[o++]=0,i[o++]=0;continue}const e=u.a.mul(r,t.node._WorldTransform,t.ibind);i[o++]=e[0],i[o++]=e[1],i[o++]=e[2],i[o++]=e[3],i[o++]=e[4],i[o++]=e[5]}}t.invalidateDrawable()}makeInstance(e){const t=new pe;return t.copy(this,e),t}completeResolve(){super.completeResolve();const e=this._Actor;let t=this._Parent;if(t){t.setSkin(this),e.addDependency(this,t);const n=t.connectedBones;if(n&&n.length)for(const{node:t}of n){e.addDependency(this,t);const n=t.allConstraints;if(n)for(const t of n)e.addDependency(this,t)}}}}var De=n(191);class Te{constructor(e){this._Actor=e,this._Components=[],this._Nodes=[],this._RootNode=new c.a,this._RootNode._Name="Root",this._Components.push(this._RootNode),this._Drawables=[],this._Animations=[],this._IsImageSortDirty=!1,this._Order=null,this._IsDirty=!1,this._DirtDepth=0,this._Name="Artboard",this._Origin=u.c.create(),this._Translation=u.c.create(),this._Color=u.d.create(),this._ClipContents=!0,this._Width=0,this._Height=0}get name(){return this._Name}get width(){return this._Width}get height(){return this._Height}get origin(){return this._Name}get translation(){return this._Translation}get color(){return this._Color}get color8(){return this._Color.map(e=>Math.round(255*e))}get clipContents(){return this._ClipContents}get root(){return this._RootNode}get actor(){return this._Actor}addDependency(e,t){let n=t._Dependents;return n||(n=t._Dependents=[]),-1===n.indexOf(e)&&(n.push(e),!0)}sortDependencies(){let e=new Set,t=new Set,n=[];if(!function i(o){if(e.has(o))return!0;if(t.has(o))return console.warn("Dependency cycle!",o),!1;t.add(o);let r=o._Dependents;if(r)for(let e of r)if(!i(e))return!1;return e.add(o),n.unshift(o),!0}(this._RootNode))return!1;for(let e=0;e<n.length;e++){let t=n[e];t._GraphOrder=e,t._DirtMask=255}this._Order=n,this._IsDirty=!0}addDirt(e,t,n){if((e._DirtMask&t)===t)return!1;let i=e._DirtMask|t;if(e._DirtMask=i,this._IsDirty=!0,e.onDirty(i),e._GraphOrder<this._DirtDepth&&(this._DirtDepth=e._GraphOrder),!n)return!0;let o=e._Dependents;if(o)for(let e of o)this.addDirt(e,t,n);return!0}update(){if(!this._IsDirty)return!1;let e=this._Order,t=e.length;let n=0;for(;this._IsDirty&&n<100;){this._IsDirty=!1;for(let n=0;n<t;n++){let t=e[n];this._DirtDepth=n;let i=t._DirtMask;if(0!==i&&(t._DirtMask=0,t.update(i),this._DirtDepth<n))break}n++}return!0}resolveHierarchy(){let e=this._Components;for(let t of e)if(null!=t)switch(t._Actor=this,t.resolveComponentIndices(e),t.isNode&&this._Nodes.push(t),t.constructor){case ae:case Y:case Ee:this._Drawables.push(t)}for(let t of e)null!=t&&t.completeResolve();this.sortDependencies(),this._Drawables.sort(function(e,t){return e._DrawOrder-t._DrawOrder})}dispose(e){const t=this._Components;for(const n of t)n.dispose(this,e);this._ClippingPath&&(D.default.destroyPath(this._ClippingPath),this._ClippingPath=null)}advance(e){this.update();let t=this._Components;for(let n of t)n&&n.advance(e);this._IsImageSortDirty&&(this._Drawables.sort(function(e,t){return e._DrawOrder-t._DrawOrder}),this._IsImageSortDirty=!1)}draw(e){e.save(),this._ClippingPath&&e.clipPath(this._ClippingPath);let t=this._Drawables;for(let n of t)n.draw(e);e.restore()}getNode(e){let t=this._Nodes;for(let n of t)if(n._Name===e)return n;return null}get animations(){return this._Animations}getAnimation(e){let t=this._Animations;for(let n of t)if(n._Name===e)return n;return null}getAnimationInstance(e){let t=this.getAnimation(e);return t?new De.default(this,t):null}makeInstance(){const e=new Te(this._Actor);return e.copy(this),e}artboardAABB(){const{_Width:e,_Height:t}=this,n=-this._Origin[0]*e,i=-this._Origin[1]*t;return new Float32Array([n,i,n+e,i+t])}computeAABB(){let e=Number.MAX_VALUE,t=Number.MAX_VALUE,n=-Number.MAX_VALUE,i=-Number.MAX_VALUE;for(const o of this._Drawables){if(o.opacity<.01)continue;const r=o.computeAABB();r&&(r[0]<e&&(e=r[0]),r[1]<t&&(t=r[1]),r[2]>n&&(n=r[2]),r[3]>i&&(i=r[3]))}return new Float32Array([e,t,n,i])}copy(e){this._Name=e._Name,this._Origin=u.c.clone(e._Origin),this._Translation=u.c.clone(e._Translation),this._Color=u.d.clone(e._Color),this._ClipContents=e._ClipContents,this._Width=e._Width,this._Height=e._Height;let t=e._Components;this._Animations=e._Animations,this._Components.length=0,this._Nodes.length=0,this._Drawables.length=0;for(let e of t)e?this._Components.push(e.makeInstance(this)):this._Components.push(null);this._RootNode=this._Components[0],this.resolveHierarchy()}initialize(e){const t=this._Components;for(const n of t)n.initialize(this,e);if(this._ClipContents){this._ClippingPath=e.makePath();const t=-this._Origin[0]*this._Width,n=-this._Origin[1]*this._Height;this._ClippingPath.addRect(t,n,t+this._Width,n+this._Height)}}}var Ie=n(31),Ce=n(160),ye=n(161);class Le{static get Off(){return 0}static get Sequential(){return 1}static get Synced(){return 2}}const{Off:Ne,Sequential:Ae,Synced:me}=Le,{PaintDirty:Ue}=Se.a,{trimPath:je,trimPathSync:He}=D.default;class Ve extends O.a{constructor(){super(),this._RenderOpacity=1,this._Opacity=1}markDirty(){this._Actor.addDirt(this,Ue,!0)}copy(e,t){super.copy(e,t),this._Opacity=e._Opacity}get opacity(){return this._Opacity}update(e){super.update(e),this._RenderOpacity=this._Opacity*this._Parent._RenderOpacity,this._Paint&&D.default.setPaintBlendMode(this._Paint,this._Parent._BlendMode)}initialize(e,t){this._Paint=t.makePaint(),this._Parent&&D.default.setPaintBlendMode(this._Paint,this._Parent._BlendMode)}dispose(e,t){t.destroyPaint(this._Paint)}}class Be extends Ve{constructor(){super(),this._Color=new Float32Array(4)}copy(e,t){super.copy(e,t),u.d.copy(this._Color,e._Color)}get runtimeColor(){const{_Color:e}=this;return[e[0],e[1],e[2],e[3]*this._RenderOpacity]}get cssColor(){const e=this._Color;return"rgba("+Math.round(255*e[0])+", "+Math.round(255*e[1])+", "+Math.round(255*e[2])+", "+e[3]*this._Opacity+")"}}class xe extends Be{constructor(){super(),this._FillRule=Ie.a.EvenOdd}makeInstance(e){const t=new xe;return xe.prototype.copy.call(t,this,e),t}copy(e,t){super.copy(e,t),this._FillRule=e._FillRule}initialize(e,t){super.initialize(e,t),t.setPaintFill(this._Paint)}fill(e,t){const{_Paint:n,runtimeColor:i}=this;e.setPaintColor(n,i),e.setPathFillType(t,this._FillRule),e.drawPath(t,n)}resolveComponentIndices(e){super.resolveComponentIndices(e),this._Parent&&this._Parent.addFill(this)}}const ze=e=>(class extends e{constructor(e){super(e),this._Width=0,this._Cap=Ce.a.Butt,this._Join=ye.a.Miter,this._Trim=Ne,this._TrimStart=0,this._TrimEnd=1,this._TrimOffset=0,this._EffectPath=null}initialize(e,t){super.initialize(e,t);const{_Paint:n,_Cap:i,_Join:o}=this;D.default.setPaintStroke(n),D.default.setPaintStrokeCap(n,i),D.default.setPaintStrokeJoin(n,o)}prepStroke(e,t){const{_Paint:n,_Trim:i,width:o}=this;if(n.setStrokeWidth(o),i!==Ne){const e=i===Ae?je:He,{trimStart:n,trimEnd:o,trimOffset:r,_EffectPath:s}=this;if(s)return s;let a=null;if(1!==Math.abs(n-o)){let i=(n+r)%1,s=(o+r)%1;if(i<0&&(i+=1),s<0&&(s+=1),n>o){const e=s;s=i,i=e}a=s>=i?e(t,i,s,!1):e(t,s,i,!0)}return a||(a=t.copy()),this._EffectPath=a,a}return t}markPathEffectsDirty(){const{_EffectPath:e}=this;e&&(D.default.destroyPath(e),this._EffectPath=null)}get width(){return this._Width}set width(e){this._Width!==e&&(this._Width=e)}get trimStart(){return this._TrimStart}set trimStart(e){this._TrimStart!==e&&(this._TrimStart=e,this.markPathEffectsDirty())}get trimEnd(){return this._TrimEnd}set trimEnd(e){this._TrimEnd!==e&&(this._TrimEnd=e,this.markPathEffectsDirty())}get trimOffset(){return this._TrimOffset}set trimOffset(e){this._TrimOffset!==e&&(this._TrimOffset=e,this.markPathEffectsDirty())}get cap(){return this._Cap}get join(){return this._Join}copy(e,t){super.copy(e,t),this._Width=e._Width,this._Join=e._Join,this._Cap=e._Cap,this._Trim=e._Trim,this._TrimStart=e._TrimStart,this._TrimEnd=e._TrimEnd,this._TrimOffset=e._TrimOffset}resolveComponentIndices(e){super.resolveComponentIndices(e),this._Parent&&this._Parent.addStroke(this)}});class We extends(ze(Be)){constructor(){super()}makeInstance(e){const t=new We;return t.copy(this,e),t}stroke(e,t){const{_Paint:n,runtimeColor:i}=this;t=this.prepStroke(e,t),e.setPaintColor(n,i),e.drawPath(t,n)}}class Pe extends Ve{constructor(){super(),this._ColorStops=new Float32Array(10),this._Start=u.c.create(),this._End=u.c.create(),this._RenderStart=u.c.create(),this._RenderEnd=u.c.create(),this._GradientDirty=!0}copy(e,t){super.copy(e,t),this._ColorStops=new Float32Array(e._ColorStops),u.c.copy(this._Start,e._Start),u.c.copy(this._End,e._End),u.c.copy(this._RenderStart,e._RenderStart),u.c.copy(this._RenderEnd,e._RenderEnd)}completeResolve(){super.completeResolve();const e=this._Actor,t=this._Parent;e.addDependency(this,t)}update(e){super.update(e);const t=this._Parent.worldTransform;u.c.transformMat2d(this._RenderStart,this._Start,t),u.c.transformMat2d(this._RenderEnd,this._End,t),this._GradientDirty=!0}}class Ge extends Pe{constructor(){super(),this._FillRule=Ie.a.EvenOdd}makeInstance(e){const t=new Ge;return Ge.prototype.copy.call(t,this,e),t}copy(e,t){super.copy(e,t),this._FillRule=e._FillRule}dispose(e,t){super.dispose(e,t),this._Gradient&&t.destroyLinearGradient(this._Gradient)}fill(e,t){const{_RenderStart:n,_RenderEnd:i,_ColorStops:o,_Paint:r}=this;if(this._GradientDirty){this._Gradient&&e.destroyLinearGradient(this._Gradient),this._GradientDirty=!1;const t=this._RenderOpacity,s=o.length/5;let a=0;const c=[],u=[];for(let e=0;e<s;e++)c.push([o[a++],o[a++],o[a++],o[a++]*t]),u.push(o[a++]);const l=e.makeLinearGradient(n,i,c,u);r.setShader(l),this._Gradient=l}e.setPathFillType(t,this._FillRule),e.drawPath(t,r)}resolveComponentIndices(e){super.resolveComponentIndices(e),this._Parent&&this._Parent.addFill(this)}}class Ke extends(ze(Pe)){constructor(){super()}makeInstance(e){const t=new Ke;return t.copy(this,e),t}stroke(e,t){const{_RenderStart:n,_RenderEnd:i,_ColorStops:o,_Paint:r}=this;if(t=this.prepStroke(e,t),this._GradientDirty){this._Gradient&&e.destroyLinearGradient(this._Gradient),this._GradientDirty=!1;const t=this._RenderOpacity,s=o.length/5;let a=0;const c=[],u=[];for(let e=0;e<s;e++)c.push([o[a++],o[a++],o[a++],o[a++]*t]),u.push(o[a++]);const l=e.makeLinearGradient(n,i,c,u);r.setShader(l),this._Gradient=l}e.drawPath(t,r)}}class Fe extends Pe{constructor(){super(),this._SecondaryRadiusScale=1}copy(e,t){super.copy(e,t),this._SecondaryRadiusScale=e._SecondaryRadiusScale}}class Qe extends Fe{constructor(){super(),this._FillRule=Ie.a.EvenOdd}makeInstance(e){const t=new Qe;return Qe.prototype.copy.call(t,this,e),t}copy(e,t){super.copy(e,t),this._FillRule=e._FillRule}fill(e,t){const{_Paint:n,_RenderStart:i,_RenderEnd:o,_ColorStops:r,_SecondaryRadiusScale:s}=this;if(this._GradientDirty){this._Gradient&&e.destroyRadialGradient(this._Gradient),this._GradientDirty=!1;const t=this._RenderOpacity,s=r.length/5;let a=0;const c=[],l=[];for(let e=0;e<s;e++)c.push([r[a++],r[a++],r[a++],r[a++]*t]),l.push(r[a++]);const h=e.makeRadialGradient(i,u.c.distance(i,o),c,l);n.setShader(h),this._Gradient=h}e.setPathFillType(t,this._FillRule),e.drawPath(t,n)}resolveComponentIndices(e){super.resolveComponentIndices(e),this._Parent&&this._Parent.addFill(this)}}class Ye extends(ze(Fe)){constructor(){super()}makeInstance(e){const t=new Ye;return t.copy(this,e),t}stroke(e,t){const{_Paint:n,_RenderStart:i,_RenderEnd:o,_ColorStops:r,_SecondaryRadiusScale:s}=this;if(t=this.prepStroke(e,t),this._GradientDirty){this._Gradient&&e.destroyRadialGradient(this._Gradient),this._GradientDirty=!1;const t=this._RenderOpacity,s=r.length/5;let a=0;const c=[],l=[];for(let e=0;e<s;e++)c.push([r[a++],r[a++],r[a++],r[a++]*t]),l.push(r[a++]);const h=e.makeRadialGradient(i,u.c.distance(i,o),c,l);n.setShader(h),this._Gradient=h}e.drawPath(t,n)}}let Ze=new Float32Array(32);class $e{constructor(){this._Value=0,this._Time=0,this._Type=0,this._Interpolator=null}setNext(e){const{_Value:t}=this;t.constructor===Float32Array?this.interpolate=$e.prototype.interpolateVertexBuffer:t.constructor===Array&&t.length>0&&t[0].constructor===Object?this.interpolate=$e.prototype.interpolateDrawOrder:this.interpolate=$e.prototype.interpolateFloat}interpolateDrawOrder(e,t){return this._Value}interpolateVertexBuffer(e,t){return Ze=function(e,t,n,i){e.length<n.length&&(e=new Float32Array(n.length));const o=1-i,r=n.length;for(let s=0;s<r;s++)e[s]=t[s]*o+n[s]*i;return e}(Ze,this._Value,t._Value,e)}interpolateFloat(e,t){return this._Value*(1-e)+t._Value*e}}$e.Type={Hold:0,Linear:1,Mirrored:2,Asymmetric:3,Disconnected:4,Progression:5};var Je=n(221),Xe=n.n(Je);class qe{getEasedMix(e){return 0}}qe.instance=new qe;class Re{getEasedMix(e){return e}}Re.instance=new Re;class et{constructor(e,t,n,i){this._Bezier=Xe()(e,t,n,i)}getEasedMix(e){return this._Bezier(e)}}function tt(e,t){return{id:e,key:t}}const nt={Nodes:tt(1,"nodes"),ActorNode:tt(2,"node"),ActorBone:tt(3,"bone"),ActorRootBone:tt(4,"rootBone"),ActorImage:tt(5,"image"),View:tt(6,"view"),Animation:tt(7,"animation"),Animations:tt(8,"animations"),Atlases:tt(9,"atlases"),Atlas:tt(10,"atlas"),ActorEvent:tt(12,"event"),CustomIntProperty:tt(13,"customInt"),CustomFloatProperty:tt(14,"customFloat"),CustomStringProperty:tt(15,"customString"),CustomBooleanProperty:tt(16,"customBool"),ActorImageSequence:tt(22,"imageSequence"),ActorNodeSolo:tt(23,"solo"),JellyComponent:tt(28,"jelly"),ActorJellyBone:tt(29,"jellyBone"),ActorIKConstraint:tt(30,"ikConstraint"),ActorDistanceConstraint:tt(31,"distanceConstraint"),ActorTranslationConstraint:tt(32,"translationConstraint"),ActorRotationConstraint:tt(33,"rotationConstraint"),ActorScaleConstraint:tt(34,"scaleConstraint"),ActorTransformConstraint:tt(35,"transformConstraint"),ActorShape:tt(100,"shape"),ActorPath:tt(101,"path"),ColorFill:tt(102,"colorFill"),ColorStroke:tt(103,"colorStroke"),GradientFill:tt(104,"gradientFill"),GradientStroke:tt(105,"gradientStroke"),RadialGradientFill:tt(106,"radialGradientFill"),RadialGradientStroke:tt(107,"radialGradientStroke"),ActorEllipse:tt(108,"ellipse"),ActorRectangle:tt(109,"rectangle"),ActorTriangle:tt(110,"triangle"),ActorStar:tt(111,"star"),ActorPolygon:tt(112,"polygon"),ActorSkin:tt(113,"skin"),ActorArtboard:tt(114,"artboard"),Artboards:tt(115,"artboards")},it={},ot=new Map;for(const e in nt){const t=nt[e];it[e]=t.id,ot.set(t.key,t.id)}class rt{static get Types(){return it}static fromString(e){return ot.get(e)||0}}n.d(t,"default",function(){return dn});const st=rt.Types,{Off:at}=Le,ct=a.Types,ut={bin:{stream:_,container:Uint8Array,extension:".nma"},json:{stream:k,container:Object,extension:"nmj"}};function lt(e,t,n){if(e.isEOF())return null;let i=0,o=0;const r=e.containerType,s=ut[r];try{if(void 0===(i=e.readBlockType(n)))return null;const r=e.readUint32Length();o=new s.container(r),e.readRaw(o,r)}catch(e){return console.log(e.constructor),t&&t(e),null}return{type:i,reader:new s.stream(o)}}function ht(e,t){t.readUint16Length();let n=e._Components,i=null;for(;null!==(i=lt(t,function(t){e.actor.error=t},rt));){let t=null;switch(i.type){case st.CustomIntProperty:case st.CustomStringProperty:case st.CustomFloatProperty:case st.CustomBooleanProperty:t=Et(i.reader,new ce,i.type);break;case st.ColliderRectangle:t=Dt(i.reader,new ne.default);break;case st.ColliderTriangle:t=Tt(i.reader,new ie.default);break;case st.ColliderCircle:t=It(i.reader,new oe.default);break;case st.ColliderPolygon:t=Ct(i.reader,new re.default);break;case st.ColliderLine:t=yt(i.reader,new se.default);break;case st.ActorEvent:t=Lt(i.reader,new E);break;case st.ActorNode:t=Nt(i.reader,new c.a);break;case st.ActorBone:t=mt(i.reader,new h);break;case st.ActorJellyBone:t=Ut(i.reader,new V);break;case st.JellyComponent:t=jt(i.reader,new G);break;case st.ActorRootBone:t=Ht(i.reader,new K);break;case st.ActorImage:t=ln(i.reader,new Y);break;case st.ActorImageSequence:t=hn(i.reader,new Y);break;case st.ActorIKTarget:t=Vt(e.actor.dataVersion,i.reader,new te);break;case st.NestedActorNode:t=fn(i.reader,new ae,e._NestedActorAssets);break;case st.ActorNodeSolo:t=At(i.reader,new p);break;case st.ActorIKConstraint:t=xt(i.reader,new R);break;case st.ActorDistanceConstraint:t=zt(i.reader,new fe);break;case st.ActorTransformConstraint:t=Wt(i.reader,new we);break;case st.ActorTranslationConstraint:t=Gt(i.reader,new ge);break;case st.ActorScaleConstraint:t=Gt(i.reader,new _e);break;case st.ActorRotationConstraint:t=Pt(i.reader,new Me);break;case st.ActorShape:t=Kt(i.reader,new Ee);break;case st.ActorPath:t=un(i.reader,new y);break;case st.ColorFill:t=Xt(i.reader,new xe);break;case st.ColorStroke:t=Rt(i.reader,new We);break;case st.GradientFill:t=nn(i.reader,new Ge);break;case st.GradientStroke:t=on(i.reader,new Ke);break;case st.RadialGradientFill:t=rn(i.reader,new Qe);break;case st.RadialGradientStroke:t=sn(i.reader,new Ye);break;case st.ActorEllipse:t=Jt(i.reader,new A);break;case st.ActorRectangle:t=Yt(i.reader,new U);break;case st.ActorTriangle:t=$t(i.reader,new H);break;case st.ActorStar:t=Qt(i.reader,new j);break;case st.ActorPolygon:t=Zt(i.reader,new m);break;case st.ActorSkin:t=St(i.reader,new pe)}t&&(t._Idx=n.length),n.push(t)}e.resolveHierarchy()}function ft(e,t){const n=new w(e);e._Animations.push(n),n._Name=t.readString("name"),n._FPS=t.readUint8("fps"),n._Duration=t.readFloat32("duration"),n._Loop=t.readBool("isLooping"),t.openArray("keyed");const i=t.readUint16Length();if(i>0){for(let o=0;o<i;o++){t.openObject("component");const i=t.readId("component");let o=e._Components[i];if(o){const r=new ue(i);o.constructor===E?n._TriggerComponents.push(r):n._Components.push(r);const s=t.readUint16Length();for(let n=0;n<s;n++){let n=lt(t,function(t){e.actor.error=t},a);const i=n.reader,s=n.type;let c=!1;switch(s){case ct.PosX:case ct.PosY:case ct.ScaleX:case ct.ScaleY:case ct.Rotation:case ct.Opacity:case ct.DrawOrder:case ct.Length:case ct.ImageVertices:case ct.ConstraintStrength:case ct.Trigger:case ct.IntProperty:case ct.FloatProperty:case ct.StringProperty:case ct.BooleanProperty:case ct.IsCollisionEnabled:case ct.ActiveChildIndex:case ct.Sequence:case ct.PathVertices:case ct.FillColor:case ct.StrokeColor:case ct.StrokeWidth:case ct.StrokeStart:case ct.StrokeEnd:case ct.StrokeOffset:case ct.FillGradient:case ct.StrokeGradient:case ct.FillRadial:case ct.StrokeRadial:case ct.StrokeOpacity:case ct.FillOpacity:case ct.ShapeWidth:case ct.ShapeHeight:case ct.CornerRadius:case ct.InnerRadius:c=!0}if(!c)continue;const u=new a(s);r._Properties.push(u),i.openArray("frames");const l=i.readUint16Length();let h=null;for(let t=0;t<l;t++){let t=new $e(u);switch(i.openObject("frame"),t._Time=i.readFloat64("time"),s){case ct.IsCollisionEnabled:case ct.BooleanProperty:case ct.StringProperty:case ct.Trigger:case ct.DrawOrder:case ct.ActiveChildIndex:t._Interpolator=qe.instance;break;default:switch(i.readUint8("interpolatorType")){case 0:t._Interpolator=qe.instance;break;case 1:t._Interpolator=Re.instance;break;case 2:t._Interpolator=new et(i.readFloat32("cubicX1"),i.readFloat32("cubicY1"),i.readFloat32("cubicX2"),i.readFloat32("cubicY2"))}break}if(s===ct.PathVertices){const n=e._Components[r._ComponentIndex],o=n._Points.length,s=[];i.openArray("value");for(let e=0;e<o;e++){const t=n._Points[e],o=i.readFloat32("translationX"),r=i.readFloat32("translationX");if(s.push(o,r),t.constructor===f.c)s.push(i.readFloat32("radius"));else{const e=i.readFloat32("inValueX"),t=i.readFloat32("inValueY");s.push(e,t);const n=i.readFloat32("outValueX"),o=i.readFloat32("outValueY");s.push(n,o)}}i.closeArray(),t._Value=new Float32Array(s)}else if(s===ct.FillColor||s===ct.StrokeColor)t._Value=i.readFloat32Array(new Float32Array(4),"value");else if(s===ct.FillGradient||s===ct.StrokeGradient||s===ct.StrokeRadial||s===ct.FillRadial){const e=i.readUint16("length");t._Value=i.readFloat32Array(new Float32Array(e),"value")}else if(s===ct.Trigger)   ;else if(s===ct.IntProperty)t._Value=i.readInt32("value");else if(s===ct.StringProperty)t._Value=i.readString("value");else if(s===ct.BooleanProperty||s===ct.IsCollisionEnabled)t._Value=i.readBool("value");else if(s===ct.DrawOrder){i.openArray("drawOrder");const e=i.readUint16Length(),n=[];for(let t=0;t<e;t++){i.openObject("order");const e=i.readId("component"),t=i.readUint16("order");i.closeObject(),n.push({componentIdx:e,value:t})}i.closeArray(),t._Value=n}else s===ct.ImageVertices?(t._Value=new Float32Array(2*o._NumVertices),i.readFloat32Array(t._Value,"array")):t._Value=i.readFloat32("value");s===ct.DrawOrder&&(t._Interpolator=qe.instance),h&&h.setNext(t),u._KeyFrames.push(t),h=t,i.closeObject()}h&&h.setNext(null)}}else{const n=t.readUint16();for(let i=0;i<n;i++){lt(t,function(t){e.actor.error=t})}}t.closeObject()}t.closeArray()}else t.closeArray()}function dt(e,t){t.readUint16Length();let n=null;for(;null!==(n=lt(t,function(t){e.actor.error=t},rt));)switch(n.type){case st.Animation:ft(e,n.reader)}}function vt(e,t){let n=new le(t.readString(),t.readString());e._NestedActorAssets.push(n)}function wt(e,t){t.readUint16();let n=null;for(;null!==(n=lt(t,function(t){e.error=t}));)switch(n.type){case st.NestedActorAsset:vt(e,n.reader)}}function bt(e,t,n){const i=t.readBool("isOOB");t.openArray("data");const o=t.readUint16Length();let r=o,s=0,a=r!==s;for(let c=0;c<o;c++)t.readImage(i,t=>{e._Atlases.push(new b(t)),++s===r&&(a=!1,n())});return t.closeArray(),a}function gt(e,t,n){let i=t._NestedActorAssets.length,o=e.loadNestedActor;if(0!=i&&o)for(let e of t._NestedActorAssets)o(e,function(o){e._Actor=o,--i<=0&&n(t)});else n(t)}function _t(e,t){t.readUint16Length();const n=e._Artboards;let i=null;for(;null!==(i=lt(t,function(t){e.error=t},rt));)switch(i.type){case st.ActorArtboard:{const t=Mt(i.reader,new Te(e),i.type);t&&n.push(t);break}}}function kt(e,t,n){let i=new _(new Uint8Array(t));if(70!==i.readUint8()||76!==i.readUint8()||65!==i.readUint8()||82!==i.readUint8()||69!==i.readUint8()){const e=new DataView(t),n=new TextDecoder("utf-8").decode(e);i=new k({container:JSON.parse(n)})}const o=i.readUint32("version"),r=new S;r.dataVersion=o;let s=null,a=!1;for(;null!==(s=lt(i,function(e){r.error=e},rt));)switch(s.type){case st.Artboards:_t(r,s.reader);break;case st.Atlases:bt(r,s.reader,function(){gt(e,r,n)})&&(a=!0);break;case st.NestedActorAssets:wt(r,s.reader)}a||gt(e,r,n)}function Mt(e,t){t._Name=e.readString("name"),e.readFloat32Array(t._Translation,"translation"),t._Width=e.readFloat32("width"),t._Height=e.readFloat32("height"),e.readFloat32Array(t._Origin,"origin"),t._ClipContents=e.readBool("clipContents"),e.readFloat32Array(t._Color,"color");let n=null;for(;null!==(n=lt(e,function(e){t.actor.error=e},rt));)switch(n.type){case st.Nodes:ht(t,n.reader);break;case st.Animations:dt(t,n.reader)}return t}function St(e,t){return t._Name=e.readString("name"),t._ParentIdx=e.readId("parent"),t}function Ot(e,t){return St(e,t),t._Opacity=e.readFloat32("opacity"),t}function Et(e,t,n){switch(St(e,t),n){case st.CustomIntProperty:t._PropertyType=ce.Type.Integer,t._Value=e.readInt32("int");break;case st.CustomFloatProperty:t._PropertyType=ce.Type.Float,t._Value=e.readFloat32("float");break;case st.CustomStringProperty:t._PropertyType=ce.Type.String,t._Value=e.readString("string");break;case st.CustomBooleanProperty:t._PropertyType=ce.Type.Boolean,t._Value=e.readBool("bool")}return t}function pt(e,t){return Nt(e,t),t._IsCollisionEnabled=e.readBool("isCollisionEnabled"),t}function Dt(e,t){return pt(e,t),t._Width=e.readFloat32("width"),t._Height=e.readFloat32("height"),t}function Tt(e,t){return pt(e,t),t._Width=e.readFloat32("width"),t._Height=e.readFloat32("height"),t}function It(e,t){return pt(e,t),t._Radius=e.readFloat32("radius"),t}function Ct(e,t){pt(e,t);const n=e.readUint32("cc");return t._ContourVertices=new Float32Array(2*n),e.readFloat32Array(t._ContourVertices,"countour"),t}function yt(e,t){pt(e,t);const n=e.readUint32("lineDataLength");return t._Vertices=new Float32Array(2*n),e.readFloat32Array(t._Vertices,"lineData"),t}function Lt(e,t){return St(e,t),t}function Nt(e,t){St(e,t),e.readFloat32Array(t._Translation,"translation"),t._Rotation=e.readFloat32("rotation"),e.readFloat32Array(t._Scale,"scale"),t._Opacity=e.readFloat32("opacity"),t._IsCollapsedVisibility=e.readBool("isCollapsed"),e.openArray("clips");const n=e.readUint8Length();if(n){t._Clips=[];for(let i=0;i<n;i++)t._Clips.push(e.readId("clip"))}return e.closeArray(),t}function At(e,t){return Nt(e,t),t._ActiveChildIndex=e.readUint32("activeChild"),t}function mt(e,t){return Nt(e,t),t._Length=e.readFloat32("length"),t}function Ut(e,t){return St(e,t),t._Opacity=e.readFloat32("opacity"),t._IsCollapsedVisibility=e.readBool("isCollapsedVisibility"),t}function jt(e,t){return St(e,t),t._EaseIn=e.readFloat32("easeIn"),t._EaseOut=e.readFloat32("easeOut"),t._ScaleIn=e.readFloat32("scaleIn"),t._ScaleOut=e.readFloat32("scaleOut"),t._InTargetIdx=e.readId("inTarget"),t._OutTargetIdx=e.readId("outTarget"),t}function Ht(e,t){return Nt(e,t),t}function Vt(e,t,n){Nt(t,n),n._Strength=t.readFloat32(),n._InvertDirection=1===t.readUint8();let i=t.readUint8();if(i>0){n._InfluencedBones=[];for(let e=0;e<i;e++)n._InfluencedBones.push(t.readUint16())}return n}function Bt(e,t){!function(e,t){St(e,t),t._Strength=e.readFloat32("strength"),t._IsEnabled=e.readBool("isEnabled")}(e,t),t._TargetIdx=e.readId("target")}function xt(e,t){Bt(e,t),t._InvertDirection=e.readBool("isInverted"),e.openArray("bones");const n=e.readUint8Length();if(n>0){t._InfluencedBones=[];for(let i=0;i<n;i++)t._InfluencedBones.push(e.readId(""))}return e.closeArray(),t}function zt(e,t){return Bt(e,t),t._Distance=e.readFloat32("distance"),t._Mode=e.readUint8("modeId"),t}function Wt(e,t){return Bt(e,t),t._SourceSpace=e.readUint8("sourceSpaceId"),t._DestSpace=e.readUint8("destSpaceId"),t}function Pt(e,t){return Bt(e,t),(t._Copy=e.readBool("copy"))&&(t._Scale=e.readFloat32("scale")),(t._EnableMin=e.readBool("enableMin"))&&(t._Min=e.readFloat32("min")),(t._EnableMax=e.readBool("enableMax"))&&(t._Max=e.readFloat32("max")),t._Offset=e.readBool("offset"),t._SourceSpace=e.readUint8("sourceSpaceId"),t._DestSpace=e.readUint8("destSpaceId"),t._MinMaxSpace=e.readUint8("minMaxSpaceId"),t}function Gt(e,t){return Bt(e,t),(t._CopyX=e.readBool("copyX"))&&(t._ScaleX=e.readFloat32("scaleX")),(t._EnableMinX=e.readBool("enableMinX"))&&(t._MinX=e.readFloat32("minX")),(t._EnableMaxX=e.readBool("enableMaxX"))&&(t._MaxX=e.readFloat32("maxX")),(t._CopyY=e.readBool("copyY"))&&(t._ScaleY=e.readFloat32("scaleY")),(t._EnableMinY=e.readBool("enableMinY"))&&(t._MinY=e.readFloat32("minY")),(t._EnableMaxY=e.readBool("enableMaxY"))&&(t._MaxY=e.readFloat32("maxY")),t._Offset=e.readBool("offset"),t._SourceSpace=e.readUint8("sourceSpaceId"),t._DestSpace=e.readUint8("destSpaceId"),t._MinMaxSpace=e.readUint8("minMaxSpaceId"),t}function Kt(e,t){return an(e,t),t}function Ft(e,t){return Nt(e,t),t._Width=e.readFloat32("width"),t._Height=e.readFloat32("height"),t}function Qt(e,t){return Ft(e,t),t._Points=e.readUint32("points"),t._InnerRadius=e.readFloat32("innerRadius"),t}function Yt(e,t){return Ft(e,t),t._CornerRadius=e.readFloat32("cornerRadius"),t}function Zt(e,t){return Ft(e,t),t._Sides=e.readUint32("sides"),t}function $t(e,t){return Ft(e,t),t}function Jt(e,t){return Ft(e,t),t}function Xt(e,t){return Ot(e,t),e.readFloat32Array(t._Color,"color"),t._FillRule=e.readUint8("fillRule"),t}function qt(e,t){t._Width=e.readFloat32("width"),t._Cap=e.readUint8("cap"),t._Join=e.readUint8("join"),t._Trim=e.readUint8("trim"),t._Trim!==at&&(t._TrimStart=e.readFloat32("start"),t._TrimEnd=e.readFloat32("end"),t._TrimOffset=e.readFloat32("offset"))}function Rt(e,t){return Ot(e,t),e.readFloat32Array(t._Color,"color"),qt(e,t),t}function en(e,t){const n=e.readUint8("numColorStops"),i=new Float32Array(5*n);return e.readFloat32Array(i,"colorStops"),t._ColorStops=i,e.readFloat32Array(t._Start,"start"),e.readFloat32Array(t._End,"end"),t}function tn(e,t){return en(e,t),t._SecondaryRadiusScale=e.readFloat32("secondaryRadiusScale"),t}function nn(e,t){return Ot(e,t),en(e,t),t._FillRule=e.readUint8("fillRule"),t}function on(e,t){return Ot(e,t),en(e,t),qt(e,t),t}function rn(e,t){return Ot(e,t),tn(e,t),t._FillRule=e.readUint8("fillRule"),t}function sn(e,t){return Ot(e,t),tn(e,t),qt(e,t),t}function an(e,t){Nt(e,t),t._IsHidden=!e.readBool("isVisible");const n=e.readUint8("blendMode");t._BlendMode=F.a.fromID(n),t._DrawOrder=e.readUint16("drawOrder")}function cn(e,t){e.openArray("bones");const n=e.readUint8Length();if(n>0){t._ConnectedBones=[];for(let i=0;i<n;i++){e.openObject("bone");const n=u.a.create(),i=e.readId("component");e.readFloat32Array(n,"bind"),e.closeObject(),t._ConnectedBones.push({componentIndex:i,bind:n,ibind:u.a.invert(u.a.create(),n)})}e.closeArray();const i=u.a.create();e.readFloat32Array(i,"worldTransform"),u.a.copy(t._WorldTransform,i),t._OverrideWorldTransform=!0}else e.closeArray()}function un(e,t){Nt(e,t),cn(e,t),t._IsHidden=!e.readBool("isVisible"),t._IsClosed=e.readBool("isClosed"),e.openArray("points");const n=e.readUint16Length(),i=new Array(n),o=t._ConnectedBones&&t._ConnectedBones.length>0;for(let t=0;t<n;t++){e.openObject("point");const n=e.readUint8("pointType");let r=null;switch(n){case f.b.Straight:r=new f.c,e.readFloat32Array(r._Translation,"translation"),r._Radius=e.readFloat32("radius"),o&&(r._Weights=new Float32Array(8));break;default:r=new f.a,e.readFloat32Array(r._Translation,"translation"),e.readFloat32Array(r._In,"in"),e.readFloat32Array(r._Out,"out"),o&&(r._Weights=new Float32Array(24))}if(r._Weights&&e.readFloat32Array(r._Weights,"weights"),e.closeObject(),!r)throw new Error("Invalid point type "+n);r._PointType=n,i[t]=r}return e.closeArray(),t._Points=i,t}function ln(e,t){if(an(e,t),cn(e,t),!t.isHidden){t._AtlasIndex=e.readUint8("atlas");const n=e.readUint32("numVertices"),i=t.isConnectedToBones?12:4;t._NumVertices=n,t._VertexStride=i,t._Vertices=new Float32Array(n*i),e.readFloat32Array(t._Vertices,"vertices");const o=e.readUint32("numTriangles");t._Triangles=new Uint16Array(3*o),e.readUint16Array(t._Triangles,"triangles")}return t}function hn(e,t){if(ln(e,t),-1!=t._AtlasIndex){e.openArray("frames");const n=e.readUint16Length();t._SequenceFrames=[];const i=new Float32Array(2*t._NumVertices*n),o=2*t._NumVertices;t._SequenceUVs=i;const r={atlas:t._AtlasIndex,offset:0};t._SequenceFrames.push(r);let s=2,a=0;for(let e=0;e<t._NumVertices;e++)i[a++]=t._Vertices[s],i[a++]=t._Vertices[s+1],s+=t._VertexStride;let c=o;for(let r=1;r<n;r++){e.openObject("frame");let n={atlas:e.readUint8("atlas"),offset:4*c};t._SequenceFrames.push(n),e.readFloat32ArrayOffset(i,o,c,"uv"),e.closeObject(),c+=o}e.closeArray()}return t}function fn(e,t,n){if(Nt(e,t),e.readUint8()){t._DrawOrder=e.readUint16();let i=e.readUint16();i<n.length&&(t._Asset=n[i])}return t}class dn{load(e,t){let n=this;if(e.constructor===String){let i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){let e=new FileReader;e.onload=function(){kt(n,this.result,t)},e.readAsArrayBuffer(this.response)},i.send()}else{let i=new FileReader;i.onload=function(){kt(n,this.result,t)},i.readAsArrayBuffer(e)}}}},25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=!1;function o(){return i||console.warn("Pixel not initialized before using call FacebookPixel.init with required params."),i}var r=null,s={init:function(e){var t,n,o,s,a,c;t=window,n=document,o="script",t.fbq||(s=t.fbq=function(){s.callMethod?s.callMethod.apply(s,arguments):s.queue.push(arguments)},t._fbq||(t._fbq=s),s.push=s,s.loaded=!0,s.version="2.0",s.queue=[],(a=n.createElement(o)).async=!0,a.src="https://connect.facebook.net/en_US/fbevents.js",(c=n.getElementsByTagName(o)[0]).parentNode.insertBefore(a,c)),r=window.fbq,e?(r("init",e),i=!0):console.warn("Insert pixel id for initializing")},pageView:function(){o()&&r("track","PageView")},track:function(e,t){o()&&r("track",e,t)},trackCustom:function(e,t){o()&&r("trackCustom",e,t)},fbq:function(){if(o())return r}};t.default=s},259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(260),s=(i=r)&&i.__esModule?i:{default:i};var a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.bytes=new Uint8Array(t.alignment),e.size=0,e.writeIndex=0;var n=new ArrayBuffer(4);return e.int32View=new Int32Array(n),e.int32View.raw=new Uint8Array(n),e.uint32View=new Uint32Array(n),e.uint32View.raw=new Uint8Array(n),e.float32View=new Float32Array(n),e.float32View.raw=new Uint8Array(n),n=new ArrayBuffer(2),e.int16View=new Int16Array(n),e.int16View.raw=new Uint8Array(n),e.uint16View=new Uint16Array(n),e.uint16View.raw=new Uint8Array(n),n=new ArrayBuffer(8),e.float64View=new Float64Array(n),e.float64View.raw=new Uint8Array(n),n=new ArrayBuffer(1),e.int8View=new Int8Array(n),e.int8View.raw=new Uint8Array(n),e.uint8View=new Uint8Array(n),e.uint8View.raw=new Uint8Array(n),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"ensureAvailable",value:function(e){for(;this.writeIndex+e>this.bytes.length;){var n=new Uint8Array(this.bytes.length+t.alignment);n.set(this.bytes),this.bytes=n}}},{key:"toBlob",value:function(e){var t=new Uint8Array(this.bytes.buffer,0,this.size);return new Blob([t],{type:e})}},{key:"toArrayBuffer",value:function(e){return new Uint8Array(this.bytes.buffer,0,this.size)}},{key:"write",value:function(e,t){var n=e;void 0!==t&&(e[0]=t,n=e.raw),this.ensureAvailable(n.length);var i,o,r,s=0,a=n.length,c=1;i=new ArrayBuffer(4),o=new Uint32Array(i),r=new Uint8Array(i),o[0]=3735928559,222==r[0]&&(s=n.length-1,a=-1,c=-1);for(var u=s;u!=a;u+=c)this.bytes[this.writeIndex++]=n[u];this.size+=n.length}},{key:"writeFloat32",value:function(e){this.write(this.float32View,e)}},{key:"writeFloat64",value:function(e){this.write(this.float64View,e)}},{key:"writeUint8",value:function(e){this.write(this.uint8View,e)}},{key:"writeUint8length",value:function(e){this.writeUint8(e)}},{key:"writeInt8",value:function(e){this.write(this.int8View,e)}},{key:"writeUint16",value:function(e){this.write(this.uint16View,e)}},{key:"writeId",value:function(e){e=void 0!==e?e+1:0,this.writeUint16(e)}},{key:"writeUint16length",value:function(e){this.writeUint16(e)}},{key:"writeInt16",value:function(e){this.write(this.int16View,e)}},{key:"writeUint32",value:function(e){this.write(this.uint32View,e)}},{key:"writeUint32length",value:function(e){this.writeUint32(e)}},{key:"writeInt32",value:function(e){this.write(this.int32View,e)}},{key:"stringToByteArray",value:function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return new Uint8Array(t)}},{key:"writeString",value:function(e){var t=this.stringToByteArray(e);this.writeUint32(t.length),this.write(t)}},{key:"writeFloat32Array",value:function(e){for(var t=0;t<e.length;t++)this.writeFloat32(e[t])}},{key:"writeUint16Array",value:function(e){for(var t=0;t<e.length;t++)this.writeUint16(e[t])}},{key:"writeBool",value:function(e){this.writeUint8(e?1:0)}},{key:"writeRaw",value:function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length),this.ensureAvailable(n);for(var i=t+n,o=t;o!=i;o++)this.bytes[this.writeIndex++]=e[o];this.size+=n}},{key:"writeBlock",value:function(e){this.writeUint8(e._blockType),this.writeUint32(e.size),this.writeRaw(e.bytes,0,e.size)}},{key:"sign",value:function(e){var t=e.split("").map(function(e){return e.charCodeAt(0)}),n=!0,i=!1,o=void 0;try{for(var r,s=t[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var a=r.value;this.writeUint8(a)}}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}}},{key:"buffer",get:function(){for(var e=this.size,t=new Uint8Array(e),n=0;n<e;n++)t[n]=this.bytes[n];return t}}],[{key:"alignment",get:function(){return 1024}}]),t}();t.default=a},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=a(n(28)),r=a(n(17)),s=a(n(25));function a(e){return e&&e.__esModule?e:{default:e}}a(n(23)).default.pageview(window.location.pathname+window.location.search);t.default=function(e,t,n){var a=window.__props||{environment:"unknown",buildNumber:"unknown"},c="local"!=a.environment,u={enabled:c,accessToken:"4339b2dc97e04ce8ac3ec75d31a13fe9",captureUncaught:c,captureUnhandledRejections:!1,payload:{environment:a.environment,client:{javascript:{source_map_enabled:!0,guess_uncaught_frames:!0,code_version:a.buildNumber||"dev"}}},transform:function(e){var t=e.body.trace,n=/^(https?):\/\/[a-zA-Z0-9._-]+\.2dimensions\.com(.*)/;if(t&&t.frames)for(var i=0;i<t.frames.length;i++){var o=t.frames[i].filename;if(o){var r=o.match(n);r&&r.length&&(t.frames[i].filename=r[1]+"://dynamichost"+r[2])}}}};a.fb&&(s.default.init(a.fb),s.default.pageView()),a.user&&(u.payload.person={id:a.user.id,username:a.user.username}),r.default.init(u);var l=i.default.createElement(t,a);o.default.render(l,document.getElementById("container"))}},260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"toBlob",value:function(e){}},{key:"sign",value:function(){}},{key:"writeFloat32",value:function(e,t){}},{key:"writeFloat64",value:function(e,t){}},{key:"writeUint8",value:function(e,t){}},{key:"writeInt8",value:function(e,t){}},{key:"writeUint16",value:function(e,t){}},{key:"writeInt16",value:function(e,t){}},{key:"writeUint32",value:function(e,t){}},{key:"writeInt32",value:function(e,t){}},{key:"writeString",value:function(e,t){}},{key:"writeFloat32Array",value:function(e,t){}},{key:"writeUint16Array",value:function(e,t){}},{key:"writeBool",value:function(e,t){}},{key:"writeUint8length",value:function(e){}},{key:"writeUint16length",value:function(e){}},{key:"writeUint32length",value:function(e){}},{key:"writeBlock",value:function(e){}},{key:"writeRaw",value:function(e,t,n){}},{key:"writeId",value:function(e,t){}},{key:"openObject",value:function(e){}},{key:"closeObject",value:function(){}},{key:"openArray",value:function(e){}},{key:"closeArray",value:function(){}}]),e}();t.default=o},263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=new Map,r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._Label=t,this._ID=n,o.set(t,this)}return i(e,[{key:"toString",value:function(){return this._Label}},{key:"id",get:function(){return this._ID}}],[{key:"fromString",value:function(t){return o.get(t)||e.Idle}}]),e}();t.default=r,r.Idle=new r("idle",0),r.Save=new r("save",1),r.Preview=new r("preview",2),r.ReadOnly=new r("readonly",3)},27:function(e,t,n){var i=n(156);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insertAt:"top",hmr:!0,transform:void 0};n(14)(i,o);i.locals&&(e.exports=i.locals)},271:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(208),s=(i=r)&&i.__esModule?i:{default:i};var a=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return o(t,null,[{key:"toBlob",value:function(e,t){if(e.bytes&&e.width&&e.height&&e.channels){var n=e.width,i=e.height,o=e.channels,r=e.bytes,s=document.createElement("canvas");s.width=n,s.height=i;for(var a=s.getContext("2d"),c=a.createImageData(n,i),u=0;u<n;u++)for(var l=0;l<i;l++)for(var h=l*n+u,f=4*h,d=h*o,v=0;v<o;v++)c.data[f+v]=r[d+v];a.putImageData(c,0,0),s.toBlob(function(e){t(e)},"image/png")}else t(null)}},{key:"fromUrl",value:function(e,t){var n=document.createElement("img");n.src=e,n.onload=function(){var e=document.createElement("canvas");if(this.width&&this.height){e.width=this.width,e.height=this.height;var n=e.getContext("2d");if(n){n.drawImage(this,0,0);var i=n.getImageData(0,0,this.width,this.height),o={width:i.width,height:i.height,channels:4,bytes:new Uint8Array(i.data)};e.toBlob(function(e){t(o,URL.createObjectURL(e))},"image/png")}else t(null)}else t(null)},n.onerror=function(){t(null)}}},{key:"fromFile",value:function(e,n){switch(e.constructor){case Object:return void n(e);case Uint8Array:case ArrayBuffer:e=new Blob([e])}var i=URL.createObjectURL(e);t.fromUrl(i,n)}},{key:"createSignedDistanceField",value:function(e,n){s.default.isSupported?t.callWorker("createSignedDistanceField",[e],n):n(null)}},{key:"toCompressedBuffer",value:function(t,i,o){var r=t.width,s=t.height,a=t.channels,c=t.bytes,u=r*s;if("undefined"!=typeof document){var l=document.createElement("canvas");l.width=r,l.height=s;for(var h=l.getContext("2d"),f=h.getImageData(0,0,l.width,l.height),d=f.data,v=0,w=0,b=0;b<u;b++){var g=0;if(1===a){var _=c[w++];d[v++]=_,d[v++]=_,d[v++]=_,g+=3}else for(;g<a;)d[v++]=c[w++],g++;for(;g<4;)d[v++]=255,g++}h.putImageData(f,0,0),l.toBlob(function(e){var t=new FileReader;t.onload=function(e){o(new Uint8Array(e.target.result))},t.readAsArrayBuffer(e)},i)}else{var k=n(360),M=void 0;if(4===a)M=e.from(c);else for(var S=0,O=0,E=e.alloc(4*u),p=0;p<u;p++){var D=0;if(1===a){var T=c[O++];E[S++]=T,E[S++]=T,E[S++]=T,D+=3}else for(;D<a;)E[S++]=c[O++],D++;for(;D<4;)E[S++]=255,D++}new k({data:M,width:r,height:s},function(e,t){e?o(null):t.getBuffer(i,function(e,t){o(t)})})}}}]),t}();t.default=a,s.default.isSupported&&(a.callWorkerId=0,a.callWorkerCallbacks={},a.callWorker=function(e,t,n){a.callWorkerId++,a.callWorkerCallbacks[a.callWorkerId]=n,t.push(a.callWorkerId),a.worker.postMessage({call:e,arguments:t})},a.worker=new Worker(s.default.getWorkerScript("BitmapWorker.js")),a.worker.onmessage=function(e){var t=a.callWorkerCallbacks[e.data.id];t&&(t(e.data.response),delete a.callWorkerCallbacks[e.data.id])})}).call(this,n(246).Buffer)},285:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(260),s=(i=r)&&i.__esModule?i:{default:i};var a=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._context=[],t._block=e?[]:{},t._context=[t._block],t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),o(n,[{key:"write",value:function(e,t){this.last.constructor===Array?this.last.push(e):this.last.constructor===Object&&(this.last[t]=e)}},{key:"writeFloat32",value:function(e,t){this.write(e,t)}},{key:"writeFloat64",value:function(e,t){this.write(e,t)}},{key:"writeUint8",value:function(e,t){this.write(e,t)}},{key:"writeInt8",value:function(e,t){this.write(e,t)}},{key:"writeUint16",value:function(e,t){this.write(e,t)}},{key:"writeInt16",value:function(e,t){this.write(e,t)}},{key:"writeUint32",value:function(e,t){this.write(e,t)}},{key:"writeInt32",value:function(e,t){this.write(e,t)}},{key:"writeString",value:function(e,t){this.write(e,t)}},{key:"writeFloat32Array",value:function(e,t){var n=Array.from(e);this.write(n,t)}},{key:"writeUint16Array",value:function(e,t){var n=Array.from(e);this.write(n,t)}},{key:"writeBool",value:function(e,t){this.write(!!e,t)}},{key:"writeId",value:function(e,t){this.write(e,t)}},{key:"openObject",value:function(e){var t={};return this.write(t,e),this._context.unshift(t),this.last}},{key:"closeObject",value:function(){if(this.last.constructor===Object)return this._context.shift();console.warn("Trying to close the wrong thing?",this.last)}},{key:"openArray",value:function(e){var t=[];return this.write(t,e),this._context.unshift(t),this.last}},{key:"closeArray",value:function(){if(this.last.constructor===Array)return this._context.shift();console.warn("This is not an array!",this.last)}},{key:"writeBlock",value:function(e){var t=e._block;this.last.constructor===Array&&(e._block.constructor===Array?(t={})[e._blockType]=e._block:e._block.constructor===Object&&((t=e._block).type=e._blockType)),this.write(t,e._blockType)}},{key:"writeRaw",value:function(e,t){this._writeBase64(e,t)}},{key:"_writeBase64",value:function(t,n){for(var i=t.length,o=0,r="",s=void 0;o<i;)s=t.subarray(o,Math.min(o+32768,i)),r+=String.fromCharCode.apply(null,s),o+=32768;var a="data:image/png;base64,"+("undefined"!=typeof document?btoa(r):e.from(r,"binary").toString("base64"));this.writeString(a,n)}},{key:"toBlob",value:function(e){console.log("FINAL",this._block);var t=JSON.stringify(this._block,null,"\t");return new Blob([t],{type:e||"application/json"})}},{key:"toArrayBuffer",value:function(e){for(var t=JSON.stringify(this._block,null),n=encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}),i=new Uint8Array(n.length),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}},{key:"last",get:function(){return this._context[0]}}]),n}();t.default=a}).call(this,n(246).Buffer)},29:function(e,t,n){var i=n(157);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insertAt:"top",hmr:!0,transform:void 0};n(14)(i,o);i.locals&&(e.exports=i.locals)},294:function(e,t,n){t.Graphics=n(12).default,t.ActorLoader=n(248).default,t.AnimationInstance=n(191).default,t.ActorCollider=n(21).default,t.ActorColliderPolygon=n(189).default,t.ActorColliderLine=n(190).default,t.ActorColliderCircle=n(188).default,t.ActorColliderRectangle=n(186).default,t.ActorColliderTriangle=n(187).default},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(16),s=(i=r)&&i.__esModule?i:{default:i};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"make",value:function(e){return(!s.default.isNode&&__props.staticPath||"/static")+e}}]),e}();t.default=a},309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n(1)),s=u(n(2)),a=u(n(28)),c=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var h=(l((i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={linkInput:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"setOlIcon",value:function(e){this.olIcon=e}},{key:"setUlIcon",value:function(e){this.ulIcon=e}},{key:"setHeadIcon",value:function(e){this.headIcon=e}},{key:"setStrikeIcon",value:function(e){this.strikeIcon=e}},{key:"setBoldIcon",value:function(e){this.boldIcon=e}},{key:"setButtons",value:function(e){this.buttons=e}},{key:"setControls",value:function(e){this.controls=e}},{key:"setInput",value:function(e){this.input=e}},{key:"setDefaultInputText",value:function(e){this.defaultInputText=e}},{key:"linkKeyDown",value:function(e){switch(e.keyCode){case 13:this.props.composer.validateLink(this.state.linkInput),this.hide(),this.props.composer.doUpdateSelection();break;case 27:this.props.composer.validateLink(null),this.hideLinkInput(),this.props.composer.doUpdateSelection()}}},{key:"linkInputText",value:function(e){this.defaultInputText.style.display=e.target.value.length>0?"none":"",this.setState({linkInput:e.target.value})}},{key:"componentDidMount",value:function(){this.controls.style.display="none",this.input.style.display="none",this.defaultInputText.style.display="none"}},{key:"componentWillUnmount",value:function(){}},{key:"getLinkInput",value:function(){return this.state.linkInput}},{key:"isVisible",value:function(){return"none"!==this.controls.style.display}},{key:"root",value:function(){return this.controls}},{key:"showLinkInput",value:function(e,t){this.setState({linkInput:e}),this.input.style.display="",this.defaultInputText.style.display=e.length>0?"none":"",this.buttons.style.display="none",t&&this.input.focus()}},{key:"hideLinkInput",value:function(e){this.setState({linkInput:""}),this.input.value="",this.input.style.display="none",this.defaultInputText.style.display="none",this.buttons.style.display=""}},{key:"hide",value:function(){this.controls.style.display="none"}},{key:"show",value:function(e){var t=this.props.composer;this.controls.style.display="";var n=this.controls.getBoundingClientRect(),i=Math.min(window.innerWidth-n.width-20,Math.max(20,(e.left+e.right)/2-n.width/2)),o=e.bottom+n.height+20>window.innerHeight?e.top-n.height-10:Math.max(20,Math.min(window.innerHeight-n.height-20,e.bottom+10));this.controls.style.left=i+"px",this.controls.style.top=o+"px";var r=t.getSelectionStyle();"bold"===r.fontWeight?(this.boldIcon.classList.add("SelectionToolbarActive"),this.boldIcon.classList.remove("SelectionToolbarIcon")):(this.boldIcon.classList.remove("SelectionToolbarActive"),this.boldIcon.classList.add("SelectionToolbarIcon")),"line-through"===r.textDecoration||"line-through"===r.textDecorationLine?(this.strikeIcon.classList.add("SelectionToolbarActive"),this.strikeIcon.classList.remove("SelectionToolbarIcon")):(this.strikeIcon.classList.remove("SelectionToolbarActive"),this.strikeIcon.classList.add("SelectionToolbarIcon")),t.getSelectedHeading()?(this.headIcon.classList.add("SelectionToolbarActive"),this.headIcon.classList.remove("SelectionToolbarIcon")):(this.headIcon.classList.remove("SelectionToolbarActive"),this.headIcon.classList.add("SelectionToolbarIcon")),t.getSelectedUListElement()?(this.ulIcon.classList.add("SelectionToolbarActive"),this.ulIcon.classList.remove("SelectionToolbarIcon")):(this.ulIcon.classList.remove("SelectionToolbarActive"),this.ulIcon.classList.add("SelectionToolbarIcon")),t.getSelectedOListElement()?(this.olIcon.classList.add("SelectionToolbarActive"),this.olIcon.classList.remove("SelectionToolbarIcon")):(this.olIcon.classList.remove("SelectionToolbarActive"),this.olIcon.classList.add("SelectionToolbarIcon"))}},{key:"render",value:function(){var e=this.props.composer,n=this.state.linkInput;return r.default.createElement("div",{ref:this.setControls,className:"SelectionToolbar"},r.default.createElement("div",{ref:this.setButtons,className:"SelectionToolbarBtns"},r.default.createElement("a",{href:"#",style:{display:this.props.elementsMask&t.BOLD?null:"none"},onClick:e.selectionToggleBold,className:"BoldIcon"},r.default.createElement("svg",{ref:this.setBoldIcon,className:"SelectionToolbarIcon"},r.default.createElement("use",{xlinkHref:c.default.make("/images/symbol-defs.svg#icon-Bold")}))),r.default.createElement("a",{href:"#",style:{display:this.props.elementsMask&t.STRIKE?null:"none"},onClick:e.selectionToggleStrike,className:"StrikethroughIcon"},r.default.createElement("svg",{ref:this.setStrikeIcon,className:"SelectionToolbarIcon"},r.default.createElement("use",{xlinkHref:c.default.make("/images/symbol-defs.svg#icon-Strikethrough")}))),r.default.createElement("a",{href:"#",style:{display:this.props.elementsMask&t.HEADER?null:"none"},onClick:e.selectionToggleHeader,className:"HeadlineIcon"},r.default.createElement("svg",{ref:this.setHeadIcon,className:"SelectionToolbarIcon"},r.default.createElement("use",{xlinkHref:c.default.make("/images/symbol-defs.svg#icon-Headline")}))),r.default.createElement("a",{href:"#",style:{display:this.props.elementsMask&t.LIST?null:"none"},onClick:e.selectionToggleList,className:"ListIcon"},r.default.createElement("svg",{ref:this.setUlIcon,className:"SelectionToolbarIcon"},r.default.createElement("use",{xlinkHref:c.default.make("/images/symbol-defs.svg#icon-list")}))),r.default.createElement("a",{href:"#",style:{display:this.props.elementsMask&t.LIST_ORDERED?null:"none"},onClick:e.selectionToggleListOrdered,className:"NumberedListIcon"},r.default.createElement("svg",{ref:this.setOlIcon,className:"SelectionToolbarIcon"},r.default.createElement("use",{xlinkHref:c.default.make("/images/symbol-defs.svg#icon-list-numbered")}))),r.default.createElement("a",{href:"#",style:{display:this.props.elementsMask&t.LINK?null:"none"},onClick:e.selectionToggleLink,className:"LinkIcon"},r.default.createElement("svg",{className:"SelectionToolbarIcon"},r.default.createElement("use",{xlinkHref:c.default.make("/images/symbol-defs.svg#icon-link2")})))),r.default.createElement("input",{ref:this.setInput,type:"text",value:n,onKeyDown:this.linkKeyDown,onChange:this.linkInputText}),r.default.createElement("div",{ref:this.setDefaultInputText,className:"DefaultText"},"Input link URL"))}},{key:"cleanup",value:function(){this.__div&&(a.default.unmountComponentAtNode(this.__div),this.__div.parentNode&&this.__div.parentNode.removeChild(this.__div))}},{key:"isShowingLinkInput",get:function(){return"none"!=this.input.style.display}}]),t}()).prototype,"setOlIcon",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"setOlIcon"),i.prototype),l(i.prototype,"setUlIcon",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"setUlIcon"),i.prototype),l(i.prototype,"setHeadIcon",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"setHeadIcon"),i.prototype),l(i.prototype,"setStrikeIcon",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"setStrikeIcon"),i.prototype),l(i.prototype,"setBoldIcon",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"setBoldIcon"),i.prototype),l(i.prototype,"setButtons",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"setButtons"),i.prototype),l(i.prototype,"setControls",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"setControls"),i.prototype),l(i.prototype,"setInput",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"setInput"),i.prototype),l(i.prototype,"setDefaultInputText",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"setDefaultInputText"),i.prototype),l(i.prototype,"linkKeyDown",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"linkKeyDown"),i.prototype),l(i.prototype,"linkInputText",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"linkInputText"),i.prototype),i);t.default=h,h.make=function(e,t){var n=document.createElement("div"),i=r.default.createElement(h,{composer:e,elementsMask:t||63}),o=a.default.render(i,n);return document.body.insertBefore(n,document.body.firstChild),o.__div=n,o},h.BOLD=1,h.STRIKE=2,h.HEADER=4,h.LIST=8,h.LIST_ORDERED=16,h.LINK=32},31:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{static get EvenOdd(){return 0}static get NonZero(){return 1}}},310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(311),o=n(312),r=n(313);i.Deflater=o,i.Inflater=r,i.useWebWorkers=!1,t.default=i},311:function(e,t,n){"use strict";var i,o="File format is not recognized.",r="CRC failed.",s="File contains encrypted entry.",a="File is using Zip64 (4gb+ file size).",c="Error while reading zip file.",u="Error while writing zip file.",l="Error while writing file data.",h="Error while reading file data.",f="File already exists.",d=524288,v="text/plain";try{i=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(e){}function w(){this.crc=-1}function b(){}function g(e,t){var n,i;return n=new ArrayBuffer(e),i=new Uint8Array(n),t&&i.set(t,0),{buffer:n,array:i,view:new DataView(n)}}function _(){}function k(e){var t,n=this;n.size=0,n.init=function(i,o){var r=new Blob([e],{type:v});(t=new S(r)).init(function(){n.size=t.size,i()},o)},n.readUint8Array=function(e,n,i,o){t.readUint8Array(e,n,i,o)}}function M(e){var t,n=this;n.size=0,n.init=function(i){for(var o=e.length;"="==e.charAt(o-1);)o--;t=e.indexOf(",")+1,n.size=Math.floor(.75*(o-t)),i()},n.readUint8Array=function(n,i,o){var r,s=g(i),a=4*Math.floor(n/3),c=4*Math.ceil((n+i)/3),u=obj.atob(e.substring(a+t,c+t)),l=n-3*Math.floor(a/4);for(r=l;r<l+i;r++)s.array[r-l]=u.charCodeAt(r);o(s.array)}}function S(e){var t=this;t.size=0,t.init=function(n){t.size=e.size,n()},t.readUint8Array=function(t,n,i,o){var r=new FileReader;r.onload=function(e){i(new Uint8Array(e.target.result))},r.onerror=o;try{r.readAsArrayBuffer(function(e,t,n){if(t<0||n<0||t+n>e.size)throw new RangeError("offset:"+t+", length:"+n+", size:"+e.size);return e.slice?e.slice(t,t+n):e.webkitSlice?e.webkitSlice(t,t+n):e.mozSlice?e.mozSlice(t,t+n):e.msSlice?e.msSlice(t,t+n):void 0}(e,t,n))}catch(e){o(e)}}}function O(e){var t=this;t.size=0,t.init=function(n){t.size=e.length,n()},t.readUint8Array=function(t,n,i,o){e.constructor===Array?i(new Uint8Array(e.slice(t,t+n))):i(new Uint8Array(e,t,n))}}function E(){}function p(e){var t;this.init=function(e){t=new Blob([],{type:v}),e()},this.writeUint8Array=function(e,n){t=new Blob([t,i?e:e.buffer],{type:v}),n()},this.getData=function(n,i){var o=new FileReader;o.onload=function(e){n(e.target.result)},o.onerror=i,o.readAsText(t,e)}}function D(e){var t="",n="";this.init=function(n){t+="data:"+(e||"")+";base64,",n()},this.writeUint8Array=function(e,i){var o,r=n.length,s=n;for(n="",o=0;o<3*Math.floor((r+e.length)/3)-r;o++)s+=String.fromCharCode(e[o]);for(;o<e.length;o++)n+=String.fromCharCode(e[o]);s.length>2?t+=obj.btoa(s):n=s,i()},this.getData=function(e){e(t+obj.btoa(n))}}function T(e){var t;this.init=function(n){t=new Blob([],{type:e}),n()},this.writeUint8Array=function(n,o){t=new Blob([t,i?n:n.buffer],{type:e}),o()},this.getData=function(e){e(t)}}function I(e,t){var n,o=0;this.init=function(e){n=[],e()},this.writeUint8Array=function(r,s){var a,c=new Blob([i?r:r.buffer],{type:t}),u=n.length;n.push(null),e.blobToFileBlob(c,(a=u,function(e){n[a]=e,o++})),s()},this.getData=function e(i){var r;o===n.length?i(new Blob(n,{type:t})):setTimeout((r=i,function(){return e(r)}),1e3)}}function C(e){var t;this.init=function(e){t=new Uint8Array([]),e()},this.writeUint8Array=function(e,n){var i=new Uint8Array(t.length+e.length);i.set(t,0),i.set(e,t.length),t=i,n()},this.getData=function(e){e(t)}}function y(e,t,n,i,o,r,s,a,c,u){var l,h,f,v=0,w=t.sn;function b(){e.removeEventListener("message",g,!1),a(h,f)}function g(t){var n=t.data,o=n.data,a=n.error;if(a)return a.toString=function(){return"Error: "+this.message},void c(a);if(n.sn===w)switch("number"==typeof n.codecTime&&(e.codecTime+=n.codecTime),"number"==typeof n.crcTime&&(e.crcTime+=n.crcTime),n.type){case"append":o?(h+=o.length,i.writeUint8Array(o,function(){_()},u)):_();break;case"flush":f=n.crc,o?(h+=o.length,i.writeUint8Array(o,function(){b()},u)):b();break;case"progress":s&&s(l+n.loaded,r);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",n)}}function _(){(l=v*d)<=r?n.readUint8Array(o+l,Math.min(d,r-l),function(n){s&&s(l,r);var i=0===l?t:{sn:w};i.type="append",i.data=n;try{e.postMessage(i,[n.buffer])}catch(t){e.postMessage(i)}v++},c):e.postMessage({sn:w,type:"flush"})}h=0,e.addEventListener("message",g,!1),_()}function L(e,t,n,i,o,r,s,a,c,u){var l,h=0,f=0,v="input"===r,b="output"===r,g=new w;!function r(){var w;if((l=h*d)<o)t.readUint8Array(i+l,Math.min(d,o-l),function(t){var i;try{i=e.append(t,function(e){s&&s(l+e,o)})}catch(e){return void c(e)}i?(f+=i.length,n.writeUint8Array(i,function(){h++,setTimeout(r,1)},u),b&&g.append(i)):(h++,setTimeout(r,1)),v&&g.append(t),s&&s(l,o)},c);else{try{w=e.flush()}catch(e){return void c(e)}w?(b&&g.append(w),f+=w.length,n.writeUint8Array(w,function(){a(f,g.get())},u)):a(f,g.get())}}()}function N(e,t,n,i,o,r,s,a,c,u,l){G.useWebWorkers&&s?y(e,{sn:t,codecClass:"NOOP",crcType:"input"},n,i,o,r,c,a,u,l):L(new b,n,i,o,r,"input",c,a,u,l)}function A(e){var t,n,i="",o=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "];for(t=0;t<e.length;t++)i+=(n=255&e.charCodeAt(t))>127?o[n-128]:String.fromCharCode(n);return i}function m(e){return decodeURIComponent(escape(e))}function U(e){var t,n="";for(t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return n}function j(e,t,n,i,o){e.version=t.view.getUint16(n,!0),e.bitFlag=t.view.getUint16(n+2,!0),e.compressionMethod=t.view.getUint16(n+4,!0),e.lastModDateRaw=t.view.getUint32(n+6,!0),e.lastModDate=function(e){var t=(4294901760&e)>>16,n=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(e){}}(e.lastModDateRaw),1!=(1&e.bitFlag)?((i||8!=(8&e.bitFlag))&&(e.crc32=t.view.getUint32(n+10,!0),e.compressedSize=t.view.getUint32(n+14,!0),e.uncompressedSize=t.view.getUint32(n+18,!0)),4294967295!==e.compressedSize&&4294967295!==e.uncompressedSize?(e.filenameLength=t.view.getUint16(n+22,!0),e.extraFieldLength=t.view.getUint16(n+24,!0)):o(a)):o(s)}function H(e,t,n){var i=0;function s(){}s.prototype.getData=function(t,s,a,c){var u=this;function f(e,i){c&&!function(e){var t=g(4);return t.view.setUint32(0,e),u.crc32==t.view.getUint32(0)}(i)?n(r):t.getData(function(e){s(e)})}function d(e){n(e||h)}function v(e){n(e||l)}e.readUint8Array(u.offset,30,function(r){var s,l=g(r.length,r);1347093252==l.view.getUint32(0)?(j(u,l,4,!1,n),s=u.offset+30+u.filenameLength+u.extraFieldLength,t.init(function(){0===u.compressionMethod?N(u._worker,i++,e,t,s,u.compressedSize,c,f,a,d,v):function(e,t,n,i,o,r,s,a,c,u,l){var h=s?"output":"none";G.useWebWorkers?y(e,{sn:t,codecClass:"Inflater",crcType:h},n,i,o,r,c,a,u,l):L(new G.Inflater,n,i,o,r,h,c,a,u,l)}(u._worker,i++,e,t,s,u.compressedSize,c,f,a,d,v)},v)):n(o)},d)};var a={getEntries:function(t){var i=this._worker;!function(t){var i=22;if(e.size<i)n(o);else{var r=i+65536;s(i,function(){s(Math.min(r,e.size),function(){n(o)})})}function s(o,r){e.readUint8Array(e.size-o,o,function(e){for(var n=e.length-i;n>=0;n--)if(80===e[n]&&75===e[n+1]&&5===e[n+2]&&6===e[n+3])return void t(new DataView(e.buffer,n,i));r()},function(){n(c)})}}(function(r){var a,u;a=r.getUint32(16,!0),u=r.getUint16(8,!0),a<0||a>=e.size?n(o):e.readUint8Array(a,e.size-a,function(e){var r,a,c,l,h=0,f=[],d=g(e.length,e);for(r=0;r<u;r++){if((a=new s)._worker=i,1347092738!=d.view.getUint32(h))return void n(o);j(a,d,h+6,!0,n),a.commentLength=d.view.getUint16(h+32,!0),a.directory=16==(16&d.view.getUint8(h+38)),a.offset=d.view.getUint32(h+42,!0),c=U(d.array.subarray(h+46,h+46+a.filenameLength)),a.filename=2048==(2048&a.bitFlag)?m(c):A(c),a.directory||"/"!=a.filename.charAt(a.filename.length-1)||(a.directory=!0),l=U(d.array.subarray(h+46+a.filenameLength+a.extraFieldLength,h+46+a.filenameLength+a.extraFieldLength+a.commentLength)),a.comment=2048==(2048&a.bitFlag)?m(l):A(l),f.push(a),h+=46+a.filenameLength+a.extraFieldLength+a.commentLength}t(f)},function(){n(c)})})},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null),e&&e()},_worker:null};G.useWebWorkers?W("inflater",function(e){a._worker=e,t(a)},function(e){n(e)}):t(a)}function V(e){return unescape(encodeURIComponent(e))}function B(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e.charCodeAt(t));return n}function x(e,t,n,i){var o={},r=[],s=0,a=0;function c(e){n(e||u)}function l(e){n(e||h)}var d={add:function(t,u,h,d,v){var w,b,_,k=this._worker;function M(t,n){var i=g(16);s+=t||0,i.view.setUint32(0,1347094280),void 0!==n&&(w.view.setUint32(10,n,!0),i.view.setUint32(4,n,!0)),u&&(i.view.setUint32(8,t,!0),w.view.setUint32(14,t,!0),i.view.setUint32(12,u.size,!0),w.view.setUint32(18,u.size,!0)),e.writeUint8Array(i.array,function(){s+=16,h()},c)}function S(){var h,S;(v=v||{},t=t.trim(),v.directory&&"/"!=t.charAt(t.length-1)&&(t+="/"),o.hasOwnProperty(t))?n(f):(b=B(V(t)),r.push(t),h=function(){u?i||0===v.level?N(k,a++,u,e,0,u.size,!0,M,d,l,c):function(e,t,n,i,o,r,s,a,c){G.useWebWorkers?y(e,{sn:t,options:{level:o},codecClass:"Deflater",crcType:"input"},n,i,0,n.size,s,r,a,c):L(new G.Deflater,n,i,0,n.size,"input",s,r,a,c)}(k,a++,u,e,v.level,M,d,l,c):M()},_=v.lastModDate||new Date,w=g(26),o[t]={headerArray:w.array,directory:v.directory,filename:b,offset:s,comment:B(V(v.comment||""))},w.view.setUint32(0,335546376),v.version&&w.view.setUint8(0,v.version),i||0===v.level||v.directory||w.view.setUint16(4,2048),w.view.setUint16(6,(_.getHours()<<6|_.getMinutes())<<5|_.getSeconds()/2,!0),w.view.setUint16(8,(_.getFullYear()-1980<<4|_.getMonth()+1)<<5|_.getDate(),!0),w.view.setUint16(22,b.length,!0),(S=g(30+b.length)).view.setUint32(0,1347093252),S.array.set(w.array,4),S.array.set(b,30),s+=S.array.length,e.writeUint8Array(S.array,h,c))}u?u.init(S,l):S()},close:function(t){this._worker&&(this._worker.terminate(),this._worker=null);var n,i,a,u=0,l=0;for(i=0;i<r.length;i++)u+=46+(a=o[r[i]]).filename.length+a.comment.length;for(n=g(u+22),i=0;i<r.length;i++)a=o[r[i]],n.view.setUint32(l,1347092738),n.view.setUint16(l+4,5120),n.array.set(a.headerArray,l+6),n.view.setUint16(l+32,a.comment.length,!0),a.directory&&n.view.setUint8(l+38,16),n.view.setUint32(l+42,a.offset,!0),n.array.set(a.filename,l+46),n.array.set(a.comment,l+46+a.filename.length),l+=46+a.filename.length+a.comment.length;n.view.setUint32(l,1347093766),n.view.setUint16(l+8,r.length,!0),n.view.setUint16(l+10,r.length,!0),n.view.setUint32(l+12,u,!0),n.view.setUint32(l+16,s,!0),e.writeUint8Array(n.array,function(){e.getData(t)},c)},_worker:null};G.useWebWorkers?W("deflater",function(e){d._worker=e,t(d)},function(e){n(e)}):t(d)}w.prototype.append=function(e){for(var t=0|this.crc,n=this.table,i=0,o=0|e.length;i<o;i++)t=t>>>8^n[255&(t^e[i])];this.crc=t},w.prototype.get=function(){return~this.crc},w.prototype.table=function(){var e,t,n,i=[];for(e=0;e<256;e++){for(n=e,t=0;t<8;t++)1&n?n=n>>>1^3988292384:n>>>=1;i[e]=n}return i}(),b.prototype.append=function(e,t){return e},b.prototype.flush=function(){},k.prototype=new _,k.prototype.constructor=k,M.prototype=new _,M.prototype.constructor=M,S.prototype=new _,S.prototype.constructor=S,O.prototype=new _,O.prototype.constructor=O,E.prototype.getData=function(e){e(this.data)},p.prototype=new E,p.prototype.constructor=p,D.prototype=new E,D.prototype.constructor=D,T.prototype=new E,T.prototype.constructor=T,I.prototype=new E,I.prototype.constructor=I,C.prototype=new E,C.prototype.constructor=C;var z={deflater:["z-worker.js","deflate.js"],inflater:["z-worker.js","inflate.js"]};function W(e,t,n){if(null===G.workerScripts||null===G.workerScriptsPath){var i,o,r;if(G.workerScripts){if(i=G.workerScripts[e],!Array.isArray(i))return void n(new Error("zip.workerScripts."+e+" is not an array!"));o=i,r=document.createElement("a"),i=o.map(function(e){return r.href=e,r.href})}else(i=z[e].slice(0))[0]=(G.workerScriptsPath||"")+i[0];var s=new Worker(i[0]);s.codecTime=s.crcTime=0,s.postMessage({type:"importScripts",scripts:i.slice(1)}),s.addEventListener("message",function e(i){var o=i.data;if(o.error)return s.terminate(),void n(o.error);"importScripts"===o.type&&(s.removeEventListener("message",e),s.removeEventListener("error",a),t(s))}),s.addEventListener("error",a)}else n(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));function a(e){s.terminate(),n(e)}}function P(e){console.error(e)}var G={Reader:_,Writer:E,BlobReader:S,Uint8ArrayReader:O,Data64URIReader:M,TextReader:k,BlobWriter:T,DiskBlobWriter:I,Uint8ArrayWriter:C,Data64URIWriter:D,TextWriter:p,createReader:function(e,t,n){n=n||P,e.init(function(){H(e,t,n)},n)},createWriter:function(e,t,n,i){n=n||P,i=!!i,e.init(function(){x(e,t,n,i)},n)},useWebWorkers:!0,workerScriptsPath:"./",workerScripts:null};e.exports=G},312:function(e,t,n){"use strict";var i=15,o=30,r=19,s=256,a=s+1+29,c=2*a+1,u=256,l=16,h=17,f=18,d=16,v=-1,w=1,b=2,g=0,_=0,k=1,M=3,S=4,O=0,E=1,p=2,D=-2,T=-3,I=-5,C=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function y(){var e=this;function t(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.build_tree=function(n){var o,r,s,a=e.dyn_tree,u=e.stat_desc.static_tree,l=e.stat_desc.elems,h=-1;for(n.heap_len=0,n.heap_max=c,o=0;o<l;o++)0!==a[2*o]?(n.heap[++n.heap_len]=h=o,n.depth[o]=0):a[2*o+1]=0;for(;n.heap_len<2;)a[2*(s=n.heap[++n.heap_len]=h<2?++h:0)]=1,n.depth[s]=0,n.opt_len--,u&&(n.static_len-=u[2*s+1]);for(e.max_code=h,o=Math.floor(n.heap_len/2);o>=1;o--)n.pqdownheap(a,o);s=l;do{o=n.heap[1],n.heap[1]=n.heap[n.heap_len--],n.pqdownheap(a,1),r=n.heap[1],n.heap[--n.heap_max]=o,n.heap[--n.heap_max]=r,a[2*s]=a[2*o]+a[2*r],n.depth[s]=Math.max(n.depth[o],n.depth[r])+1,a[2*o+1]=a[2*r+1]=s,n.heap[1]=s++,n.pqdownheap(a,1)}while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],function(t){var n,o,r,s,a,u,l=e.dyn_tree,h=e.stat_desc.static_tree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,v=e.stat_desc.max_length,w=0;for(s=0;s<=i;s++)t.bl_count[s]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<c;n++)(s=l[2*l[2*(o=t.heap[n])+1]+1]+1)>v&&(s=v,w++),l[2*o+1]=s,o>e.max_code||(t.bl_count[s]++,a=0,o>=d&&(a=f[o-d]),u=l[2*o],t.opt_len+=u*(s+a),h&&(t.static_len+=u*(h[2*o+1]+a)));if(0!==w){do{for(s=v-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[v]--,w-=2}while(w>0);for(s=v;0!==s;s--)for(o=t.bl_count[s];0!==o;)(r=t.heap[--n])>e.max_code||(l[2*r+1]!=s&&(t.opt_len+=(s-l[2*r+1])*l[2*r],l[2*r+1]=s),o--)}}(n),function(e,n,o){var r,s,a,c=[],u=0;for(r=1;r<=i;r++)c[r]=u=u+o[r-1]<<1;for(s=0;s<=n;s++)0!==(a=e[2*s+1])&&(e[2*s]=t(c[a]++,a))}(a,e.max_code,n.bl_count)}}function L(e,t,n,i,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=o}y._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],y.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],y.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],y.d_code=function(e){return e<256?C[e]:C[256+(e>>>7)]},y.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],y.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],y.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],y.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],L.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],L.static_l_desc=new L(L.static_ltree,y.extra_lbits,s+1,a,i),L.static_d_desc=new L(L.static_dtree,y.extra_dbits,0,o,i),L.static_bl_desc=new L(null,y.extra_blbits,0,r,7);var N=9,A=8;function m(e,t,n,i,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=o}var U=0,j=1,H=2,V=[new m(0,0,0,0,U),new m(4,4,8,4,j),new m(4,5,16,8,j),new m(4,6,32,32,j),new m(4,4,16,16,H),new m(8,16,32,32,H),new m(8,16,128,128,H),new m(8,32,128,256,H),new m(32,128,258,1024,H),new m(32,258,258,4096,H)],B=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],x=0,z=1,W=2,P=3,G=32,K=42,F=113,Q=666,Y=8,Z=0,$=1,J=2,X=3,q=258,R=q+X+1;function ee(e,t,n,i){var o=e[2*t],r=e[2*n];return o<r||o==r&&i[t]<=i[n]}function te(){var e,t,n,i,c,C,m,te,ne,ie,oe,re,se,ae,ce,ue,le,he,fe,de,ve,we,be,ge,_e,ke,Me,Se,Oe,Ee,pe,De,Te,Ie,Ce,ye,Le,Ne,Ae,me,Ue,je=this,He=new y,Ve=new y,Be=new y;function xe(){var e;for(e=0;e<a;e++)pe[2*e]=0;for(e=0;e<o;e++)De[2*e]=0;for(e=0;e<r;e++)Te[2*e]=0;pe[2*u]=1,je.opt_len=je.static_len=0,ye=Ne=0}function ze(e,t){var n,i,o=-1,r=e[1],s=0,a=7,c=4;for(0===r&&(a=138,c=3),e[2*(t+1)+1]=65535,n=0;n<=t;n++)i=r,r=e[2*(n+1)+1],++s<a&&i==r||(s<c?Te[2*i]+=s:0!==i?(i!=o&&Te[2*i]++,Te[2*l]++):s<=10?Te[2*h]++:Te[2*f]++,s=0,o=i,0===r?(a=138,c=3):i==r?(a=6,c=3):(a=7,c=4))}function We(e){je.pending_buf[je.pending++]=e}function Pe(e){We(255&e),We(e>>>8&255)}function Ge(e,t){var n,i=t;Ue>d-i?(Pe(me|=(n=e)<<Ue&65535),me=n>>>d-Ue,Ue+=i-d):(me|=e<<Ue&65535,Ue+=i)}function Ke(e,t){var n=2*e;Ge(65535&t[n],65535&t[n+1])}function Fe(e,t){var n,i,o=-1,r=e[1],s=0,a=7,c=4;for(0===r&&(a=138,c=3),n=0;n<=t;n++)if(i=r,r=e[2*(n+1)+1],!(++s<a&&i==r)){if(s<c)do{Ke(i,Te)}while(0!=--s);else 0!==i?(i!=o&&(Ke(i,Te),s--),Ke(l,Te),Ge(s-3,2)):s<=10?(Ke(h,Te),Ge(s-3,3)):(Ke(f,Te),Ge(s-11,7));s=0,o=i,0===r?(a=138,c=3):i==r?(a=6,c=3):(a=7,c=4)}}function Qe(){16==Ue?(Pe(me),me=0,Ue=0):Ue>=8&&(We(255&me),me>>>=8,Ue-=8)}function Ye(e,t){var n,i,r;if(je.pending_buf[Le+2*ye]=e>>>8&255,je.pending_buf[Le+2*ye+1]=255&e,je.pending_buf[Ie+ye]=255&t,ye++,0===e?pe[2*t]++:(Ne++,e--,pe[2*(y._length_code[t]+s+1)]++,De[2*y.d_code(e)]++),0==(8191&ye)&&Me>2){for(n=8*ye,i=ve-le,r=0;r<o;r++)n+=De[2*r]*(5+y.extra_dbits[r]);if(n>>>=3,Ne<Math.floor(ye/2)&&n<Math.floor(i/2))return!0}return ye==Ce-1}function Ze(e,t){var n,i,o,r,a=0;if(0!==ye)do{n=je.pending_buf[Le+2*a]<<8&65280|255&je.pending_buf[Le+2*a+1],i=255&je.pending_buf[Ie+a],a++,0===n?Ke(i,e):(Ke((o=y._length_code[i])+s+1,e),0!==(r=y.extra_lbits[o])&&Ge(i-=y.base_length[o],r),n--,Ke(o=y.d_code(n),t),0!==(r=y.extra_dbits[o])&&Ge(n-=y.base_dist[o],r))}while(a<ye);Ke(u,e),Ae=e[2*u+1]}function $e(){Ue>8?Pe(me):Ue>0&&We(255&me),me=0,Ue=0}function Je(e,t,n){Ge((Z<<1)+(n?1:0),3),function(e,t,n){$e(),Ae=8,n&&(Pe(t),Pe(~t)),je.pending_buf.set(te.subarray(e,e+t),je.pending),je.pending+=t}(e,t,!0)}function Xe(e,t,n){var i,o,s=0;Me>0?(He.build_tree(je),Ve.build_tree(je),s=function(){var e;for(ze(pe,He.max_code),ze(De,Ve.max_code),Be.build_tree(je),e=r-1;e>=3&&0===Te[2*y.bl_order[e]+1];e--);return je.opt_len+=3*(e+1)+5+5+4,e}(),i=je.opt_len+3+7>>>3,(o=je.static_len+3+7>>>3)<=i&&(i=o)):i=o=t+5,t+4<=i&&-1!=e?Je(e,t,n):o==i?(Ge(($<<1)+(n?1:0),3),Ze(L.static_ltree,L.static_dtree)):(Ge((J<<1)+(n?1:0),3),function(e,t,n){var i;for(Ge(e-257,5),Ge(t-1,5),Ge(n-4,4),i=0;i<n;i++)Ge(Te[2*y.bl_order[i]+1],3);Fe(pe,e-1),Fe(De,t-1)}(He.max_code+1,Ve.max_code+1,s+1),Ze(pe,De)),xe(),n&&$e()}function qe(t){Xe(le>=0?le:-1,ve-le,t),le=ve,e.flush_pending()}function Re(){var t,n,i,o;do{if(0===(o=ne-be-ve)&&0===ve&&0===be)o=c;else if(-1==o)o--;else if(ve>=c+c-R){te.set(te.subarray(c,c+c),0),we-=c,ve-=c,le-=c,i=t=se;do{n=65535&oe[--i],oe[i]=n>=c?n-c:0}while(0!=--t);i=t=c;do{n=65535&ie[--i],ie[i]=n>=c?n-c:0}while(0!=--t);o+=c}if(0===e.avail_in)return;t=e.read_buf(te,ve+be,o),(be+=t)>=X&&(re=((re=255&te[ve])<<ue^255&te[ve+1])&ce)}while(be<R&&0!==e.avail_in)}function et(e){var t,n,i=_e,o=ve,r=ge,s=ve>c-R?ve-(c-R):0,a=Ee,u=m,l=ve+q,h=te[o+r-1],f=te[o+r];ge>=Oe&&(i>>=2),a>be&&(a=be);do{if(te[(t=e)+r]==f&&te[t+r-1]==h&&te[t]==te[o]&&te[++t]==te[o+1]){o+=2,t++;do{}while(te[++o]==te[++t]&&te[++o]==te[++t]&&te[++o]==te[++t]&&te[++o]==te[++t]&&te[++o]==te[++t]&&te[++o]==te[++t]&&te[++o]==te[++t]&&te[++o]==te[++t]&&o<l);if(n=q-(l-o),o=l-q,n>r){if(we=e,r=n,n>=a)break;h=te[o+r-1],f=te[o+r]}}}while((e=65535&ie[e&u])>s&&0!=--i);return r<=be?r:be}function tt(e){return e.total_in=e.total_out=0,e.msg=null,je.pending=0,je.pending_out=0,t=F,i=_,He.dyn_tree=pe,He.stat_desc=L.static_l_desc,Ve.dyn_tree=De,Ve.stat_desc=L.static_d_desc,Be.dyn_tree=Te,Be.stat_desc=L.static_bl_desc,me=0,Ue=0,Ae=8,xe(),function(){var e;for(ne=2*c,oe[se-1]=0,e=0;e<se-1;e++)oe[e]=0;ke=V[Me].max_lazy,Oe=V[Me].good_length,Ee=V[Me].nice_length,_e=V[Me].max_chain,ve=0,le=0,be=0,he=ge=X-1,de=0,re=0}(),O}je.depth=[],je.bl_count=[],je.heap=[],pe=[],De=[],Te=[],je.pqdownheap=function(e,t){for(var n=je.heap,i=n[t],o=t<<1;o<=je.heap_len&&(o<je.heap_len&&ee(e,n[o+1],n[o],je.depth)&&o++,!ee(e,i,n[o],je.depth));)n[t]=n[o],t=o,o<<=1;n[t]=i},je.deflateInit=function(e,t,i,o,r,s){return o||(o=Y),r||(r=A),s||(s=g),e.msg=null,t==v&&(t=6),r<1||r>N||o!=Y||i<9||i>15||t<0||t>9||s<0||s>b?D:(e.dstate=je,m=(c=1<<(C=i))-1,ce=(se=1<<(ae=r+7))-1,ue=Math.floor((ae+X-1)/X),te=new Uint8Array(2*c),ie=[],oe=[],Ce=1<<r+6,je.pending_buf=new Uint8Array(4*Ce),n=4*Ce,Le=Math.floor(Ce/2),Ie=3*Ce,Me=t,Se=s,255&o,tt(e))},je.deflateEnd=function(){return t!=K&&t!=F&&t!=Q?D:(je.pending_buf=null,oe=null,ie=null,te=null,je.dstate=null,t==F?T:O)},je.deflateParams=function(e,t,n){var i=O;return t==v&&(t=6),t<0||t>9||n<0||n>b?D:(V[Me].func!=V[t].func&&0!==e.total_in&&(i=e.deflate(k)),Me!=t&&(ke=V[Me=t].max_lazy,Oe=V[Me].good_length,Ee=V[Me].nice_length,_e=V[Me].max_chain),Se=n,i)},je.deflateSetDictionary=function(e,n,i){var o,r=i,s=0;if(!n||t!=K)return D;if(r<X)return O;for(r>c-R&&(s=i-(r=c-R)),te.set(n.subarray(s,s+r),0),ve=r,le=r,re=((re=255&te[0])<<ue^255&te[1])&ce,o=0;o<=r-X;o++)re=(re<<ue^255&te[o+(X-1)])&ce,ie[o&m]=oe[re],oe[re]=o;return O},je.deflate=function(o,r){var s,a,l,h,f,d;if(r>S||r<0)return D;if(!o.next_out||!o.next_in&&0!==o.avail_in||t==Q&&r!=S)return o.msg=B[p-D],D;if(0===o.avail_out)return o.msg=B[p-I],I;if(e=o,h=i,i=r,t==K&&(a=Y+(C-8<<4)<<8,(l=(Me-1&255)>>1)>3&&(l=3),a|=l<<6,0!==ve&&(a|=G),t=F,We((d=a+=31-a%31)>>8&255),We(255&d)),0!==je.pending){if(e.flush_pending(),0===e.avail_out)return i=-1,O}else if(0===e.avail_in&&r<=h&&r!=S)return e.msg=B[p-I],I;if(t==Q&&0!==e.avail_in)return o.msg=B[p-I],I;if(0!==e.avail_in||0!==be||r!=_&&t!=Q){switch(f=-1,V[Me].func){case U:f=function(t){var i,o=65535;for(o>n-5&&(o=n-5);;){if(be<=1){if(Re(),0===be&&t==_)return x;if(0===be)break}if(ve+=be,be=0,i=le+o,(0===ve||ve>=i)&&(be=ve-i,ve=i,qe(!1),0===e.avail_out))return x;if(ve-le>=c-R&&(qe(!1),0===e.avail_out))return x}return qe(t==S),0===e.avail_out?t==S?W:x:t==S?P:z}(r);break;case j:f=function(t){for(var n,i=0;;){if(be<R){if(Re(),be<R&&t==_)return x;if(0===be)break}if(be>=X&&(re=(re<<ue^255&te[ve+(X-1)])&ce,i=65535&oe[re],ie[ve&m]=oe[re],oe[re]=ve),0!==i&&(ve-i&65535)<=c-R&&Se!=b&&(he=et(i)),he>=X)if(n=Ye(ve-we,he-X),be-=he,he<=ke&&be>=X){he--;do{re=(re<<ue^255&te[++ve+(X-1)])&ce,i=65535&oe[re],ie[ve&m]=oe[re],oe[re]=ve}while(0!=--he);ve++}else ve+=he,he=0,re=((re=255&te[ve])<<ue^255&te[ve+1])&ce;else n=Ye(0,255&te[ve]),be--,ve++;if(n&&(qe(!1),0===e.avail_out))return x}return qe(t==S),0===e.avail_out?t==S?W:x:t==S?P:z}(r);break;case H:f=function(t){for(var n,i,o=0;;){if(be<R){if(Re(),be<R&&t==_)return x;if(0===be)break}if(be>=X&&(re=(re<<ue^255&te[ve+(X-1)])&ce,o=65535&oe[re],ie[ve&m]=oe[re],oe[re]=ve),ge=he,fe=we,he=X-1,0!==o&&ge<ke&&(ve-o&65535)<=c-R&&(Se!=b&&(he=et(o)),he<=5&&(Se==w||he==X&&ve-we>4096)&&(he=X-1)),ge>=X&&he<=ge){i=ve+be-X,n=Ye(ve-1-fe,ge-X),be-=ge-1,ge-=2;do{++ve<=i&&(re=(re<<ue^255&te[ve+(X-1)])&ce,o=65535&oe[re],ie[ve&m]=oe[re],oe[re]=ve)}while(0!=--ge);if(de=0,he=X-1,ve++,n&&(qe(!1),0===e.avail_out))return x}else if(0!==de){if((n=Ye(0,255&te[ve-1]))&&qe(!1),ve++,be--,0===e.avail_out)return x}else de=1,ve++,be--}return 0!==de&&(n=Ye(0,255&te[ve-1]),de=0),qe(t==S),0===e.avail_out?t==S?W:x:t==S?P:z}(r)}if(f!=W&&f!=P||(t=Q),f==x||f==W)return 0===e.avail_out&&(i=-1),O;if(f==z){if(r==k)Ge($<<1,3),Ke(u,L.static_ltree),Qe(),1+Ae+10-Ue<9&&(Ge($<<1,3),Ke(u,L.static_ltree),Qe()),Ae=7;else if(Je(0,0,!1),r==M)for(s=0;s<se;s++)oe[s]=0;if(e.flush_pending(),0===e.avail_out)return i=-1,O}}return r!=S?O:E}}function ne(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}ne.prototype={deflateInit:function(e,t){return this.dstate=new te,t||(t=i),this.dstate.deflateInit(this,e,t)},deflate:function(e){return this.dstate?this.dstate.deflate(this,e):D},deflateEnd:function(){if(!this.dstate)return D;var e=this.dstate.deflateEnd();return this.dstate=null,e},deflateParams:function(e,t){return this.dstate?this.dstate.deflateParams(this,e,t):D},deflateSetDictionary:function(e,t){return this.dstate?this.dstate.deflateSetDictionary(this,e,t):D},read_buf:function(e,t,n){var i=this.avail_in;return i>n&&(i=n),0===i?0:(this.avail_in-=i,e.set(this.next_in.subarray(this.next_in_index,this.next_in_index+i),t),this.next_in_index+=i,this.total_in+=i,i)},flush_pending:function(){var e=this.dstate.pending;e>this.avail_out&&(e=this.avail_out),0!==e&&(this.next_out.set(this.dstate.pending_buf.subarray(this.dstate.pending_out,this.dstate.pending_out+e),this.next_out_index),this.next_out_index+=e,this.dstate.pending_out+=e,this.total_out+=e,this.avail_out-=e,this.dstate.pending-=e,0===this.dstate.pending&&(this.dstate.pending_out=0))}},e.exports=function(e){var t=new ne,n=_,i=new Uint8Array(512),o=e?e.level:v;void 0===o&&(o=v),t.deflateInit(o),t.next_out=i,this.append=function(e,o){var r,s=[],a=0,c=0,u=0;if(e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=512,t.deflate(n)!=O)throw new Error("deflating: "+t.msg);t.next_out_index&&(512==t.next_out_index?s.push(new Uint8Array(i)):s.push(new Uint8Array(i.subarray(0,t.next_out_index)))),u+=t.next_out_index,o&&t.next_in_index>0&&t.next_in_index!=a&&(o(t.next_in_index),a=t.next_in_index)}while(t.avail_in>0||0===t.avail_out);return r=new Uint8Array(u),s.forEach(function(e){r.set(e,c),c+=e.length}),r}},this.flush=function(){var e,n,o=[],r=0,s=0;do{if(t.next_out_index=0,t.avail_out=512,(e=t.deflate(S))!=E&&e!=O)throw new Error("deflating: "+t.msg);512-t.avail_out>0&&o.push(new Uint8Array(i.subarray(0,t.next_out_index))),s+=t.next_out_index}while(t.avail_in>0||0===t.avail_out);return t.deflateEnd(),n=new Uint8Array(s),o.forEach(function(e){n.set(e,r),r+=e.length}),n}}},313:function(e,t,n){"use strict";var i=0,o=1,r=2,s=-2,a=-3,c=-4,u=-5,l=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],h=1440,f=0,d=4,v=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],w=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=15;function S(){var e,t,n,o,r,s;function l(e,t,c,l,f,d,v,w,b,g,_){var k,S,O,E,p,D,T,I,C,y,L,N,A,m,U;y=0,p=c;do{n[e[t+y]]++,y++,p--}while(0!==p);if(n[0]==c)return v[0]=-1,w[0]=0,i;for(I=w[0],D=1;D<=M&&0===n[D];D++);for(T=D,I<D&&(I=D),p=M;0!==p&&0===n[p];p--);for(O=p,I>p&&(I=p),w[0]=I,m=1<<D;D<p;D++,m<<=1)if((m-=n[D])<0)return a;if((m-=n[p])<0)return a;for(n[p]+=m,s[1]=D=0,y=1,A=2;0!=--p;)s[A]=D+=n[y],A++,y++;p=0,y=0;do{0!==(D=e[t+y])&&(_[s[D]++]=p),y++}while(++p<c);for(c=s[O],s[0]=p=0,y=0,E=-1,N=-I,r[0]=0,L=0,U=0;T<=O;T++)for(k=n[T];0!=k--;){for(;T>N+I;){if(E++,U=(U=O-(N+=I))>I?I:U,(S=1<<(D=T-N))>k+1&&(S-=k+1,A=T,D<U))for(;++D<U&&!((S<<=1)<=n[++A]);)S-=n[A];if(U=1<<D,g[0]+U>h)return a;r[E]=L=g[0],g[0]+=U,0!==E?(s[E]=p,o[0]=D,o[1]=I,D=p>>>N-I,o[2]=L-r[E-1]-D,b.set(o,3*(r[E-1]+D))):v[0]=L}for(o[1]=T-N,y>=c?o[0]=192:_[y]<l?(o[0]=_[y]<256?0:96,o[2]=_[y++]):(o[0]=d[_[y]-l]+16+64,o[2]=f[_[y++]-l]),S=1<<T-N,D=p>>>N;D<U;D+=S)b.set(o,3*(L+D));for(D=1<<T-1;0!=(p&D);D>>>=1)p^=D;for(p^=D,C=(1<<N)-1;(p&C)!=s[E];)E--,C=(1<<(N-=I))-1}return 0!==m&&1!=O?u:i}function f(i){var a;for(e||(e=[],t=[],n=new Int32Array(M+1),o=[],r=new Int32Array(M),s=new Int32Array(M+1)),t.length<i&&(t=[]),a=0;a<i;a++)t[a]=0;for(a=0;a<M+1;a++)n[a]=0;for(a=0;a<3;a++)o[a]=0;r.set(n.subarray(0,M),0),s.set(n.subarray(0,M+1),0)}this.inflate_trees_bits=function(n,i,o,r,s){var c;return f(19),e[0]=0,(c=l(n,0,19,19,null,null,o,i,r,e,t))==a?s.msg="oversubscribed dynamic bit lengths tree":c!=u&&0!==i[0]||(s.msg="incomplete dynamic bit lengths tree",c=a),c},this.inflate_trees_dynamic=function(n,o,r,s,h,d,v,w,M){var S;return f(288),e[0]=0,(S=l(r,0,n,257,b,g,d,s,w,e,t))!=i||0===s[0]?(S==a?M.msg="oversubscribed literal/length tree":S!=c&&(M.msg="incomplete literal/length tree",S=a),S):(f(288),(S=l(r,n,o,0,_,k,v,h,w,e,t))!=i||0===h[0]&&n>257?(S==a?M.msg="oversubscribed distance tree":S==u?(M.msg="incomplete distance tree",S=a):S!=c&&(M.msg="empty distance tree with lengths",S=a),S):i)}}S.inflate_trees_fixed=function(e,t,n,o){return e[0]=9,t[0]=5,n[0]=v,o[0]=w,i};var O=0,E=1,p=2,D=3,T=4,I=5,C=6,y=7,L=8,N=9;function A(){var e,t,n,r,c=0,u=0,h=0,f=0,d=0,v=0,w=0,b=0,g=0,_=0;function k(e,t,n,r,s,c,u,h){var f,d,v,w,b,g,_,k,M,S,O,E,p,D,T,I;_=h.next_in_index,k=h.avail_in,b=u.bitb,g=u.bitk,S=(M=u.write)<u.read?u.read-M-1:u.end-M,O=l[e],E=l[t];do{for(;g<20;)k--,b|=(255&h.read_byte(_++))<<g,g+=8;if(0!==(w=(d=n)[I=3*((v=r)+(f=b&O))]))for(;;){if(b>>=d[I+1],g-=d[I+1],0!=(16&w)){for(w&=15,p=d[I+2]+(b&l[w]),b>>=w,g-=w;g<15;)k--,b|=(255&h.read_byte(_++))<<g,g+=8;for(w=(d=s)[I=3*((v=c)+(f=b&E))];;){if(b>>=d[I+1],g-=d[I+1],0!=(16&w)){for(w&=15;g<w;)k--,b|=(255&h.read_byte(_++))<<g,g+=8;if(D=d[I+2]+(b&l[w]),b>>=w,g-=w,S-=p,M>=D)M-(T=M-D)>0&&2>M-T?(u.window[M++]=u.window[T++],u.window[M++]=u.window[T++],p-=2):(u.window.set(u.window.subarray(T,T+2),M),M+=2,T+=2,p-=2);else{T=M-D;do{T+=u.end}while(T<0);if(p>(w=u.end-T)){if(p-=w,M-T>0&&w>M-T)do{u.window[M++]=u.window[T++]}while(0!=--w);else u.window.set(u.window.subarray(T,T+w),M),M+=w,T+=w,w=0;T=0}}if(M-T>0&&p>M-T)do{u.window[M++]=u.window[T++]}while(0!=--p);else u.window.set(u.window.subarray(T,T+p),M),M+=p,T+=p,p=0;break}if(0!=(64&w))return h.msg="invalid distance code",k+=p=g>>3<(p=h.avail_in-k)?g>>3:p,_-=p,g-=p<<3,u.bitb=b,u.bitk=g,h.avail_in=k,h.total_in+=_-h.next_in_index,h.next_in_index=_,u.write=M,a;f+=d[I+2],w=d[I=3*(v+(f+=b&l[w]))]}break}if(0!=(64&w))return 0!=(32&w)?(k+=p=g>>3<(p=h.avail_in-k)?g>>3:p,_-=p,g-=p<<3,u.bitb=b,u.bitk=g,h.avail_in=k,h.total_in+=_-h.next_in_index,h.next_in_index=_,u.write=M,o):(h.msg="invalid literal/length code",k+=p=g>>3<(p=h.avail_in-k)?g>>3:p,_-=p,g-=p<<3,u.bitb=b,u.bitk=g,h.avail_in=k,h.total_in+=_-h.next_in_index,h.next_in_index=_,u.write=M,a);if(f+=d[I+2],0===(w=d[I=3*(v+(f+=b&l[w]))])){b>>=d[I+1],g-=d[I+1],u.window[M++]=d[I+2],S--;break}}else b>>=d[I+1],g-=d[I+1],u.window[M++]=d[I+2],S--}while(S>=258&&k>=10);return k+=p=g>>3<(p=h.avail_in-k)?g>>3:p,_-=p,g-=p<<3,u.bitb=b,u.bitk=g,h.avail_in=k,h.total_in+=_-h.next_in_index,h.next_in_index=_,u.write=M,i}this.init=function(i,o,s,a,c,u){e=O,w=i,b=o,n=s,g=a,r=c,_=u,t=null},this.proc=function(M,S,A){var m,U,j,H,V,B,x,z=0,W=0,P=0;for(P=S.next_in_index,H=S.avail_in,z=M.bitb,W=M.bitk,B=(V=M.write)<M.read?M.read-V-1:M.end-V;;)switch(e){case O:if(B>=258&&H>=10&&(M.bitb=z,M.bitk=W,S.avail_in=H,S.total_in+=P-S.next_in_index,S.next_in_index=P,M.write=V,A=k(w,b,n,g,r,_,M,S),P=S.next_in_index,H=S.avail_in,z=M.bitb,W=M.bitk,B=(V=M.write)<M.read?M.read-V-1:M.end-V,A!=i)){e=A==o?y:N;break}h=w,t=n,u=g,e=E;case E:for(m=h;W<m;){if(0===H)return M.bitb=z,M.bitk=W,S.avail_in=H,S.total_in+=P-S.next_in_index,S.next_in_index=P,M.write=V,M.inflate_flush(S,A);A=i,H--,z|=(255&S.read_byte(P++))<<W,W+=8}if(U=3*(u+(z&l[m])),z>>>=t[U+1],W-=t[U+1],0===(j=t[U])){f=t[U+2],e=C;break}if(0!=(16&j)){d=15&j,c=t[U+2],e=p;break}if(0==(64&j)){h=j,u=U/3+t[U+2];break}if(0!=(32&j)){e=y;break}return e=N,S.msg="invalid literal/length code",A=a,M.bitb=z,M.bitk=W,S.avail_in=H,S.total_in+=P-S.next_in_index,S.next_in_index=P,M.write=V,M.inflate_flush(S,A);case p:for(m=d;W<m;){if(0===H)return M.bitb=z,M.bitk=W,S.avail_in=H,S.total_in+=P-S.next_in_index,S.next_in_index=P,M.write=V,M.inflate_flush(S,A);A=i,H--,z|=(255&S.read_byte(P++))<<W,W+=8}c+=z&l[m],z>>=m,W-=m,h=b,t=r,u=_,e=D;case D:for(m=h;W<m;){if(0===H)return M.bitb=z,M.bitk=W,S.avail_in=H,S.total_in+=P-S.next_in_index,S.next_in_index=P,M.write=V,M.inflate_flush(S,A);A=i,H--,z|=(255&S.read_byte(P++))<<W,W+=8}if(U=3*(u+(z&l[m])),z>>=t[U+1],W-=t[U+1],0!=(16&(j=t[U]))){d=15&j,v=t[U+2],e=T;break}if(0==(64&j)){h=j,u=U/3+t[U+2];break}return e=N,S.msg="invalid distance code",A=a,M.bitb=z,M.bitk=W,S.avail_in=H,S.total_in+=P-S.next_in_index,S.next_in_index=P,M.write=V,M.inflate_flush(S,A);case T:for(m=d;W<m;){if(0===H)return M.bitb=z,M.bitk=W,S.avail_in=H,S.total_in+=P-S.next_in_index,S.next_in_index=P,M.write=V,M.inflate_flush(S,A);A=i,H--,z|=(255&S.read_byte(P++))<<W,W+=8}v+=z&l[m],z>>=m,W-=m,e=I;case I:for(x=V-v;x<0;)x+=M.end;for(;0!==c;){if(0===B&&(V==M.end&&0!==M.read&&(B=(V=0)<M.read?M.read-V-1:M.end-V),0===B&&(M.write=V,A=M.inflate_flush(S,A),B=(V=M.write)<M.read?M.read-V-1:M.end-V,V==M.end&&0!==M.read&&(B=(V=0)<M.read?M.read-V-1:M.end-V),0===B)))return M.bitb=z,M.bitk=W,S.avail_in=H,S.total_in+=P-S.next_in_index,S.next_in_index=P,M.write=V,M.inflate_flush(S,A);M.window[V++]=M.window[x++],B--,x==M.end&&(x=0),c--}e=O;break;case C:if(0===B&&(V==M.end&&0!==M.read&&(B=(V=0)<M.read?M.read-V-1:M.end-V),0===B&&(M.write=V,A=M.inflate_flush(S,A),B=(V=M.write)<M.read?M.read-V-1:M.end-V,V==M.end&&0!==M.read&&(B=(V=0)<M.read?M.read-V-1:M.end-V),0===B)))return M.bitb=z,M.bitk=W,S.avail_in=H,S.total_in+=P-S.next_in_index,S.next_in_index=P,M.write=V,M.inflate_flush(S,A);A=i,M.window[V++]=f,B--,e=O;break;case y:if(W>7&&(W-=8,H++,P--),M.write=V,A=M.inflate_flush(S,A),B=(V=M.write)<M.read?M.read-V-1:M.end-V,M.read!=M.write)return M.bitb=z,M.bitk=W,S.avail_in=H,S.total_in+=P-S.next_in_index,S.next_in_index=P,M.write=V,M.inflate_flush(S,A);e=L;case L:return A=o,M.bitb=z,M.bitk=W,S.avail_in=H,S.total_in+=P-S.next_in_index,S.next_in_index=P,M.write=V,M.inflate_flush(S,A);case N:return A=a,M.bitb=z,M.bitk=W,S.avail_in=H,S.total_in+=P-S.next_in_index,S.next_in_index=P,M.write=V,M.inflate_flush(S,A);default:return A=s,M.bitb=z,M.bitk=W,S.avail_in=H,S.total_in+=P-S.next_in_index,S.next_in_index=P,M.write=V,M.inflate_flush(S,A)}},this.free=function(){}}var m=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=0,j=1,H=2,V=3,B=4,x=5,z=6,W=7,P=8,G=9;function K(e,t){var n,r=this,c=U,f=0,d=0,v=0,w=[0],b=[0],g=new A,_=0,k=new Int32Array(3*h),M=new S;r.bitk=0,r.bitb=0,r.window=new Uint8Array(t),r.end=t,r.read=0,r.write=0,r.reset=function(e,t){t&&(t[0]=0),c==z&&g.free(e),c=U,r.bitk=0,r.bitb=0,r.read=r.write=0},r.reset(e,null),r.inflate_flush=function(e,t){var n,o,s;return o=e.next_out_index,(n=((s=r.read)<=r.write?r.write:r.end)-s)>e.avail_out&&(n=e.avail_out),0!==n&&t==u&&(t=i),e.avail_out-=n,e.total_out+=n,e.next_out.set(r.window.subarray(s,s+n),o),o+=n,(s+=n)==r.end&&(s=0,r.write==r.end&&(r.write=0),(n=r.write-s)>e.avail_out&&(n=e.avail_out),0!==n&&t==u&&(t=i),e.avail_out-=n,e.total_out+=n,e.next_out.set(r.window.subarray(s,s+n),o),o+=n,s+=n),e.next_out_index=o,r.read=s,t},r.proc=function(e,t){var u,h,O,E,p,D,T,I;for(E=e.next_in_index,p=e.avail_in,h=r.bitb,O=r.bitk,T=(D=r.write)<r.read?r.read-D-1:r.end-D;;)switch(c){case U:for(;O<3;){if(0===p)return r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);t=i,p--,h|=(255&e.read_byte(E++))<<O,O+=8}switch(_=1&(u=7&h),u>>>1){case 0:h>>>=3,h>>>=u=7&(O-=3),O-=u,c=j;break;case 1:var C=[],y=[],L=[[]],N=[[]];S.inflate_trees_fixed(C,y,L,N),g.init(C[0],y[0],L[0],0,N[0],0),h>>>=3,O-=3,c=z;break;case 2:h>>>=3,O-=3,c=V;break;case 3:return h>>>=3,O-=3,c=G,e.msg="invalid block type",t=a,r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t)}break;case j:for(;O<32;){if(0===p)return r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);t=i,p--,h|=(255&e.read_byte(E++))<<O,O+=8}if((~h>>>16&65535)!=(65535&h))return c=G,e.msg="invalid stored block lengths",t=a,r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);f=65535&h,h=O=0,c=0!==f?H:0!==_?W:U;break;case H:if(0===p)return r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);if(0===T&&(D==r.end&&0!==r.read&&(T=(D=0)<r.read?r.read-D-1:r.end-D),0===T&&(r.write=D,t=r.inflate_flush(e,t),T=(D=r.write)<r.read?r.read-D-1:r.end-D,D==r.end&&0!==r.read&&(T=(D=0)<r.read?r.read-D-1:r.end-D),0===T)))return r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);if(t=i,(u=f)>p&&(u=p),u>T&&(u=T),r.window.set(e.read_buf(E,u),D),E+=u,p-=u,D+=u,T-=u,0!=(f-=u))break;c=0!==_?W:U;break;case V:for(;O<14;){if(0===p)return r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);t=i,p--,h|=(255&e.read_byte(E++))<<O,O+=8}if(d=u=16383&h,(31&u)>29||(u>>5&31)>29)return c=G,e.msg="too many length or distance symbols",t=a,r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);if(u=258+(31&u)+(u>>5&31),!n||n.length<u)n=[];else for(I=0;I<u;I++)n[I]=0;h>>>=14,O-=14,v=0,c=B;case B:for(;v<4+(d>>>10);){for(;O<3;){if(0===p)return r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);t=i,p--,h|=(255&e.read_byte(E++))<<O,O+=8}n[m[v++]]=7&h,h>>>=3,O-=3}for(;v<19;)n[m[v++]]=0;if(w[0]=7,(u=M.inflate_trees_bits(n,w,b,k,e))!=i)return(t=u)==a&&(n=null,c=G),r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);v=0,c=x;case x:for(;!(v>=258+(31&(u=d))+(u>>5&31));){var A,K;for(u=w[0];O<u;){if(0===p)return r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);t=i,p--,h|=(255&e.read_byte(E++))<<O,O+=8}if(u=k[3*(b[0]+(h&l[u]))+1],(K=k[3*(b[0]+(h&l[u]))+2])<16)h>>>=u,O-=u,n[v++]=K;else{for(I=18==K?7:K-14,A=18==K?11:3;O<u+I;){if(0===p)return r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);t=i,p--,h|=(255&e.read_byte(E++))<<O,O+=8}if(O-=u,A+=(h>>>=u)&l[I],h>>>=I,O-=I,(I=v)+A>258+(31&(u=d))+(u>>5&31)||16==K&&I<1)return n=null,c=G,e.msg="invalid bit length repeat",t=a,r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);K=16==K?n[I-1]:0;do{n[I++]=K}while(0!=--A);v=I}}b[0]=-1;var F=[],Q=[],Y=[],Z=[];if(F[0]=9,Q[0]=6,u=d,(u=M.inflate_trees_dynamic(257+(31&u),1+(u>>5&31),n,F,Q,Y,Z,k,e))!=i)return u==a&&(n=null,c=G),t=u,r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);g.init(F[0],Q[0],k,Y[0],k,Z[0]),c=z;case z:if(r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,(t=g.proc(r,e,t))!=o)return r.inflate_flush(e,t);if(t=i,g.free(e),E=e.next_in_index,p=e.avail_in,h=r.bitb,O=r.bitk,T=(D=r.write)<r.read?r.read-D-1:r.end-D,0===_){c=U;break}c=W;case W:if(r.write=D,t=r.inflate_flush(e,t),T=(D=r.write)<r.read?r.read-D-1:r.end-D,r.read!=r.write)return r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);c=P;case P:return t=o,r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);case G:return t=a,r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t);default:return t=s,r.bitb=h,r.bitk=O,e.avail_in=p,e.total_in+=E-e.next_in_index,e.next_in_index=E,r.write=D,r.inflate_flush(e,t)}},r.free=function(e){r.reset(e,null),r.window=null,k=null},r.set_dictionary=function(e,t,n){r.window.set(e.subarray(t,t+n),0),r.read=r.write=n},r.sync_point=function(){return c==j?1:0}}var F=32,Q=8,Y=0,Z=1,$=2,J=3,X=4,q=5,R=6,ee=7,te=12,ne=13,ie=[0,0,255,255];function oe(){var e=this;function t(e){return e&&e.istate?(e.total_in=e.total_out=0,e.msg=null,e.istate.mode=ee,e.istate.blocks.reset(e,null),i):s}e.mode=0,e.method=0,e.was=[0],e.need=0,e.marker=0,e.wbits=0,e.inflateEnd=function(t){return e.blocks&&e.blocks.free(t),e.blocks=null,i},e.inflateInit=function(n,o){return n.msg=null,e.blocks=null,o<8||o>15?(e.inflateEnd(n),s):(e.wbits=o,n.istate.blocks=new K(n,1<<o),t(n),i)},e.inflate=function(e,t){var n,c;if(!e||!e.istate||!e.next_in)return s;for(t=t==d?u:i,n=u;;)switch(e.istate.mode){case Y:if(0===e.avail_in)return n;if(n=t,e.avail_in--,e.total_in++,(15&(e.istate.method=e.read_byte(e.next_in_index++)))!=Q){e.istate.mode=ne,e.msg="unknown compression method",e.istate.marker=5;break}if(8+(e.istate.method>>4)>e.istate.wbits){e.istate.mode=ne,e.msg="invalid window size",e.istate.marker=5;break}e.istate.mode=Z;case Z:if(0===e.avail_in)return n;if(n=t,e.avail_in--,e.total_in++,c=255&e.read_byte(e.next_in_index++),((e.istate.method<<8)+c)%31!=0){e.istate.mode=ne,e.msg="incorrect header check",e.istate.marker=5;break}if(0==(c&F)){e.istate.mode=ee;break}e.istate.mode=$;case $:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need=(255&e.read_byte(e.next_in_index++))<<24&4278190080,e.istate.mode=J;case J:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<16&16711680,e.istate.mode=X;case X:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<8&65280,e.istate.mode=q;case q:return 0===e.avail_in?n:(n=t,e.avail_in--,e.total_in++,e.istate.need+=255&e.read_byte(e.next_in_index++),e.istate.mode=R,r);case R:return e.istate.mode=ne,e.msg="need dictionary",e.istate.marker=0,s;case ee:if((n=e.istate.blocks.proc(e,n))==a){e.istate.mode=ne,e.istate.marker=0;break}if(n==i&&(n=t),n!=o)return n;n=t,e.istate.blocks.reset(e,e.istate.was),e.istate.mode=te;case te:return o;case ne:return a;default:return s}},e.inflateSetDictionary=function(e,t,n){var o=0,r=n;return e&&e.istate&&e.istate.mode==R?(r>=1<<e.istate.wbits&&(o=n-(r=(1<<e.istate.wbits)-1)),e.istate.blocks.set_dictionary(t,o,r),e.istate.mode=ee,i):s},e.inflateSync=function(e){var n,o,r,c,l;if(!e||!e.istate)return s;if(e.istate.mode!=ne&&(e.istate.mode=ne,e.istate.marker=0),0===(n=e.avail_in))return u;for(o=e.next_in_index,r=e.istate.marker;0!==n&&r<4;)e.read_byte(o)==ie[r]?r++:r=0!==e.read_byte(o)?0:4-r,o++,n--;return e.total_in+=o-e.next_in_index,e.next_in_index=o,e.avail_in=n,e.istate.marker=r,4!=r?a:(c=e.total_in,l=e.total_out,t(e),e.total_in=c,e.total_out=l,e.istate.mode=ee,i)},e.inflateSyncPoint=function(e){return e&&e.istate&&e.istate.blocks?e.istate.blocks.sync_point():s}}function re(){}re.prototype={inflateInit:function(e){return this.istate=new oe,e||(e=15),this.istate.inflateInit(this,e)},inflate:function(e){return this.istate?this.istate.inflate(this,e):s},inflateEnd:function(){if(!this.istate)return s;var e=this.istate.inflateEnd(this);return this.istate=null,e},inflateSync:function(){return this.istate?this.istate.inflateSync(this):s},inflateSetDictionary:function(e,t){return this.istate?this.istate.inflateSetDictionary(this,e,t):s},read_byte:function(e){return this.next_in.subarray(e,e+1)[0]},read_buf:function(e,t){return this.next_in.subarray(e,e+t)}},e.exports=function(){var e=new re,t=f,n=new Uint8Array(512),r=!1;e.inflateInit(),e.next_out=n,this.append=function(s,a){var c,l,h=[],f=0,d=0,v=0;if(0!==s.length){e.next_in_index=0,e.next_in=s,e.avail_in=s.length;do{if(e.next_out_index=0,e.avail_out=512,0!==e.avail_in||r||(e.next_in_index=0,r=!0),c=e.inflate(t),r&&c===u){if(0!==e.avail_in)throw new Error("inflating: bad input")}else if(c!==i&&c!==o)throw new Error("inflating: "+e.msg);if((r||c===o)&&e.avail_in===s.length)throw new Error("inflating: bad input");e.next_out_index&&(512===e.next_out_index?h.push(new Uint8Array(n)):h.push(new Uint8Array(n.subarray(0,e.next_out_index)))),v+=e.next_out_index,a&&e.next_in_index>0&&e.next_in_index!=f&&(a(e.next_in_index),f=e.next_in_index)}while(e.avail_in>0||0===e.avail_out);return l=new Uint8Array(v),h.forEach(function(e){l.set(e,d),d+=e.length}),l}},this.flush=function(){e.inflateEnd()}}},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=r(n(315));function r(e){return e&&e.__esModule?e:{default:e}}var s=(0,r(n(270)).default)({}),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"make",value:function(e,t,n){if(0!==e.length){for(var i=t.atlasPadding||0,r=t.maxImageWidth||t.maxAtlasWidth-2*i||Number.MAX_VALUE,a=t.multiplyAlpha||!1,c=t.maxImageHeight||t.maxAtlasHeight-2*i||Number.MAX_VALUE,u=[],l=0;l<e.length;l++){var h=e[l];h.idx=l;var f=(h.minU||0)*h.width,d=(h.maxU||1)*h.width,v=(h.minV||0)*h.height,w=(h.maxV||1)*h.height,b=Math.floor(f),g=Math.ceil(d),_=Math.floor(v),k=Math.ceil(w);if(0===b&&0===_&&g===h.width&&k===h.height)   ;else{for(var M=g-b+1,S=k-_+1,O=h.channels,E=new Uint8Array(M*S*O),p=h.bytes,D=h.width,T=h.height,I=0;I<S;I++)for(var C=0;C<M;C++)for(var y=(Math.min(T,Math.max(0,I+_))*D+Math.min(D,Math.max(0,C+b)))*O,L=(I*M+C)*O,N=0;N<O;N++)E[L+N]=p[y+N];h.bytes=E,h.width=M,h.height=S,h.minU=b/D,h.maxU=g/D,h.minV=_/T,h.maxV=k/T}var A=!1,m=h.width,U=h.height;m>r&&(A=!0,m=r,U=Math.round(h.height/h.width*m)),U>c&&(A=!0,U=c,m=Math.round(h.width/h.height*U)),A&&u.push({idx:l,src:h.bytes,toWidth:m,toHeight:U,width:h.width,height:h.height})}if(u.length){!function t(){if(0===u.length)return!1;var n=u.splice(0,1)[0];return s.resizeBuffer({src:n.src,width:n.width,height:n.height,toWidth:n.toWidth,toHeight:n.toHeight,alpha:!0,unsharpAmount:0}).then(function(i){if(i){var o=e[n.idx];o.width=n.toWidth,o.height=n.toHeight,o.bytes=i}else console.log("Resize failed",n.idx,n.toWidth,n.toHeight);t()||j()}),!0}()}else j()}else n({bitmaps:[],atlases:[]});function j(){e.sort(function(e,t){return e.width*e.height-t.width*t.height});for(var r=function e(n){for(var r=[1,2,3,4,5],s=null,a=0;a<r.length;a++){for(var c=r[a],u=new o.default(t.maxAtlasWidth,t.maxAtlasHeight,!0),l=0;l<n.length;l++){var h=n[l];u.addTexture(h.width,h.height,i,h)}u.pack(c);var f=u.results();(!s||s.results().length<f.length)&&(s=u)}if(s&&s.results().length!=n.length){for(var d=s.results(),v=n.slice(0),w=0;w<d.length;w++){var b=v.indexOf(d[w].ref);-1!=b&&v.splice(b,1)}s.more=e(v)}return s}(e),s=[],c=new Array(e.length),u=function(){for(var e=r.dimensions(t.atlasPowerOfTwo,t.atlasSquare),n=new Uint8Array(e.width*e.height*4),i=r.results(),o=function(t){var o=i[t],r=o.ref;c[r.idx]={x:o.x,y:o.y,width:o.width,height:o.height,rotated:o.rotated,atlas:s.length,minU:r.minU,maxU:r.maxU,minV:r.minV,maxV:r.maxV};for(var a=0;a<r.width;a++)for(var u=0;u<r.height;u++){for(var l=(u*r.width+a)*r.channels,h=o.rotated?4*((o.y+a)*e.width+(o.x+u)):4*((o.y+u)*e.width+(o.x+a)),f=0;f<r.channels;)n[h+f]=r.bytes[l+f],f++;for(;f<4;)n[h+f]=3===f?255:0,f++}function d(t,i,s,a){if(o.rotated&&o.x+a>=0&&o.y+s>=0&&o.x+a<e.width&&o.y+s<e.height||o.y+a>=0&&o.x+s>=0&&o.y+a<e.height&&o.x+s<e.width){for(var c=(i*r.width+t)*r.channels,u=o.rotated?4*((o.y+s)*e.width+(o.x+a)):4*((o.y+a)*e.width+(o.x+s)),l=0;l<r.channels;)n[u+l]=r.bytes[c+l],l++;for(;l<4;)n[u+l]=3===l?255:0,l++}}for(var v=0;v<r.width;v++)d(v,0,v,-1),d(v,r.height-1,v,r.height);for(var w=0;w<r.height;w++)d(0,w,-1,w),d(r.width-1,w,r.width,w)},u=0;u<i.length;u++)o(u);if(a)for(var l=e.width*e.height,h=0,f=0;f<l;f++){var d=n[h+3]/255;n[h+0]=Math.round(n[h+0]*d),n[h+1]=Math.round(n[h+1]*d),n[h+2]=Math.round(n[h+2]*d),h+=4}s.push({bytes:n,width:e.width,height:e.height,channels:4}),r=r.more};r;)u();n({bitmaps:c,atlases:s})}}}]),e}();t.default=a},315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=1,s=2,a=3,c=4,u=5,l=function(){function e(){o(this,e),this.x=0,this.y=0,this.width=0,this.height=0}return i(e,[{key:"clone",value:function(){var t=new e;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}}]),e}();function h(e,t){return e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height}function f(e){for(var t=1;t<e;)t*=2;return t}function d(e,t,n,i){return t<n||i<e?0:Math.min(t,i)-Math.max(e,n)}var v=function(){function e(t,n,i){o(this,e),this._Used=[],this._Free=[],this._Textures=[],this._AllowRotations=i,this._BinWidth=t,this._BinHeight=n;var r=new l;r.width=t,r.height=n,this._Free.push(r)}return i(e,[{key:"scoreRect",value:function(e,t,n){switch(n){case r:return this.fitShortSide(e,t);case s:return this.fitLongSide(e,t);case a:return this.fitArea(e,t);case c:return this.fitBottomLeft(e,t);case u:return this.fitContactPoint(e,t)}}},{key:"fitShortSide",value:function(e,t){for(var n=new l,i=Number.MAX_VALUE,o=Number.MAX_VALUE,r=0;r<this._Free.length;r++){var s=this._Free[r];if(s.width>=e&&s.height>=t){var a=Math.abs(s.width-e),c=Math.abs(s.height-t),u=Math.min(a,c),h=Math.max(a,c);(u<i||u==i&&h<o)&&(n.x=s.x,n.y=s.y,n.width=e,n.height=t,i=u,o=h)}if(this._AllowRotations&&s.width>=t&&s.height>=e){var f=Math.abs(s.width-t),d=Math.abs(s.height-e),v=Math.min(f,d),w=Math.max(f,d);(v<i||v==i&&w<o)&&(n.x=s.x,n.y=s.y,n.width=t,n.height=e,i=v,o=w)}}return 0===n.width||0===n.height?null:{node:n,score1:i,score2:o}}},{key:"fitLongSide",value:function(e,t){for(var n=new l,i=Number.MAX_VALUE,o=Number.MAX_VALUE,r=0;r<this._Free.length;r++){var s=this._Free[r];if(s.width>=e&&s.height>=t){var a=Math.abs(s.width-e),c=Math.abs(s.height-t),u=Math.min(a,c),h=Math.max(a,c);(h<o||h==o&&u<i)&&(n.x=s.x,n.y=s.y,n.width=e,n.height=t,i=u,o=h)}if(this._AllowRotations&&s.width>=t&&s.height>=e){var f=Math.abs(s.width-t),d=Math.abs(s.height-e),v=Math.min(f,d),w=Math.max(f,d);(w<o||w==o&&v<i)&&(n.x=s.x,n.y=s.y,n.width=t,n.height=e,i=v,o=w)}}return 0===n.width||0===n.height?null:{node:n,score1:i,score2:o}}},{key:"fitArea",value:function(e,t){for(var n=new l,i=Number.MAX_VALUE,o=Number.MAX_VALUE,r=0;r<this._Free.length;r++){var s=this._Free[r],a=s.width*s.height-e*t;if(s.width>=e&&s.height>=t){var c=Math.abs(s.width-e),u=Math.abs(s.height-t),h=Math.min(c,u);(a<o||a==o&&h<i)&&(n.x=s.x,n.y=s.y,n.width=e,n.height=t,i=h,o=a)}if(this._AllowRotations&&s.width>=t&&s.height>=e){var f=Math.abs(s.width-t),d=Math.abs(s.height-e),v=Math.min(f,d);(a<o||a==o&&v<i)&&(n.x=s.x,n.y=s.y,n.width=t,n.height=e,i=v,o=a)}}return 0===n.width||0===n.height?null:{node:n,score1:i,score2:o}}},{key:"fitBottomLeft",value:function(e,t){for(var n=new l,i=Number.MAX_VALUE,o=Number.MAX_VALUE,r=0;r<this._Free.length;r++){var s=this._Free[r];if(s.width>=e&&s.height>=t){var a=s.y+t;(a<i||a==i&&s.x<o)&&(n.x=s.x,n.y=s.y,n.width=e,n.height=t,i=a,o=s.x)}if(this._AllowRotations&&s.width>=t&&s.height>=e){var c=s.y+e;(c<i||c==i&&s.x<o)&&(n.x=s.x,n.y=s.y,n.width=t,n.height=e,i=c,o=s.x)}}return 0===n.width||0===n.height?null:{node:n,score1:i,score2:o}}},{key:"contactPointScoreNode",value:function(e,t,n,i){var o=0;0!=e&&e+n!=this._BinWidth||(o+=i),0!=t&&t+i!=this._BinHeight||(o+=n);for(var r=0;r<this._Used.length;r++){var s=this._Used[r];s.x!=e+n&&s.x+s.width!=e||(o+=d(s.y,s.y+s.height,t,t+i)),s.y!=t+i&&s.y+s.height!=t||(o+=d(s.x,s.x+s.width,e,e+n))}return o}},{key:"fitContactPoint",value:function(e,t){for(var n=new l,i=-1,o=0;o<this._Free.length;o++){var r=this._Free[o];if(r.width>=e&&r.height>=t){var s=this.contactPointScoreNode(r.x,r.y,e,t);s>i&&(n.x=r.x,n.y=r.y,n.width=e,n.height=t,i=s)}if(this._AllowRotations&&r.width>=t&&r.height>=e){var a=this.contactPointScoreNode(r.x,r.y,t,e);a>i&&(n.x=r.x,n.y=r.y,n.width=t,n.height=e,i=a)}}return 0===n.width||0===n.height?null:{node:n,score1:i,score2:Number.MAX_VALUE}}},{key:"split",value:function(e,t){if(t.x>=e.x+e.width||t.x+t.width<=e.x||t.y>=e.y+e.height||t.y+t.height<=e.y)return!1;if(t.x<e.x+e.width&&t.x+t.width>e.x){if(t.y>e.y&&t.y<e.y+e.height){var n=e.clone();n.height=t.y-n.y,this._Free.push(n)}if(t.y+t.height<e.y+e.height){var i=e.clone();i.y=t.y+t.height,i.height=e.y+e.height-(t.y+t.height),this._Free.push(i)}}if(t.y<e.y+e.height&&t.y+t.height>e.y){if(t.x>e.x&&t.x<e.x+e.width){var o=e.clone();o.width=t.x-o.x,this._Free.push(o)}if(t.x+t.width<e.x+e.width){var r=e.clone();r.x=t.x+t.width,r.width=e.x+e.width-(t.x+t.width),this._Free.push(r)}}return!0}},{key:"prune",value:function(){for(var e=0;e<this._Free.length;e++)for(var t=e+1;t<this._Free.length;t++){if(h(this._Free[e],this._Free[t])){this._Free.splice(e,1),e--;break}h(this._Free[t],this._Free[e])&&(this._Free.splice(t,1),t--)}}},{key:"place",value:function(e){for(var t=this._Free.length,n=0;n<t;++n)this.split(this._Free[n],e)&&(this._Free.splice(n,1),n--,t--);this.prune(),this._Used.push(e)}},{key:"addTexture",value:function(e,t,n,i){n||(n=0);var o=new l;o.width=e+2*n,o.height=t+2*n,o.ref=i,o.pad=n,this._Textures.push(o)}},{key:"pack",value:function(e){for(var t=this._Textures.slice(0);t.length;){for(var n=Number.MAX_VALUE,i=Number.MAX_VALUE,o=-1,r=null,s=0;s<t.length;s++){var a=t[s],c=this.scoreRect(a.width,a.height,e);c&&(c.score1<n||c.score1==n&&c.score2<i)&&(c.node.width!=a.width&&(c.node.rotated=!0),n=c.bestScore1,i=c.bestScore2,o=s,r=c.node)}if(-1===o)break;r.ref=t[o].ref,r.pad=t[o].pad,this.place(r),t.splice(o,1)}}},{key:"results",value:function(){for(var e=[],t=0;t<this._Used.length;t++){var n=this._Used[t];e.push({x:n.x+n.pad,y:n.y+n.pad,width:n.width-2*n.pad,height:n.height-2*n.pad,rotated:n.rotated,ref:n.ref})}return e}},{key:"dimensions",value:function(e,t){for(var n=0,i=0,o=0;o<this._Used.length;o++){var r=this._Used[o],s=r.x+r.width,a=r.y+r.height;s>n&&(n=s),a>i&&(i=a)}return e&&(n=f(n),i=f(i)),t&&(n>i?i=n:n=i),{width:n,height:i}}}]),e}();t.default=v},316:function(e,t,n){"use strict";function i(e,t){var n={},o={};var r={};this.onKeyDown=function(t){var i=n[t.keyCode];if(i){var o=r[t.keyCode],s=t.repeat;void 0===s&&o&&(s=Date.now()-o<1e3);for(var a=0;a<i.length;a++){var c=i[a],u=c.key;u.shift==t.shiftKey&&u.command==t.metaKey&&u.ctrl==t.ctrlKey&&u.alt==t.altKey&&(e(c.name,s)||(t.preventDefault(),t.stopPropagation()))}r[t.keyCode]=Date.now()}},this.onKeyUp=function(e){var i=n[e.keyCode];if(i){delete r[e.keyCode];for(var o=0;o<i.length;o++){var s=i[o],a=s.key;a.shift==e.shiftKey&&a.command==e.metaKey&&a.ctrl==e.ctrlKey&&a.alt==e.altKey&&(t(s.name),e.preventDefault(),e.stopPropagation())}}},this.parse=function(e){var t=i.index;n={},o={};for(var r=0;r<e.length;r++){var s=e[r];if(s.keys){for(var a={code:null,command:!1,shift:!1,ctrl:!1,alt:!1},c=0;c<s.keys.length;c++){var u=t.getKeyCode(s.keys[c]);switch(u){case 91:a.command=!0;break;case 16:a.shift=!0;break;case 17:a.ctrl=!0;break;case 18:a.alt=!0;break;default:a.code=u}}if(a.code){var l=n[a.code];l||(l=n[a.code]=[]),l.push({key:a,name:s.action}),o[s.action]=a}}}},this.getKeyBinding=function(e){return o[e]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.index=new function(){for(var e={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"right click":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,'"':222},t={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:33,ins:45,del:46,cmd:91},n=97;n<123;n++)e[String.fromCharCode(n)]=n-32;for(var i=48;i<58;i++)e[i-48]=i;for(var o=1;o<13;o++)e["f"+o]=o+111;for(var r=0;r<10;r++)e["numpad "+r]=r+96;var s={};for(var a in e)s[e[a]]=a;for(var c in t)e[c]=t[c];this.getName=function(e){return s[e]},this.getKeyCode=function(t){return e[t]}}},317:function(e,t,n){var i=n(318);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insertAt:"top",hmr:!0,transform:void 0};n(14)(i,o);i.locals&&(e.exports=i.locals)},318:function(e,t,n){(t=e.exports=n(13)(!1)).push([e.i,".source-client-source-editors-shared-ui-SiteMenuStyles-NimaFileIcon-2aKy8 {\n  width: 28px;\n  height: 14px;\n  margin-right: 4px;\n  margin-top: -1px;\n  -ms-flex-negative: 0;\n      flex-shrink: 0; }\n\n.source-client-source-editors-shared-ui-SiteMenuStyles-FlareFileIcon-UyvJd {\n  width: 27px;\n  height: 15px;\n  margin-right: 4px;\n  -ms-flex-negative: 0;\n      flex-shrink: 0; }\n",""]),t.locals={NimaFileIcon:"source-client-source-editors-shared-ui-SiteMenuStyles-NimaFileIcon-2aKy8",FlareFileIcon:"source-client-source-editors-shared-ui-SiteMenuStyles-FlareFileIcon-UyvJd"}},319:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=f(n(1)),s=f(n(2)),a=f(n(5)),c=f(n(172)),u=f(n(171)),l=f(n(3)),h=f(n(320));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}function v(e,t){return e?r.default.createElement("a",{className:h.default.ArtistLink,href:e},t):t}var w=(d((i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={title:"",message:"",visible:!1,type:u.default.Types.Default,display:!1,evidenceIcon:!1,highlight:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentWillMount",value:function(){this.checkUIState(),this.state.alertTop=this.alertTopClosed,this.state.alertLeft=this.alertLeft,this.state.alertZ=this.alertZ,this.openState=t.OpenState.Closed,this.nextFrameOp=0}},{key:"onNextFrame",value:function(e){if(clearTimeout(this.timeout),clearTimeout(this.timeout2),this.nextFrameOp++,e){var t=this;window.requestAnimationFrame((n=this.nextFrameOp,function(){t.nextFrameOp===n&&e()}))}var n}},{key:"componentWillReceiveProps",value:function(e){e.showGuides!==this.props.showGuides||e.showModal!==this.props.showModal?this.didUIChange=!0:this.didUIChange=!1,e.data!=this.props.data&&this.setData(e.data)}},{key:"componentDidUpdate",value:function(){this.didUIChange&&(this.checkUIState(),this.openState===t.OpenState.Open&&this.setState({alertTop:this.alertTopOpened,alertLeft:this.alertLeft,alertZ:this.alertZ}),this.openState===t.OpenState.Closed&&this.setState({alertTop:this.alertTopClosed,alertLeft:this.alertLeft,alertZ:this.alertZ}),this.didUIChange=!1)}},{key:"checkUIState",value:function(){this.props.showModal?(this.alertTopClosed=-40,this.alertTopOpened=20,this.alertLeft=0,this.alertZ=2003):this.props.showGuides?(this.alertTopClosed=-90,this.alertTopOpened=30,this.alertLeft=30):(this.alertTopClosed=-60,this.alertTopOpened=0,this.alertLeft=0,this.alertZ=2001)}},{key:"open",value:function(e,n,i,o){this.checkUIState();var r=this;switch(this.openState){case t.OpenState.Open:clearTimeout(this.timeout),clearTimeout(this.timeout2),this.setState({title:e,message:n,type:i}),o&&(this.timeout=setTimeout(function(){r.close()},1e3*o));break;case t.OpenState.Closing:case t.OpenState.Opening:clearTimeout(this.timeout2),this.timeout2=setTimeout(function(){r.open(e,n,i,o)},100);break;case t.OpenState.Closed:this.setState({title:e,message:n,type:i,display:!0}),this.onNextFrame(function(){r.props.data._hide?r.close():(r.setState({alertTop:r.alertTopClosed}),r.onNextFrame(function(){r.props.data._hide?r.close():(r.openState=t.OpenState.Opening,r.setState({visible:!0,alertTop:r.alertTopOpened}),r.timeout=setTimeout(function(){r.props.data._hide?r.close():(r.setState({evidenceIcon:!0}),r.openState=t.OpenState.Open,o&&(r.timeout=setTimeout(function(){r.close()},1e3*o)))},200))}))})}}},{key:"close",value:function(){this.checkUIState(),this.onNextFrame(null);var e=this;switch(this.openState){case t.OpenState.Open:case t.OpenState.Opening:this.openState=t.OpenState.Closing,this.setState({alertTop:e.alertTopClosed}),this.timeout=setTimeout(function(){e.setState({visible:!1,display:!1,evidenceIcon:!1}),e.openState=t.OpenState.Closed,e.props.container.remove(e.data)},400);break;case t.OpenState.Closed:e.props.container.remove(e.data)}}},{key:"mouseClick",value:function(){this.props.data.type===u.default.Types.State||this.props.data.blockClose||this.openState===t.OpenState.Open&&this.props.data.hide(!0)}},{key:"updateButtons",value:function(){if(this.props.data&&this.props.data.flash){this.props.data.flash=!1,this.setState({highlight:!1});var e=this;this.timeout=setTimeout(function(){e.setState({highlight:!0})},0)}else this.forceUpdate()}},{key:"setData",value:function(e){this.data&&(this.data.removeEventListener("hide",this.close),this.data.removeEventListener("updateButtons",this.updateButtons)),this.data=e,this.data&&(this.props.data.addEventListener("hide",this.close),this.props.data.addEventListener("updateButtons",this.updateButtons))}},{key:"componentDidMount",value:function(){this.props.data._hide?this.close():(this.setData(this.props.data),this.open(this.props.data.title,this.props.data.message,this.props.data.type,this.props.data.autoHideSeconds))}},{key:"componentWillUnmount",value:function(){this.setData(null)}},{key:"render",value:function(){var e,t,n=this.props.data,i=n.link,o=!1,s=null,a=null;switch(this.state.type){case u.default.Types.Event:e=l.default.make("/images/symbol-defs.svg#icon-event-alert"),t="EventAlertIcon",o=!0;break;case u.default.Types.Question:e=l.default.make("/images/symbol-defs.svg#icon-question"),t="QuestionAlertIcon";break;case u.default.Types.Saving:e=l.default.make("/images/symbol-defs.svg#icon-hdd-up"),t="SaveAlertIcon";break;case u.default.Types.Avatar:e=l.default.make("/images/symbol-defs.svg#icon-avatar"),t=(s=n.avatar)?"AvatarAlertIcon":"AvatarAlertIcon AvatarAlertIconBlank";break;case u.default.Types.License:var h=0;a=n.license.icons.map(function(e){return r.default.createElement("svg",{key:h++,className:"ccIcon"},r.default.createElement("use",{xlinkHref:e}))});break;default:e=l.default.make("/images/symbol-defs.svg#icon-alert"),t="AlertIcon"}var f=[];if(this.props.data.buttons)for(var d=0;d<this.props.data.buttons.length;d++){var w=this.props.data.buttons[d],b=!0===w.isAccent,g=!0===w.isDisabled;f.push(r.default.createElement(c.default,{key:d,label:w.label,accentBtn:b,disabled:g,onPress:w.action}))}else f.push(r.default.createElement(c.default,{key:"ok",label:o?"HIDE":"OK",onPress:null}));return r.default.createElement("div",{onClick:this.mouseClick,className:"AlertPanelWrapper",style:{display:this.state.display?null:"none",zIndex:this.state.alertZ,left:this.state.alertLeft+"px",top:this.props.top+this.state.alertTop+"px",opacity:this.state.alertTop==this.alertTopOpened?"1":"0",position:this.props.showModal?"fixed":null}},this.props.data.type!==u.default.Types.State?r.default.createElement("div",{className:"AlertPanel"},v(i,a?r.default.createElement("div",{style:{marginLeft:"10px",marginRight:"5px"}},a):r.default.createElement("div",{className:t,style:{backgroundSize:s?"cover":null,backgroundImage:s?"url('"+s+"')":null,opacity:this.state.evidenceIcon?1:0,animation:o?this.state.highlight?"fadeOutIcon .4s ease-in-out both":null:this.state.evidenceIcon?"bounceIn .4s ease-in-out":null}},s?null:r.default.createElement("svg",{style:{animation:this.state.highlight?"bounceEvent .4s ease-in-out both":null}},r.default.createElement("use",{xlinkHref:e})))),r.default.createElement("div",{className:"AlertMessage",style:{opacity:o?"1":this.state.alertTop==this.alertTopOpened?1:0}},v(n.customTitleRenderer?null:i,r.default.createElement("span",{className:"AlertTitle",style:{animation:this.state.highlight?"fadeOutTitle .8s ease-in-out both":null}},n.customTitleRenderer?n.customTitleRenderer():this.state.title)),r.default.createElement("span",{style:{opacity:o?.5:null}}," ",this.state.message)),f):r.default.createElement("div",{className:"StateAlertPanel"},r.default.createElement("div",{className:"AlertTitle"},n.customTitleRenderer?n.customTitleRenderer():this.state.title),r.default.createElement("div",{className:"AlertMessage"},this.state.message),r.default.createElement("div",{className:"AlertButtons"},f)))}}]),t}()).prototype,"close",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"close"),i.prototype),d(i.prototype,"mouseClick",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"mouseClick"),i.prototype),d(i.prototype,"updateButtons",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"updateButtons"),i.prototype),i);t.default=w,w.contextTypes={nima:a.default.object},w.OpenState={Opening:0,Open:1,Closing:2,Closed:3}},320:function(e,t,n){var i=n(321);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insertAt:"top",hmr:!0,transform:void 0};n(14)(i,o);i.locals&&(e.exports=i.locals)},321:function(e,t,n){(t=e.exports=n(13)(!1)).push([e.i,".source-client-source-editors-shared-ui-Components-AlertPanelStyles-ArtistLink-2bPmh,\n.source-client-source-editors-shared-ui-Components-AlertPanelStyles-ArtistLink-2bPmh + div a {\n  color: #fff;\n  text-decoration: none; }\n\n.source-client-source-editors-shared-ui-Components-AlertPanelStyles-ArtistLink-2bPmh:hover,\n.source-client-source-editors-shared-ui-Components-AlertPanelStyles-ArtistLink-2bPmh:hover + div a,\n.source-client-source-editors-shared-ui-Components-AlertPanelStyles-ArtistLink-2bPmh + div a:hover {\n  text-decoration: underline; }\n",""]),t.locals={ArtistLink:"source-client-source-editors-shared-ui-Components-AlertPanelStyles-ArtistLink-2bPmh"}},322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n(1)),s=c(n(2)),a=c(n(3));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var l=(u((i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editing:!1,revisionName:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"click",value:function(){this.props.onSelect&&this.props.onSelect(this.props.revision)}},{key:"completeEdit",value:function(){this.setState({editing:!1}),this.inputText&&this.inputText.removeEventListener("blur",this.commitRename),clearTimeout(this.editTimeout)}},{key:"doubleClick",value:function(e){this.setState({editing:!0,revisionName:this.props.label});var t=this;clearTimeout(this.editTimeout),this.editTimeout=setTimeout(function(){t.inputText.focus(),t.inputText.setSelectionRange(0,t.inputText.value.length),t.inputText.addEventListener("blur",t.commitRename,!0)},0)}},{key:"setInputText",value:function(e){this.inputText=e}},{key:"editKeyDown",value:function(e){switch(e.keyCode){case 13:this.inputText.blur();break;case 27:this.completeEdit(),this.inputText.blur()}}},{key:"editTextChange",value:function(e){this.setState({revisionName:e.target.value})}},{key:"commitRename",value:function(){this.props.renameRevision&&this.inputText&&this.props.renameRevision(this.props.revision,this.inputText.value),this.completeEdit(),this.forceUpdate()}},{key:"render",value:function(){return r.default.createElement("div",{className:this.props.selected?"HistoryListRow HistoryListRowSelected":"HistoryListRow",onMouseDown:this.click,onDoubleClick:this.doubleClick},this.state.editing?r.default.createElement("input",{ref:this.setInputText,className:"RevisionName",type:"text",value:this.state.revisionName,onKeyDown:this.editKeyDown,onChange:this.editTextChange}):r.default.createElement("div",{className:"RevisionName"},this.props.label),r.default.createElement("svg",{className:"HistoryActiveIcon",style:{opacity:this.props.active?null:0}},r.default.createElement("use",{xlinkHref:a.default.make("/images/symbol-defs.svg#icon-check-small")})))}}]),t}()).prototype,"click",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"click"),i.prototype),u(i.prototype,"completeEdit",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"completeEdit"),i.prototype),u(i.prototype,"doubleClick",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"doubleClick"),i.prototype),u(i.prototype,"setInputText",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"setInputText"),i.prototype),u(i.prototype,"editKeyDown",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"editKeyDown"),i.prototype),u(i.prototype,"editTextChange",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"editTextChange"),i.prototype),u(i.prototype,"commitRename",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"commitRename"),i.prototype),i);t.default=l},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(324),s=(i=r)&&i.__esModule?i:{default:i};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._Tables=[],this._WalkIns=[],this._Regulars=[]}return o(e,[{key:"prepareTable",value:function(e,t){var n=new s.default(this,e,t);return this._Tables.push(n),n}},{key:"areTablesDone",value:function(){for(var e=this._Tables.length-1;e>=0;e--)if(!this._Tables[e].isDone())return!1;var t=this._WalkIns.slice(0);this._WalkIns.length=0;for(var n=0;n<t.length;n++){(0,t[n])()}return!0}},{key:"takeAway",value:function(e){this._WalkIns.push(e),this.areTablesDone()}}]),e}();t.default=a},324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),a=(o=s)&&o.__esModule?o:{default:o};var c,u,l,h,f,d,v=(i=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._Waiter=t,this._Callback=n,this._Milliseconds=i,this._Timeout=null}return r(e,[{key:"serve",value:function(e){var t=this._Callback(e);if(t instanceof Promise){var n=this;t.then(function(e){n._Timeout=null,n._Waiter.areTablesDone()}).catch(function(e){console.log("There was an error with the Promise:",e)})}else this._Timeout=null,this._Waiter.areTablesDone()}},{key:"eat",value:function(e){clearTimeout(this._Timeout);var t=this._Milliseconds,n=void 0;e&&(e.customTimeout&&(t=e.customTimeout),e.flags&&(n=e.flags)),this._Timeout=setTimeout(this.serve,t,n)}},{key:"isDone",value:function(){return null==this._Timeout}},{key:"cancelServing",value:function(){clearTimeout(this._Timeout),this._Timeout=null,this._Waiter.areTablesDone()}}]),e}(),c=i.prototype,u="serve",l=[a.default],h=Object.getOwnPropertyDescriptor(i.prototype,"serve"),f=i.prototype,d={},Object.keys(h).forEach(function(e){d[e]=h[e]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce(function(e,t){return t(c,u,e)||e},d),f&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(f):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(c,u,d),d=null),i);t.default=v},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=new Map,r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._Label=t,this._ID=n,o.set(t,this)}return i(e,[{key:"toString",value:function(){return this._Label}},{key:"id",get:function(){return this._ID}}],[{key:"fromString",value:function(t){return o.get(t)||e.Idle}}]),e}();t.default=r,r.System=new r("system",0),r.Auto=new r("auto",1),r.User=new r("user",2),r.Example=new r("example",3)},326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=[],r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._Lines=[]}return i(e,null,[{key:"_onSave",value:function(t){e.onSave&&(e.onSave(t),o.length=0)}},{key:"log",value:function(t,n){clearTimeout(this.saveTimeout),this.saveTimeout=setTimeout(e._onSave,2e3,o),o.push({t:t,l:n,n:Date.now()})}}]),e}();t.default=r},327:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(t,n,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=t,this.prop=n,this.from=i,this.to=o}return i(e,[{key:"undo",value:function(){this.item[this.prop]=this.from}},{key:"redo",value:function(){this.item[this.prop]=this.to}}]),e}();t.default=o},364:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(2)),s=l(n(1)),a=l(n(309)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(257)),u=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var f=(h((i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return window.composer=n,n.state={linkInput:"",isFocused:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentWillMount",value:function(){this.wasEmpty=!0,this.urlRegEx=new RegExp("^((?:(?:https?|ftp)://))((?:\\S+(?::\\S*)?@)?)((?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?))((?::\\d{2,5})?)((?:[/?#]\\S*)?)$","i")}},{key:"setBody",value:function(e){this.body=e}},{key:"setDefaultText",value:function(e){this.defaultText=e}},{key:"serialize",value:function(){return this.body.innerHTML}},{key:"deserialize",value:function(e){this.body.innerHTML=e,this.onInput()}},{key:"getToolbar",value:function(){return this.toolbar||(this.toolbar=a.default.make(this,this.props.toolbarElementsMask)),this.toolbar}},{key:"componentDidMount",value:function(){var e=document.createElement("div");e.className="PstList",this.list=e,this.listFocusIndex=-1,e.style.display="none",document.body.appendChild(e),this.body.addEventListener("input",this.onInput),this.body.addEventListener("focus",this.onFocus),this.body.addEventListener("blur",this.onBlur),this.body.addEventListener("keydown",this.onKeyDown),this.body.addEventListener("keyup",this.onKeyUp),this.body.addEventListener("keypress",this.onKeyPressed),this.body.addEventListener("paste",this.onPaste),window.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mouseup",this.onMouseUp),this.body.parentNode&&(this.body.parentNode.addEventListener("scroll",this.onScroll),this.body.parentNode.parentNode&&this.body.parentNode.parentNode.addEventListener("scroll",this.onScroll))}},{key:"componentWillUnmount",value:function(){this.toolbar&&this.toolbar.cleanup(),this.body.removeEventListener("input",this.onInput),this.body.removeEventListener("focus",this.onFocus),this.body.removeEventListener("blur",this.onBlur),this.body.removeEventListener("keydown",this.onKeyDown),this.body.removeEventListener("keyup",this.onKeyUp),this.body.removeEventListener("keypress",this.onKeyPressed),this.body.removeEventListener("paste",this.onPaste),window.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mouseup",this.onMouseUp),this.body.parentNode&&(this.body.parentNode.removeEventListener("scroll",this.onScroll),this.body.parentNode.parentNode&&this.body.parentNode.parentNode.removeEventListener("scroll",this.onScroll)),document.body.removeChild(this.list)}},{key:"computeIsEmpty",value:function(){return this.body&&0===this.body.innerHTML.trim().length}},{key:"reset",value:function(){this.body.innerHTML="",this.onInput()}},{key:"unwrap",value:function(e){var t=this.body.getElementsByTagName(e),n=t.length,i=void 0;for(i=n-1;i>=0;i--)for(var o=t[i];o.firstChild;)o.parentNode.insertBefore(o.firstChild,o);for(i=n-1;i>=0;i--){var r=t[i];r.parentNode.removeChild(r)}}},{key:"onInput",value:function(){if(this.isAutoCompleteOn&&this.updateList(),clearTimeout(this.checkEmptyTimeout),this.wasEmpty)this.computeIsEmpty()?(!this.wasEmpty&&this.props.onHaveInput&&this.props.onHaveInput(!1),this.wasEmpty=!0,this.defaultText.style.display=""):(this.defaultText.style.display="none",this.wasEmpty&&this.props.onHaveInput&&this.props.onHaveInput(!0),this.wasEmpty=!1);else{var e=this;this.checkEmptyTimeout=setTimeout(function(){e.computeIsEmpty()&&(!e.wasEmpty&&e.props.onHaveInput&&e.props.onHaveInput(!1),e.wasEmpty=!0,e.defaultText.style.display="")},1e3)}if(!this.wasEmpty){var t=this.body.lastChild;null!==t&&(t.constructor!==Text||t.textContent.length<1)&&this.body.appendChild(document.createTextNode(""));var n=this.body.firstChild,i=[Text,HTMLHeadingElement,HTMLAnchorElement];if(null!==n){for(var o=!1,r=n;r;){var s=-1!==i.indexOf(r.constructor);if(s&&r.textContent.length>=1){o=!0;break}if(!s)break;r=r.nextSibling}o||this.body.insertBefore(document.createTextNode(""),n)}var a=window.getSelection();if(null===a.focusNode&&this.body.lastChild){var c=document.createRange();c.setStart(this.body.lastChild,0),c.collapse(!0),a.removeAllRanges(),a.addRange(c)}}this.unwrap("span"),this.unwrap("font"),this.props.onInputChanged&&this.props.onInputChanged()}},{key:"onScroll",value:function(){this.updateSelection()}},{key:"validateLink",value:function(e){if(this.editLink){if(e){var t=c.find(e);if(t&&t.length)return this.editLink.href=t[0].href,void(this.props.onInputChanged&&this.props.onInputChanged())}for(;this.editLink.firstChild;)this.editLink.parentNode.insertBefore(this.editLink.firstChild,this.editLink);this.editLink.parentNode.removeChild(this.editLink),this.editLink=null}}},{key:"onMouseDown",value:function(e){var t=e.target;do{if(t===this.getToolbar().root())return void(this.mouseDownWasOnControls=!0);t=t.parentNode}while(t&&t.parentNode);this.editLink&&this.getToolbar().isShowingLinkInput&&this.validateLink(this.getToolbar().getLinkInput()),this.mouseDownWasOnControls=!1,this.isMouseDown=!0,this.updateSelection()}},{key:"onMouseUp",value:function(){this.isMouseDown=!1,this.mouseDownWasOnControls?this.mouseDownWasOnControls=!1:this.updateSelection()}},{key:"clientRectFromRange",value:function(e){for(var t=e.getClientRects(),n=Number.MIN_VALUE,i=Number.MAX_VALUE,o=Number.MAX_VALUE,r=Number.MIN_VALUE,s=0;s<t.length;s++){var a=t[s];a.bottom>n&&(n=a.bottom),a.top<i&&(i=a.top),a.left<o&&(o=a.left),a.right>r&&(r=a.right)}return{left:o,top:i,right:r,bottom:n}}},{key:"isComposerSelected",value:function(){for(var e=window.getSelection().focusNode;e;e=e.parentNode)if(e===this.root)return!0;return!1}},{key:"doUpdateSelection",value:function(){if(this.state.isFocused&&this.isComposerSelected()){var e=this.getSelectedMarker();if(e)this.showList(e);else{this.hideList();var t=window.getSelection();if(t){var n=t.rangeCount&&t.getRangeAt(0),i=this.getSelectedLink();if(i&&i!=this.editLink?(this.editLink=i,this.getToolbar().showLinkInput(i.href)):i||(this.editLink=null,this.getToolbar().hideLinkInput()),this.editLink||n&&!n.collapsed&&!this.isMouseDown){var o=n.getBoundingClientRect();0==o.left&&0==o.right&&0==o.bottom&&0==o.top?this.getToolbar().hide():this.getToolbar().show(o,this)}else this.getToolbar().hide()}}}}},{key:"updateSelection",value:function(){this.getToolbar().isVisible()?this.doUpdateSelection():(clearTimeout(this.updateSelectionTimeout),this.updateSelectionTimeout=setTimeout(this.doUpdateSelection,100))}},{key:"getSelectionStyle",value:function(){for(var e=window.getSelection().focusNode;e;e=e.parentNode)if(e.constructor!==Text){var t=window.getComputedStyle(e);if(t)return t}return null}},{key:"selectionToggleLink",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.toggleTag("a");t&&(this.editLink=t,this.getToolbar().showLinkInput("",!0))}},{key:"selectionToggleBold",value:function(e){e.preventDefault(),e.stopPropagation(),document.execCommand("bold",!1),this.updateSelection()}},{key:"selectionToggleStrike",value:function(e){e.preventDefault(),e.stopPropagation(),document.execCommand("strikeThrough",!1),this.updateSelection()}},{key:"toggleTag",value:function(e,t){var n=window.getSelection(),i=n.rangeCount&&n.getRangeAt(0);if(i){for(var o=null,r=n.focusNode;r;r=r.parentNode){if(r.tagName&&r.tagName.toLowerCase()===e){for(o=document.createDocumentFragment();r.firstChild;)o.appendChild(r.firstChild);r.parentNode.removeChild(r);break}if(r===this.body)break}if(o)i.insertNode(o),n.removeAllRanges(),n.addRange(i);else{var s=i.extractContents(),a=s.querySelectorAll("h1");if(a&&a.length){for(var c=0;c<a.length;c++){var u=a[c];u.parentNode.insertBefore(u.firstChild,u),u.parentNode.removeChild(u)}i.insertNode(s),n.removeAllRanges(),n.addRange(i)}else{if(!t){for(var l=document.createElement(e);s.firstChild;)l.appendChild(s.firstChild);s.appendChild(l),i.insertNode(s);var h=document.createRange();return h.selectNodeContents(l),n.removeAllRanges(),n.addRange(h),this.props.onInputChanged&&this.props.onInputChanged(),l}i.insertNode(s),this.props.onInputChanged&&this.props.onInputChanged()}}return this.props.onInputChanged&&this.props.onInputChanged(),null}}},{key:"selectionToggleHeader",value:function(e){e.preventDefault(),e.stopPropagation(),this.toggleTag("h1"),this.updateSelection()}},{key:"selectionToggleListOrdered",value:function(e){e.preventDefault(),e.stopPropagation(),this.toggleTag("h1",!0),document.execCommand("insertOrderedList",!1),this.updateSelection()}},{key:"selectionToggleList",value:function(e){e.preventDefault(),e.stopPropagation(),this.toggleTag("h1",!0),document.execCommand("insertUnorderedList",!1),this.updateSelection()}},{key:"onPaste",value:function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain").trim(),n=window.getSelection();if(n.getRangeAt&&n.rangeCount){var i=n.getRangeAt(0);i.deleteContents();var o=document.createElement("div");o.innerText=t;for(var r=document.createDocumentFragment(),s=void 0,a=void 0;s=o.firstChild;)a=r.appendChild(s);i.insertNode(r),a&&(i=i.cloneRange(),a.data?i.setStart(a,a.data.length):i.setStartAfter(a),i.collapse(!0),n.removeAllRanges(),n.addRange(i))}this.onInput()}},{key:"getSelectedMarker",value:function(){for(var e=window.getSelection().focusNode;e&&"Usr"!=e.className&&"Tag"!=e.className;)e=e.parentNode;if(e){var t=null;if(t="Usr"===e.className?"@":"#",e.innerText&&e.innerText[0]!==t){for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);return this.hideList(),null}}else this.hideList();return e}},{key:"getSelectedLink",value:function(){for(var e=window.getSelection().focusNode;e;e=e.parentNode){if(e.constructor===HTMLAnchorElement)return e;if(e===this.body)break}return null}},{key:"getSelectedHeading",value:function(){for(var e=window.getSelection().focusNode;e;e=e.parentNode){if(e.constructor===HTMLHeadingElement)return e;if(e===this.body)break}return null}},{key:"getSelectedUListElement",value:function(){for(var e=window.getSelection().focusNode;e;e=e.parentNode){if(e.constructor===HTMLUListElement)return e;if(e===this.body)break}return null}},{key:"getSelectedOListElement",value:function(){for(var e=window.getSelection().focusNode;e;e=e.parentNode){if(e.constructor===HTMLOListElement)return e;if(e===this.body)break}return null}},{key:"getSelectedListItem",value:function(){for(var e=window.getSelection().focusNode;e&&e.constructor!==HTMLLIElement;)e=e.parentNode;return e}},{key:"getSelectedList",value:function(){for(var e=window.getSelection().focusNode;e&&e.constructor!==HTMLUListElement&&e.constructor!==HTMLOListElement;)e=e.parentNode;return e}},{key:"breakMarker",value:function(e,t){this.hideList()," "===t&&(t="");var n=window.getSelection(),i=n.rangeCount&&n.getRangeAt(0);i&&i.deleteContents();var o=document.createRange(),r=e.nextSibling;if(e.nextSibling&&e.nextSibling.constructor===Text)if(0==e.nextSibling.length){var s=e.nextSibling,a=document.createTextNode(t);e.parentNode.insertBefore(a,e.nextSibling),s.parentNode.removeChild(s),r=a}else e.nextSibling.data[0]!=t&&(e.nextSibling.data=t+e.nextSibling.data);else{var c=document.createTextNode(t);e.parentNode.insertBefore(c,e.nextSibling),r=c}if(o.selectNode(r),o.setStart(r,1),o.collapse(!0),n.removeAllRanges(),n.addRange(o),!e.innerText||e.innerText.length<2)for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);this.onInput()}},{key:"showList",value:function(e){this.getToolbar().hide();var t=this.list;if("none"===t.style.display||t.marker!==e){this.isAutoCompleteOn=!0;var n=e.getBoundingClientRect();t.style.display="",t.style.left=n.left+"px";for(140+n.top+n.height>window.innerHeight?(t.style.bottom=window.innerHeight-(n.top-10)+"px",t.style.top=null,t.style.boxShadow="0px 10px 50px rgba(0,0,0,0.2)"):(t.style.top=n.top+n.height+"px",t.style.bottom=null,t.style.boxShadow=null);t.firstChild;)t.removeChild(t.firstChild);this.updateList(),t.marker=e,this.setListFocus(-1)}}},{key:"getAutoCompleteData",value:function(e,t,n){var i=this.list,o=new XMLHttpRequest;i.req=o,o.open("GET",e+t,!0),o.onload=function(){var e;try{e=JSON.parse(this.responseText)}catch(t){e=null}n(e)},o.send()}},{key:"updateList",value:function(){for(var e=this.list;e.firstChild;)e.removeChild(e.firstChild);e.req&&(e.req.abort(),e.req=null),clearTimeout(e.timeout);var t=this;e.timeout=setTimeout(function(){var n=e.marker.innerText;if(n.length>1){var i=e.marker,o="Usr"===i.className?"/api/search/ac/artists/":"/api/search/ac/tags/";t.getAutoCompleteData(o,n.substring(1),function(n){if(n){if("Usr"===i.className)for(var o=0;o<n.length;o++){var r=n[o],s=document.createElement("div");s.__value=r.un,s.onmousemove=function(){if(!this.classList.contains("Selected")){for(var e=t.list.childNodes,n=e.length,i=0;i<n;i++)e[i].classList.remove("Selected");this.classList.add("Selected")}},s.onmouseleave=function(){this.classList.remove("Selected");var e=t.list.childNodes[t.listFocusIndex];e&&e.classList.add("Selected")},s.innerHTML=r.nm+" <span class='PstListUsr'>@"+r.un+"</span>",h(s,o)}else for(var a=0;a<n.length;a++){var c=n[a],u=document.createElement("div");u.className="TagRow",u.__value=c.nm,u.innerHTML="<span class='PstListTag'>"+c.nm+"</span><span class='PstListCt'>"+c.ct+"</span>",h(u,a)}if(e.style.bottom){var l=e.childNodes[e.childNodes.length-1];e.scrollTop=l.offsetTop-10}}function h(n,i){n.style.cursor="pointer",n.onclick=n.onmousedown=function(){t.setListFocus(i),t.hideList()},e.style.bottom?e.insertBefore(n,e.children[0]):e.appendChild(n)}})}},200)}},{key:"setListFocus",value:function(e){var t=this.list,n=t.marker,i=this.list.childNodes.length;e=-1===e?-1:e<-1?i-1:e%i;for(var o=0;o<i;o++)t.childNodes[o].classList.remove("Selected");if(-1!=e){var r=t.childNodes[e];r.classList.add("Selected"),t.scrollTop=r.offsetTop-10}-1===this.listFocusIndex&&(t.userInput=n.innerText);var s=!1;if(-1===e)n.innerText!=t.userInput&&(n.innerText=t.userInput,s=!0);else{var a=("Usr"===n.className?"@":"#")+t.childNodes[e].__value;n.innerText!=a&&(n.innerText=a,s=!0)}if(s){var c=document.createRange();c.selectNodeContents(n),c.collapse(!1);var u=window.getSelection();u.removeAllRanges(),u.addRange(c)}this.listFocusIndex=e}},{key:"moveListFocus",value:function(e){this.setListFocus(this.listFocusIndex+e)}},{key:"hideList",value:function(){this.list.style.display="none",this.listFocusIndex=-1,this.isAutoCompleteOn=!1}},{key:"makeMarker",value:function(e){var t=window.getSelection(),n=t.rangeCount&&t.getRangeAt(0);n&&n.deleteContents();var i=document.createElement("div");i.className="#"===e?"Tag":"Usr",n.insertNode(i),i.innerText=e;var o=document.createRange();o.setStart(i,1),o.collapse(!0),t.removeAllRanges(),t.addRange(o),this.showList(i),this.onInput()}},{key:"hasTextBefore",value:function(){var e=window.getSelection(),t=e.focusNode;if(t.textContent){var n=e.focusOffset,i=t.textContent.charAt(n-1);if(!n)for(t=t.previousSibling;;){if(!t||t.constructor!=Text)return!1;if(t.textContent.length>0){i=t.textContent.charAt(t.textContent.length-1);break}t=t.previousSibling}var o=/\S/.test(i);return console.log("TEXT:",n,i,o),o}return!1}},{key:"onKeyPressed",value:function(e){var t=e.charCode;if(t){var n=this.getSelectedMarker();if(n){var i={60:"<",62:">",63:"?",44:",",46:".",47:"/",33:"!",36:"$",37:"%",94:"^",38:"&",42:"*",40:"(",41:")",95:"_",43:"+",45:"-",61:"=",91:"[",93:"]",123:"{",125:"}",124:"|",92:"\\",126:"~",96:"`",32:" "}[t];if(i)return this.breakMarker(n,i),e.preventDefault(),void e.stopPropagation()}switch(t){case 35:n=this.getSelectedMarker(),console.log(n),e.preventDefault(),e.stopPropagation(),n?this.breakMarker(n,"#"):this.makeMarker("#");break;case 64:this.hasTextBefore()||(n=this.getSelectedMarker(),e.preventDefault(),e.stopPropagation(),n?this.breakMarker(n,"@"):this.makeMarker("@"));break;case 32:var o=window.getSelection(),r=o.focusNode;if(r.constructor===Text){for(var s=r.data,a=0,c=o.focusOffset-1,u=c;u>=0;u--){var l=s[u];if(/\s/.test(l)){a=u+1;break}}var h=s.substring(a,c+1);if(h){var f=this.matchURL(h);if(f)this.onUrlDetected(f,h,r,a);else if(0===a&&(!r.previousSibling||r.previousSibling.constructor!==Text)){var d=null,v=1;switch(h){case"*":d="ul";break;case"1.":d="ol",v=2}if(d){var w=s.substring(a+v),b=[];if(w){b.push(document.createTextNode(w));for(var g=r.nextSibling;g&&g.constructor!==HTMLBRElement;g=g.nextSibling)b.push(g)}var _=this.getSelectedListItem(),k=document.createElement(d);if(_?(_.parentNode.insertBefore(k,_),_.parentNode.removeChild(_)):(r.parentNode.insertBefore(k,r),r.parentNode.removeChild(r)),_=document.createElement("li"),k.appendChild(_),b.length)for(var M=0;M<b.length;M++)_.appendChild(b[M]);var S=document.createRange();S.setStart(_,0),S.collapse(!0),o.removeAllRanges(),o.addRange(S),e.preventDefault(),e.stopPropagation()}}}}this.onInput()}}}},{key:"onKeyDown",value:function(e){this.changedListFocus=!1;var t=e.keyCode||e.charCode;switch(t){case 38:case 40:"none"!==this.list.style.display?(this.changedListFocus=!0,e.preventDefault(),e.stopPropagation(),this.moveListFocus(38===t?-1:1)):this.updateSelection();break;case 13:if((e.metaKey||e.ctrlKey)&&this.props.onSubmit)return void this.props.onSubmit();e.preventDefault(),e.stopPropagation();var n=this.getSelectedMarker();if(n)this.breakMarker(n," ");else{var i=window.getSelection(),o=i.focusNode;if(o.constructor===Text&&i.focusOffset===o.data.length){for(var r=o.data,s=0,a=r.length-1,c=a;c>=0;c--){var u=r[c];if(/\s/.test(u)){if(console.log(c,a),c==a){a--;continue}s=c+1;break}}var l=r.substring(s,a+1);if(l){var h=this.matchURL(l);h&&this.onUrlDetected(h,l,o,s)}}var f=this.getSelectedListItem();if(f){var d=f.innerHTML;if(d.length&&(d=d.replace(/^(&nbsp;|\s|<br>)+|(&nbsp;|\s|<br>)+$/g,"")),0===d.length){f.parentNode.removeChild(f);var v=this.getSelectedList();if(v.parentNode.constructor===HTMLOListElement||v.parentNode.constructor===HTMLUListElement){var w=document.createElement("li");v.parentNode.insertBefore(w,v.nextSibling);var b=i.rangeCount&&i.getRangeAt(0);b&&(b.setStart(w,0),b.collapse(!0),i.removeAllRanges(),i.addRange(b))}else{var g=i.rangeCount&&i.getRangeAt(0),_=v.nextSibling,k=_;_&&_.data&&_.constructor===Text&&0!==_.data.length||(k=document.createTextNode(""),v.parentNode.insertBefore(k,_)),g&&(g.setStart(k,0),g.collapse(!0),i.removeAllRanges(),i.addRange(g))}}else{var M=document.createElement("li"),S=[],O=i.focusNode;if(i.focusNode.data&&i.focusOffset!==i.focusNode.data.length){var E=i.focusNode.data.substring(0,i.focusOffset),p=i.focusNode.data.substring(i.focusOffset);if(console.log(i.focusNode.parentNode.constructor),i.focusNode.parentNode.constructor===HTMLElement||i.focusNode.parentNode.constructor===HTMLAnchorElement){var D=document.createElement(i.focusNode.parentNode.tagName);i.focusNode.parentNode.href&&D.setAttribute("href",i.focusNode.parentNode.href),D.appendChild(document.createTextNode(p)),S.push(D),O=i.focusNode.parentNode}else S.push(document.createTextNode(p));i.focusNode.data=E}else i.focusNode.parentNode.constructor===HTMLElement&&(O=i.focusNode.parentNode);for(var T=O.nextSibling;T&&T.constructor!==HTMLBRElement;T=T.nextSibling)S.push(T);for(var I=0;I<S.length;I++)M.appendChild(S[I]);f.parentNode.insertBefore(M,f.nextSibling);var C=i.rangeCount&&i.getRangeAt(0);C&&(C.setStart(M,0),C.collapse(!0),i.removeAllRanges(),i.addRange(C))}}else{var y=window.getSelection(),L=y.rangeCount&&y.getRangeAt(0),N=document.createElement("br"),A=document.createDocumentFragment();A.appendChild(N);var m=null;y.focusNode.data&&(y.focusOffset!==y.focusNode.data.length||y.focusNode.nextSibling&&y.focusNode.nextSibling.constructor===Text&&0!==y.focusNode.nextSibling.data.length)?(m=document.createTextNode(""),A.appendChild(m)):(m=document.createTextNode(""),A.appendChild(m)),L&&(L.deleteContents(),L.insertNode(A),L.setStart(m,0),L.collapse(!0),y.removeAllRanges(),y.addRange(L))}this.onInput()}break;case 27:if("none"!==this.list.style.display&&-1!==this.listFocusIndex)this.setListFocus(-1),e.preventDefault(),e.stopPropagation();else{var U=this.getSelectedMarker();if(U)for(;U.firstChild;)U.parentNode.insertBefore(U.firstChild,U);this.hideList()}break;case 8:this.getSelectedMarker();var j=this.getSelectedListItem();if(j){var H=this.getSelectedList(),V=window.getSelection();if(0===V.focusOffset&&(V.focusNode===j||V.focusNode.parentNode===j))if(1===H.getElementsByTagName("li").length){var B=V.rangeCount&&V.getRangeAt(0),x=H.previousSibling;if(x&&B){var z=x.lastChild;z?(B.selectNodeContents(z),B.collapse(!1)):(B.setStart(x,0),B.collapse(!0)),V.removeAllRanges(),V.addRange(B)}e.preventDefault(),e.stopPropagation(),H.parentNode.removeChild(H)}}}}},{key:"onKeyUp",value:function(){this.updateSelection()}},{key:"onUrlDetected",value:function(e,t,n,i){var o=e.resource?e.resource.toLowerCase():"";if("www.dropbox.com"==e.host&&"/s/"===o.substring(0,3)){var r=e.resource.lastIndexOf("/"),s=e.resource.lastIndexOf("?"),a=decodeURIComponent(e.resource.substring(r+1,-1===s?e.resource.length:s));this.attachDropBox(e,t,n,i,a)}if("www.2dimensions.com"!=e.host&&"dev.2dimensions.com"!=e.host||"/s/"!==o.substring(0,3))if("cdn.2dimensions.com"==e.host&&"/demos/"===o.substring(0,7))this.attachDemo(e,t,n,i);else if("drive.google.com"==e.host&&"/open?id="===o.substring(0,9)){var c=e.resource.substring(9),u=c.indexOf("&");-1!=u&&(c=c.substring(c,u)),c&&this.attachGoogleDrive(e,t,n,i,c)}else"vimeo.com"==e.host||"www.vimeo.com"==e.host?this.injectVimeo(e,t,n,i):"youtu.be"==e.host||"youtube.com"==e.host||"www.youtube.com"==e.host?this.injectYoutube(e,t,n,i):this.injectImage(e,t,n,i);else this.attach2DShot(e,t,n,i,e.resource.substring(3))}},{key:"scrollToFocus",value:function(){var e=window.getSelection();e.focusNode&&e.focusNode.scrollIntoView&&e.focusNode.scrollIntoView()}},{key:"validate",value:function(){var e=new XMLHttpRequest;e.open("POST","/api/validate",!0),e.onload=function(){this.responseText?console.log(JSON.parse(this.responseText)):console.log("no reply")},e.send(this.serialize())}},{key:"attachDropBox",value:function(e,t,n,i,o){for(var r=document.createElement("a"),s=this.body.getElementsByTagName("a"),a=0;a<s.length;a++)if(s[a].href==t&&r.parentNode)return void r.parentNode.removeChild(r);r.setAttribute("contenteditable",!1),r.setAttribute("href",t),r.innerHTML='<div class="AttachmentThumb"><svg><use xlink:href="'+u.default.make("/images/symbol-defs.svg#icon-attachment")+'"></use></svg></div>',r.className="Attachment";var c=document.createElement("div");c.className="AttachmentTxt";var l=document.createElement("div");l.className="AttachmentHeadline",l.innerText=o;var h=document.createElement("div");h.className="AttachmentSubTxt",h.innerText="DropBox",c.appendChild(l),c.appendChild(h),r.appendChild(c);var f=document.createRange();f.setStart(n,i),f.collapse(!0),f.insertNode(r)}},{key:"bytesToSize",value:function(e){if(0==e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}},{key:"attachGoogleDrive",value:function(e,t,n,i,o){var r=document.createElement("iframe"),s=this,a=new XMLHttpRequest;a.open("GET","/api/embed/drive/"+encodeURIComponent(o),!0),a.onload=function(){var e;try{e=JSON.parse(this.responseText)}catch(e){return void(r.parentNode&&r.parentNode.removeChild(r))}for(var t=s.body.getElementsByTagName("a"),n=0;n<t.length;n++)if(t[n].href==e.link)return void r.parentNode.removeChild(r);var i=document.createElement("a");i.setAttribute("contenteditable",!1),i.setAttribute("href",e.link),i.className="Attachment";var o=document.createElement("div");o.className="AttachmentThumb",e.thumb?o.style.backgroundImage="url('"+e.thumb+"')":o.innerHTML='<svg><use xlink:href="'+u.default.make("/images/symbol-defs.svg#icon-attachment")+'"></use></svg>';var a=document.createElement("div");a.className="AttachmentTxt";var c=document.createElement("div");c.className="AttachmentHeadline",c.innerText=e.title;var l=document.createElement("div");l.className="AttachmentSubTxt";var h="Google Drive";e.size&&(h+=" - "+s.bytesToSize(e.size)),l.innerText=h,a.appendChild(c),a.appendChild(l),i.appendChild(o),i.appendChild(a),r.parentNode.insertBefore(i,r),r.parentNode.removeChild(r),s.scrollToFocus()},a.onerror=function(){r.parentNode&&r.parentNode.removeChild(r)},a.send();var c=document.createRange();c.setStart(n,i),c.collapse(!0),c.insertNode(r),r.style.display="none"}},{key:"injectVimeo",value:function(e,t,n,i){var o=document.createElement("iframe"),r=this,s=new XMLHttpRequest;s.open("GET","https://vimeo.com/api/oembed.json?width=640&height=360&byline=false&title=false&portrait=false&url="+encodeURIComponent(t),!0),s.onload=function(){var e=void 0;try{e=JSON.parse(this.responseText)}catch(e){return void(o.parentNode&&o.parentNode.removeChild(o))}if(r.props.preferAttachments){for(var n=r.body.getElementsByTagName("a"),i=0;i<n.length;i++)if(n[i].href==t)return void o.parentNode.removeChild(o);var s=document.createElement("a");s.setAttribute("contenteditable",!1),s.setAttribute("href",t),s.className="Attachment";var a=document.createElement("div");a.className="AttachmentThumb",a.style.backgroundImage="url('"+e.thumbnail_url+"')";var c=document.createElement("div");c.className="AttachmentTxt";var u=document.createElement("div");u.className="AttachmentHeadline",u.innerText=e.title;var l=document.createElement("div");l.className="AttachmentSubTxt",l.innerText=e.provider_name,c.appendChild(u),c.appendChild(l),s.appendChild(a),s.appendChild(c),o.parentNode.insertBefore(s,o),o.parentNode.removeChild(o)}else{var h=document.createElement("div");h.innerHTML=e.html;for(var f=r.body.getElementsByTagName("iframe"),d=0;d<f.length;d++)if(f[d].src===h.firstChild.src)return void o.parentNode.removeChild(o);h.firstChild.className="Embedded",o.parentNode.insertBefore(h.firstChild,o),o.parentNode.removeChild(o)}r.scrollToFocus()},s.onerror=function(){o.parentNode&&o.parentNode.removeChild(o)},s.send();var a=document.createRange();a.setStart(n,i),a.collapse(!0),a.insertNode(o),o.style.display="none"}},{key:"attachDemo",value:function(e,t,n,i){var o=document.createElement("div");o.className="demo";var r=document.createElement("iframe");r.src=e.full,r.scrolling="no";var s=document.createRange();s.setStart(n,i),s.collapse(!0),o.appendChild(r),s.insertNode(o)}},{key:"attach2DShot",value:function(e,t,n,i,o){var r=this,s=new XMLHttpRequest;s.open("GET","/oembed?url="+encodeURIComponent(t),!0),s.onload=function(){var e=void 0;try{e=JSON.parse(this.responseText)}catch(e){return void(a.parentNode&&a.parentNode.removeChild(a))}if(r.props.preferAttachments){for(var n=r.body.getElementsByTagName("a"),i=0;i<n.length;i++)if(n[i].href==t)return void a.parentNode.removeChild(a);var o=document.createElement("a");o.setAttribute("contenteditable",!1),o.setAttribute("href",t),o.className="Attachment";var s=document.createElement("div");s.className="AttachmentThumb",s.style.backgroundImage="url('"+e.thumbnail_url+"')";var c=document.createElement("div");c.className="AttachmentTxt";var u=document.createElement("div");u.className="AttachmentHeadline",u.innerText=e.title;var l=document.createElement("div");l.className="AttachmentSubTxt",l.innerText=e.provider_name,c.appendChild(u),c.appendChild(l),o.appendChild(s),o.appendChild(c),a.parentNode.insertBefore(o,a),a.parentNode.removeChild(a)}else{var h=document.createElement("div");h.innerHTML=e.html;for(var f=r.body.getElementsByTagName("iframe"),d=0;d<f.length;d++)if(f[d].src===h.firstChild.src)return void a.parentNode.removeChild(a);h.firstChild.className="Embedded",a.parentNode.insertBefore(h.firstChild,a),a.parentNode.removeChild(a)}r.scrollToFocus()},s.onerror=function(){a.parentNode&&a.parentNode.removeChild(a)},s.send();var a=document.createElement("iframe"),c=document.createRange();c.setStart(n,i),c.collapse(!0),c.insertNode(a),a.style.display="none"}},{key:"injectYoutube",value:function(e,t,n,i){var o=this,r=new XMLHttpRequest;r.open("GET","/api/embed/youtube?url="+encodeURIComponent(t),!0),r.onload=function(){var e;try{e=JSON.parse(this.responseText)}catch(e){return void(s.parentNode&&s.parentNode.removeChild(s))}if(o.props.preferAttachments){for(var n=o.body.getElementsByTagName("a"),i=0;i<n.length;i++)if(n[i].href==t)return void s.parentNode.removeChild(s);var r=document.createElement("a");r.setAttribute("contenteditable",!1),r.setAttribute("href",t),r.className="Attachment";var a=document.createElement("div");a.className="AttachmentThumb",a.style.backgroundImage="url('"+e.thumbnail_url+"')";var c=document.createElement("div");c.className="AttachmentTxt";var u=document.createElement("div");u.className="AttachmentHeadline",u.innerText=e.title;var l=document.createElement("div");l.className="AttachmentSubTxt",l.innerText=e.provider_name,c.appendChild(u),c.appendChild(l),r.appendChild(a),r.appendChild(c),s.parentNode.insertBefore(r,s),s.parentNode.removeChild(s)}else{var h=document.createElement("div");h.innerHTML=e.html;for(var f=o.body.getElementsByTagName("iframe"),d=0;d<f.length;d++)if(f[d].src===h.firstChild.src)return void s.parentNode.removeChild(s);h.firstChild.className="Embedded",s.parentNode.insertBefore(h.firstChild,s),s.parentNode.removeChild(s)}o.scrollToFocus()},r.onerror=function(){s.parentNode&&s.parentNode.removeChild(s)},r.send();var s=document.createElement("iframe"),a=document.createRange();a.setStart(n,i),a.collapse(!0),a.insertNode(s),s.style.display="none"}},{key:"injectImage",value:function(e,t,n,i){for(var o=this.body.getElementsByTagName("img"),r=0;r<o.length;r++)if(o[r].src===t)return;var s=new Image,a=this;s.onload=function(){if(this.width&&this.height){if(a.props.preferAttachments){for(var e=a.body.getElementsByTagName("a"),n=0;n<e.length;n++)if(e[n].href==t)return void this.parentNode.removeChild(this);var i=document.createElement("a");i.setAttribute("contenteditable",!1),i.setAttribute("href",t),i.className="Attachment";var o=document.createElement("div");o.className="AttachmentThumb",o.style.backgroundImage="url('"+this.src+"')";var r=document.createElement("div");r.className="AttachmentTxt";var s=t.lastIndexOf("/")+1,c=t.lastIndexOf("?");r.innerText=t.substring(s,-1===c?t.length:c),i.appendChild(o),i.appendChild(r),this.parentNode.insertBefore(i,this),this.parentNode.removeChild(this)}else this.style.display="";a.scrollToFocus()}else this.parentNode&&this.parentNode.removeChild(this)},s.onerror=function(){this.parentNode&&this.parentNode.removeChild(this)};var c=document.createRange();c.setStart(n,i),c.collapse(!0),c.insertNode(s),s.className="Embedded",s.style.display="none",s.src=t}},{key:"onFocus",value:function(){this.setState({isFocused:!0})}},{key:"onBlur",value:function(){this.mouseDownWasOnControls||this.editLink||(this.getToolbar().hide(),this.setState({isFocused:!1}),this.hideList(),this.props.onBlur&&this.props.onBlur())}},{key:"focus",value:function(){this.body.focus()}},{key:"matchURL",value:function(e){var t=this.urlRegEx.exec(e);return t?{protocol:t[1],auth:t[2],host:t[3],port:t[4],resource:t[5],full:t[0]}:null}},{key:"setRoot",value:function(e){this.root=e}},{key:"render",value:function(){return s.default.createElement("div",{ref:this.setRoot,style:{display:this.props.isHidden?"none":null},className:"ComposePanelMessage"},s.default.createElement("div",{ref:this.setDefaultText,className:"DefaultText"},this.props.defaultText||"Say something..."),s.default.createElement("div",{ref:this.setBody,className:"Panel",contentEditable:this.props.isEditable}))}},{key:"text",get:function(){return this.body.innerText}}]),t}()).prototype,"setBody",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"setBody"),i.prototype),h(i.prototype,"setDefaultText",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"setDefaultText"),i.prototype),h(i.prototype,"onInput",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onInput"),i.prototype),h(i.prototype,"onScroll",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onScroll"),i.prototype),h(i.prototype,"onMouseDown",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onMouseDown"),i.prototype),h(i.prototype,"onMouseUp",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onMouseUp"),i.prototype),h(i.prototype,"doUpdateSelection",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"doUpdateSelection"),i.prototype),h(i.prototype,"selectionToggleLink",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"selectionToggleLink"),i.prototype),h(i.prototype,"selectionToggleBold",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"selectionToggleBold"),i.prototype),h(i.prototype,"selectionToggleStrike",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"selectionToggleStrike"),i.prototype),h(i.prototype,"selectionToggleHeader",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"selectionToggleHeader"),i.prototype),h(i.prototype,"selectionToggleListOrdered",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"selectionToggleListOrdered"),i.prototype),h(i.prototype,"selectionToggleList",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"selectionToggleList"),i.prototype),h(i.prototype,"onPaste",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onPaste"),i.prototype),h(i.prototype,"onKeyPressed",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onKeyPressed"),i.prototype),h(i.prototype,"onKeyDown",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onKeyDown"),i.prototype),h(i.prototype,"onKeyUp",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onKeyUp"),i.prototype),h(i.prototype,"onFocus",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onFocus"),i.prototype),h(i.prototype,"onBlur",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onBlur"),i.prototype),h(i.prototype,"setRoot",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"setRoot"),i.prototype),i);t.default=f},365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(259),s=(i=r)&&i.__esModule?i:{default:i};var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._blockType=e.id,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"buffer",get:function(){for(var e=this.size,t=new Uint8Array(e),n=0;n<e;n++)t[n]=this.bytes[n];return t}}],[{key:"alignment",get:function(){return 1024}}]),t}();t.default=a},366:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(285),r=(i=o)&&i.__esModule?i:{default:i};var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return i._blockType=e.key,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=s},367:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n(208)),r=s(n(314));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"AtlasWorker.js"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"makeAtlas",value:function(e,t,n){o.default.isSupported?this.call("makeAtlas",[e,t],n):r.default.make(e,t,n)}}]),t}();t.default=a},368:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=a(n(1)),r=a(n(3)),s=a(n(317));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={menuItems:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"stopProp",value:function(e){e.stopPropagation()}},{key:"getMenuData",value:function(){if(!this.gettingMenu){this.gettingMenu=!0;var e=new XMLHttpRequest;e.open("GET","/api/menu?fileId="+encodeURIComponent(this.props.file.id),!0);var t=this;e.onload=function(){if(200===this.status){var e;try{e=JSON.parse(this.responseText)}catch(e){return}e.unshift({items:[{label:"Open...",modal:"FileBrowser"}]}),t.setState({menuItems:e})}},e.send()}}},{key:"clickMenuItem",value:function(e,t){if(t.modal)switch(t.modal){case"FileBrowser":this.props.onShowFilesModal&&this.props.onShowFilesModal()}else if(t.post){var n=new XMLHttpRequest;n.open("POST",t.post,!0),n.onload=function(){if(200===this.status){var e;try{e=JSON.parse(this.responseText)}catch(e){return}e&&e.reroute&&(window.location=e.reroute)}},n.send()}else window.location=t.route}},{key:"makeFile",value:function(e){var t=new XMLHttpRequest;t.open("POST","/api/my/files/"+e+"/create/",!0),t.onload=function(){var e=void 0;try{e=JSON.parse(this.responseText)}catch(e){return}200===this.status&&e.file&&(window.location=e.file.route)},t.send()}},{key:"render",value:function(){var e=this,t=[],n=this.state.menuItems;return n&&function(){for(var i=e,a=0,c=0;c<n.length;c++){1!=c&&t.push(o.default.createElement("div",{key:a++,className:"SiteMenuRowDivider"}));var u=n[c];u.title&&t.push(o.default.createElement("div",{key:a++,className:"SiteMenuRowHeader"},u.title));for(var l=0;l<u.items.length;l++){var h=u.items[l],f=function(e){return function(t){i.clickMenuItem(t,e)}}(h);switch(h.type){case"nimaFile":t.push(o.default.createElement("a",{href:h.route,key:a++,className:"SiteMenuRow"},o.default.createElement("img",{className:s.default.NimaFileIcon,src:r.default.make("/images/nima_small.svg")}),h.label));break;case"flareFile":t.push(o.default.createElement("a",{href:h.route,key:a++,className:"SiteMenuRow"},o.default.createElement("img",{className:s.default.FlareFileIcon,src:r.default.make("/images/flare_small.svg")}),h.label));break;case"newFile":t.push(o.default.createElement("div",{key:a++,className:"SiteMenuRow",onClick:i.makeFile.bind(i,h.product)},"New "+h.product));break;default:h.route?t.push(o.default.createElement("a",{href:h.route,key:a++,className:"SiteMenuRow"},h.label)):t.push(o.default.createElement("div",{key:a++,className:"SiteMenuRow",onClick:f},h.label))}}}}(),o.default.createElement("div",{className:"SiteMenuWrapper",style:{background:this.props.siteMenuOpen?null:"rgba(0,0,0,0)",pointerEvents:this.props.siteMenuOpen?null:"none"},onMouseDown:this.props.onClose},o.default.createElement("div",{className:"SiteMenu",style:{left:this.props.siteMenuOpen?null:"-300px"},onMouseDown:this.stopProp},o.default.createElement("svg",{className:"logo",onClick:this.props.onLogoClick},o.default.createElement("use",{xlinkHref:r.default.make("/images/symbol-defs.svg#icon-logo")})),o.default.createElement("svg",{className:"CloseButton",onMouseDown:this.props.onClose},o.default.createElement("use",{xlinkHref:r.default.make("/images/symbol-defs.svg#icon-close3")})),o.default.createElement("div",{className:"SiteMenuScroll"},o.default.createElement("a",{href:"/a/"+this.props.username,className:"SiteMenuRow SiteMenuRowProfile"},o.default.createElement("div",{className:this.props.avatar?"CommentAvatar":"CommentAvatarEmpty",style:{background:this.props.avatar?"url('"+this.props.avatar+"')":null,backgroundSize:this.props.avatar?"cover":null}},this.props.avatar?null:o.default.createElement("svg",null,o.default.createElement("use",{xlinkHref:r.default.make("/images/symbol-defs.svg#icon-avatar")}))),this.props.name||this.props.username),t)))}}]),t}();t.default=c},370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=a(n(1)),r=a(n(319)),s=a(n(171));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={alerts:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"add",value:function(e){-1===this.state.alerts.indexOf(e)&&(e.displayedTime=Date.now(),this.state.alerts.push(e),this.setState({alerts:this.state.alerts}))}},{key:"remove",value:function(e){var t=this.state.alerts.indexOf(e);-1!==t&&(this.state.alerts.splice(t,1),this.setState({alerts:this.state.alerts}))}},{key:"render",value:function(){for(var e=[],t=0,n=0;n<this.state.alerts.length;n++){var i=this.state.alerts[n];e.push(o.default.createElement(r.default,{key:i.id,container:this,top:t,data:i,showGuides:this.props.showGuides,showModal:this.props.showModal})),i.type===s.default.Types.State?t+=128:t+=50}return o.default.createElement("div",null,e)}}]),t}();t.default=c},372:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=d(n(1)),s=d(n(2)),a=d(n(5)),c=d(n(322)),u=d(n(172)),l=d(n(171)),h=d(n(3)),f=d(n(162));function d(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var w=(v((i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={revisions:[],selectedRevisionKey:null,isPreviewing:!1,isRestoring:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentWillMount",value:function(){this.forceAnimateBtn=0}},{key:"componentDidMount",value:function(){this.context.nima.revisionManager.addEventListener("revisionCreated",this.revisionsUpdated),this.context.nima.revisionManager.addEventListener("revisionUpdated",this.revisionsUpdated)}},{key:"componentWillUnmount",value:function(){this.context.nima.revisionManager.removeEventListener("revisionCreated",this.revisionsUpdated),this.context.nima.revisionManager.removeEventListener("revisionUpdated",this.revisionsUpdated)}},{key:"revisionsUpdated",value:function(){if(this.props.isVisible){clearTimeout(this.ut);var e=this;this.ut=setTimeout(function(){e.getRevisionList()},100)}}},{key:"getRevisionList",value:function(){if(this.context.nima.hasWriteAccess){null===this.state.selectedRevisionKey&&this.setState({selectedRevisionKey:this.context.nima.revisionManager.revisionKey,isRestoring:!1});var e=this,t=new XMLHttpRequest;t.open("GET","/api/files/"+this.context.nima.file.owner.id+"/"+this.context.nima.file.id+"/revisions",!0),t.onload=function(){var t=void 0;try{t=JSON.parse(this.responseText)}catch(e){console.log("Revision failed to load",e)}t&&t.revisions&&e.setState({revisions:t.revisions})},t.onerror=function(){},t.send()}}},{key:"renameRevision",value:function(e,t){if(e.name!=t){e.name=t,this.forceUpdate();var n=new XMLHttpRequest;n.open("POST","/api/revisions/"+e.key+"/name",!0);var i=this;n.onload=function(){var e=void 0;try{e=JSON.parse(this.responseText)}catch(e){console.log("Failed to rename revision",e)}e&&e.revision_id&&i.getRevisionList()},n.onerror=function(){},n.send(JSON.stringify({name:e.name}))}}},{key:"selectRevision",value:function(e){this.state.selectedRevisionKey!=e.key&&(this.setState({selectedRevisionKey:e.key,isPreviewing:!0,animateAgain:this.forceAnimateBtn++}),this.context.nima.revisionManager.loadRevisionPreview(e.key,function(){}))}},{key:"restoreRevision",value:function(){if(!(!this.context.nima.file.isPublic&&!f.default.isPaid)){var e=this.context.nima.alert({title:"Restoring.",message:"Your selected revision is being restored.",type:l.default.Types.State}),t=this;this.setState({isPreviewing:!1,isRestoring:!0,selectedRevisionKey:null}),this.context.nima.revisionManager.restoreRevision(function(){t.setState({isRestoring:!1}),e.hide(),t.getRevisionList()})}}},{key:"cancelPreview",value:function(){this.context.nima.revisionManager.cancelRevisionPreview()?this.setState({isPreviewing:!1,isRestoring:!1,selectedRevisionKey:null}):this.context.nima.alert("Error","An error occurred while restoring back to the latest revision.")}},{key:"render",value:function(){for(var e=!this.context.nima.file.isPublic&&!f.default.isPaid,n=[],i=0;i<this.state.revisions.length;i++){var o=this.state.revisions[i],s=new Date(1e3*o.updated),a=s.getHours()<12,l=s.getMinutes();l<10&&(l="0"+l);var d=o.name?o.name:t.MonthNames[s.getMonth()]+" "+s.getDate()+", "+(s.getFullYear()!=(new Date).getFullYear()?s.getFullYear()+" ":"")+(s.getHours()%12||(a?"00":"12"))+":"+l+" "+(a?"AM":"PM");n.push(r.default.createElement(c.default,{key:o.key,label:d,active:o.key==this.context.nima.revisionManager.revisionKey,selected:o.key==this.state.selectedRevisionKey,onSelect:this.selectRevision,renameRevision:this.renameRevision,revision:o}))}var v="Select a revision from the list below.";return this.state.isPreviewing?v="You are previewing a revision of your file.":this.state.isRestoring&&(v="Restoring revision..."),r.default.createElement("div",{className:"RevisionHistoryContent",style:{display:this.props.isVisible?"block":"none"}},r.default.createElement("div",{className:"RevisionHistoryAlert"},r.default.createElement("svg",{className:"HistoryIcon"},r.default.createElement("use",{xlinkHref:h.default.make("/images/symbol-defs.svg#icon-clock")})),r.default.createElement("p",null,v),r.default.createElement("div",{className:"RevisionHistoryBtns"},r.default.createElement("div",{style:{animation:this.state.isPreviewing&&!e?this.state.animateAgain%2==0?"bounceBtn2 .6s cubic-bezier(0.8, 0, 0, 1)":"bounceBtn .6s cubic-bezier(0.8, 0, 0, 1)":null}},r.default.createElement(u.default,{label:"RESTORE THIS REVISION",accentBtn:!0,disabled:!this.state.isPreviewing||e,onPress:this.restoreRevision})),r.default.createElement(u.default,{label:"CANCEL",disabled:!this.state.isPreviewing,onPress:this.cancelPreview}))),r.default.createElement("div",{className:"RevisionHistoryList"},r.default.createElement("div",{className:"SettingsListRow"},"Revision History"),n))}}]),t}()).prototype,"revisionsUpdated",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"revisionsUpdated"),i.prototype),v(i.prototype,"getRevisionList",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"getRevisionList"),i.prototype),v(i.prototype,"renameRevision",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"renameRevision"),i.prototype),v(i.prototype,"selectRevision",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"selectRevision"),i.prototype),v(i.prototype,"restoreRevision",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"restoreRevision"),i.prototype),v(i.prototype,"cancelPreview",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"cancelPreview"),i.prototype),i);t.default=w,w.MonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w.contextTypes={nima:a.default.object}},373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=b(n(2)),s=b(n(18)),a=b(n(270)),c=b(n(323)),u=b(n(17)),l=b(n(245)),h=b(n(263)),f=b(n(325)),d=b(n(326)),v=b(n(23)),w=b(n(415));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var _=(0,a.default)({}),k=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,M=(g((i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return d.default.onSave=function(e){var t=new XMLHttpRequest;t.open("POST","/api/files/"+n._OwnerId+"/"+n._FileId+"/"+n._LastRevisionKey+"/log",!0),t.send(JSON.stringify(e))},n._App=e,n._OwnerId=null,n._FileId=null,n._LastRevisionKey=null,n._LastRevisionTime=null,n._Actor=null,n._DB=null,n._FileAccess=l.default.Unknown,n._LastRevisionString=null,n._ShouldMakeNewRevision=!1,n._IsComittingRevision=!1,n._PreviewRevisionKey=null,n._CancelBackToRevisionString=null,n._Waiter=new c.default,n._UpdateTable=n._Waiter.prepareTable(n.updateRevisions,200),n._CommitTable=n._Waiter.prepareTable(n.commitRevision,t.CommitTime),n._CurrentState=h.default.Idle,n._CommitQueue=[],n._UploadQueue=new Set,n._LastPreviewTime=null,window&&window.addEventListener("rename_file",n.windowFileRename),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"windowFileRename",value:function(){if(this._CurrentState===h.default.ReadOnly)return!1;if(!this._FileId)throw new Error("File id is null when trying to rename.");var e=this,t=new XMLHttpRequest;t.open("GET","/api/files/"+this._OwnerId+"/"+this._FileId+"/name",!0),t.onload=function(){var t=null;if(200!=this.status)console.warn("Failed to get name.");else{try{t=JSON.parse(this.responseText)}catch(e){console.warn("Error while renaming:",e)}t&&e.dispatch("fileRenamed",t)}},t.send()}},{key:"getRevisionString",value:function(e,t){if(!this._Actor)return null;var n=this._Actor.serialize(e,t);this._App&&(n.settings=this._App.serializeSettings());var i=null;try{i=JSON.stringify(n)}catch(e){console.log("Err when serializing",e),d.default.log("serial","error when serializing "+e);var o=!1;!function e(t,n){if(!o){if(n>1e3)return console.log("Too far",n,t),d.default.log("serial","Too far "+t),"too deep";if(t.constructor===Array)for(var i=0;i<t.length;i++)console.log("arr",i),d.default.log("serial","arr "+i),e(t[i],n+1);else if(t.constructor===Object)for(var r in t){var s=t[r];console.log("key",r,s),d.default.log("serial","key "+r),s&&e(s,n+1)}else{if(t.constructor===String)return;if(t.constructor===Number)return;if(t.constructor===Boolean)return;o=!0,d.default.log("serial","What's this?? "+t.constructor+" "+t),console.log("What's this??",t.constructor,t)}}}(n,0)}return i}},{key:"getLocal",value:function(){return w.default.getItem("file-"+this._OwnerId+"-"+this._FileId)}},{key:"saveLocal",value:function(e){return w.default.setItem("file-"+this._OwnerId+"-"+this._FileId,e)}},{key:"deleteLocal",value:function(){return w.default.removeItem("file-"+this._OwnerId+"-"+this._FileId)}},{key:"registerAsset",value:function(e){var t=e.file;e.file=null;var n=this;if(this._DB){var i=this._DB.transaction("assets","readwrite").objectStore("assets").add(t);i.onsuccess=function(i){var o=i.target.result;e.id="local-"+o;n._UploadQueue.add(o);n.uploadAsset(e,t)},i.onerror=function(i){console.log("IndexedDB - error: "+i.target.errorCode),n.uploadAsset(e,t)}}}},{key:"uploadAsset",value:function(e,t,n){n&&console.log("Retrying upload of asset",e,n),n=1e3*(Math.min(1800,n?2*n:10)+10*Math.random());var i=this,o=new XMLHttpRequest;o.open("POST","/api/files/"+this._OwnerId+"/"+this._FileId+"/asset",!0),o.onload=function(){var o;try{o=JSON.parse(this.responseText)}catch(o){console.log("Revision failed to load, will retry.",o),setTimeout(function(){i.uploadAsset(e,t,n)},n)}if(200!=this.status)console.log("ERROR WHILE UPLOADING FILE, will retry",o&&o.error),setTimeout(function(){i.uploadAsset(e,t,n)},n);else if(o&&o.key){if(e.id&&0==e.id.indexOf("local-")){var r=parseInt(e.id.substring("local-".length)),s=(i._UploadQueue.delete(r),i._DB.transaction("assets","readwrite").objectStore("assets").delete(r));s.onsuccess=function(e){},s.onerror=function(e){console.log("IndexedDB - FAILED TO REMOVE FROM LOCAL DB - error: "+e.target.errorCode)}}e.id=o.key,i._UpdateTable.eat({customTimeout:1,flags:{isFastCommit:!0}})}},o.onerror=function(){console.warn("FAILED TO UPLOAD FILE, will try again...",t),setTimeout(function(){i.uploadAsset(e,t,n)},n)},o.send(t)}},{key:"restoreRevision",value:function(e){if(v.default.event("file","restore-revision",this.product),this._CurrentState==h.default.Preview){if(this._PreviewRevisionKey==this._LastRevisionKey)return e(),void(this.state=h.default.Idle);this.state=h.default.Idle,this._UpdateTable.eat({customTimeout:1,flags:{isNewRevision:!0,isFastCommit:!1}}),this._Waiter.takeAway(e),this._App&&this._App.resetJournal()}else console.log("Cannot restore a preview from state:",this.state)}},{key:"blockSaving",value:function(e){e?(console.log("Blocking saving"),this.state=h.default.Save):(console.log("Can save again"),this.state=h.default.Idle,this.onActorRevised())}},{key:"isState",value:function(){for(var e=arguments.length,t=this._CurrentState,n=0;n<e;n++)if(t===arguments[n])return t;return!1}},{key:"updateRevisions",value:function(e){var n=this;if(!this.isState(h.default.Preview,h.default.ReadOnly)){var i=this._Actor.unprocessedAssets;if(i)for(var o=0;o<i.length;o++){var r=i[o];r.file&&this.registerAsset(r)}var s=this.getRevisionString(!0),a=!!e&&e.isNewRevision;if(null!==s&&(this._LastRevisionString!=s||a)){var c=this.getRevisionString();c&&this.saveLocal(c).then(function(){var i=n._LastRevisionString?Math.abs(n._LastRevisionString.length-s.length)/Math.max(n._LastRevisionString.length,s.length):1,o=Date.now();n._ShouldMakeNewRevision=a||(i>.19&&s.length>1e3||!n._LastRevisionKey)&&o-n._LastRevisionTime>t.MinRevisionTime;for(var r={revisionString:c,commitName:null,type:f.default.Auto,isFastCommit:!!e&&e.isFastCommit,commitTime:o},u=[],l=n._CommitQueue.length-1;l>=0;l--){var d=n._CommitQueue[l];d.type!==f.default.Auto&&u.push(d)}u.push(r),n._CommitQueue=u,n._CurrentState===h.default.Idle&&(n.state=h.default.Save,n._CommitTable.eat()),n._LastRevisionString=s})}}}},{key:"setupRenderCapture",value:function(e){return{cb:e,renderWidth:768,renderHeight:1024,renderView:this._App.stage.getZoomFitViewTransform(768,1024)}}},{key:"completeRenderCapture",value:function(e,t,n,i){var o=document.createElement("canvas");o.width=t,o.height=n;var r=o.getContext("2d"),s=this.isCaptureUpsideDown,a=s?new Uint8ClampedArray(e.length):new Uint8ClampedArray(e);if(s)for(var c=0;c<n;c++)for(var u=0;u<t;u++)for(var l=4*(c*t+u),h=4*((n-c-1)*t+u),f=0;f<4;f++)a[h+f]=e[l+f];var d=new ImageData(a,t,n);r.putImageData(d,0,0);var v=document.createElement("canvas");v.width=600,v.height=800,_.resize(o,v,{quality:3,alpha:!0,unsharpAmount:33,unsharpRadius:.75,unsharpThreshold:0,transferable:!0}).then(function(e){e.toBlob(function(e){i.cb(e)},"image/png")})}},{key:"capturePreviewImage",value:function(e){var t=this;this._App?this._App.stage.addRenderCapture({setup:function(){return t.setupRenderCapture(e)},cleanup:function(e){},complete:function(e,n,i,o){return t.completeRenderCapture(e,n,i,o)}}):e(null)}},{key:"commitRevision",value:function(){var e=this;return new Promise(function(n,i){if(e._CurrentState===h.default.ReadOnly)return u.default.debug("Attempting to commit when in read-only."),void i();var o=e._CommitQueue.shift();if(!o)return console.log("There are no commits in the queue..?"),void i();if(!o.revisionString||0===o.revisionString.length)return console.warn("Avoiding saving an empty revision."),void i();var r=o;e._ShouldMakeNewRevision||(e._ShouldMakeNewRevision=Date.now()-e._LastRevisionTime>t.MakeNewRevisionTime||r.type!==f.default.Auto);var s=function(s){var a=new XMLHttpRequest;e._ShouldMakeNewRevision?(v.default.event("file","new-revision",e.product),console.log("Making a new revision."),a.open("POST","/api/files/"+e._OwnerId+"/"+e._FileId+"/revise/"+r.type.toString()+(r.commitName?"/"+r.commitName:""),!0)):(v.default.event("file","update-revision",e.product),console.log("Updating current revision."),a.open("POST","/api/revisions/"+e._LastRevisionKey,!0)),a.onload=function(){var t;try{t=JSON.parse(this.responseText)}catch(e){return console.log("[Rev] Failed to perform request on Revision",e),void i()}var o=e._LastRevisionKey!=t.key;if(t){if(e._LastRevisionKey=t.key,r.revisionKeyCallback&&r.revisionKeyCallback(t.key),s){var a=new XMLHttpRequest;a.open("POST","/api/revisions/"+e._LastRevisionKey+"/preview",!0),a.send(s),e._LastPreviewTime=Date.now()}}else r.revisionKeyCallback&&r.revisionKeyCallback(null);o&&(e._LastRevisionTime=Date.now()),e._CommitQueue.length<=0?(console.log("COMMITS ARE DONE."),e.deleteLocal().then(function(){e.state=h.default.Idle,e.dispatch("revisionCreated"),n()})):(console.log("More commit data, will proceed"),e._CommitTable.eat({customTimeout:1}),e.dispatch("revisionCreated"),n())},a.onerror=function(){e._CommitTable.eat({customTimeout:t.CommitRetryTime})},a.send(o.revisionString)},a=Date.now()-e._LastPreviewTime<t.MakeNewPreviewTime;o.isFastCommit||a?(console.log("COMMIT RIGHT AWAY."),s()):(console.log("SNAPSHOT + COMMIT."),e.capturePreviewImage(s))})}},{key:"onActorRevised",value:function(){this._UpdateTable.eat({customTimeout:this._LastRevisionString?200:0,flag:!0})}},{key:"cleanup",value:function(){this._Actor&&this._Actor.removeEventListener("revise",this.onActorRevised)}},{key:"shareAssets",value:function(e,t,n,i){if(n&&0!=n.length){var o=new XMLHttpRequest;o.open("POST","/api/files/"+this._OwnerId+"/"+this._FileId+"/shareAssets/"+e+"/"+t,!0),o.onload=function(){i()},o.onerror=function(){i()},o.send(JSON.stringify(n))}else i({})}},{key:"prepAssetForLoad",value:function(e){var t,n;if(e)if(e.id)if(e.id.constructor===String&&0==e.id.indexOf("local-")){var i=this;e.getAsync=(n=parseInt(e.id.substring("local-".length)),function(e,t){var o=i._DB.transaction("assets","readwrite").objectStore("assets").get(n);o.onsuccess=function(n){var o=n.target.result;t(o),i.uploadAsset(e,o)},o.onerror=function(){console.log("Failed to read asset file from IndexedDB"),t(null)}})}else{var o=new XMLHttpRequest;o.open("GET","/api/files/"+this._OwnerId+"/"+this._FileId+"/asset/"+e.id+"?cache=true",!0),o.setRequestHeader("X-Nima-Revision-Key",this._LastRevisionKey),o.responseType="blob",o.onload=function(){this.__cb&&this.__cb(this.response)},o.onerror=function(){this.__cb&&this.__cb(this.response)},e.getAsync=(t=o,function(e,n){t.__cb=n,t.send()})}else u.default.debug("Got an asset with a null id?",e);else u.default.debug("Got a null asset in prepAssetForLoad?")}},{key:"setAsyncRecursive",value:function(e){if(e&&e.length)for(var t=0;t<e.length;t++){var n=e[t];n.id?(n.children&&this.setAsyncRecursive(n.children),this.prepAssetForLoad(n)):(console.log("Bad asset found with no id, pruning it."),e.splice(t,1),t--)}}},{key:"makeNewActorData",value:function(){return{root:{type:"node",name:"Hierarchy",translation:[0,0],rotation:0,scale:[1,1],children:[]},assets:[]}}},{key:"makeActor",value:function(){return null}},{key:"setRevisionData",value:function(e){this._Actor&&(this._Actor.removeEventListener("revise",this.onActorRevised),this._Actor.cleanup());var t=e.assets;t instanceof Object&&t.children&&(t=t.children),this.setAsyncRecursive(t);var n=this.makeActor();this._Actor=n;var i=this;n.load(e).then(function(){i.dispatch("characterFullyLoaded",{actor:n,settings:e.settings})}),n.addEventListener("revise",this.onActorRevised),this.dispatch("fileLoaded",{actor:n,settings:e.settings})}},{key:"loadStage2",value:function(){var e=this;this.getLocal().then(function(t){var n=null,i=e._CurrentState===h.default.ReadOnly;if(t&&!i)try{n=JSON.parse(t)}catch(e){console.warn("CORRUPT LOCAL DATA")}if(n)e.setRevisionData(n),e._LastRevisionString=null,console.info("Forcing revision"),e.updateRevisions(!0);else if(null==e._LastRevisionKey){var o=e.makeNewActorData();e.setRevisionData(o),i||(e.state=h.default.Idle)}else{var r=new XMLHttpRequest;r.open("GET","/api/revisions/"+e._LastRevisionKey,!0),r.setRequestHeader("X-Nima-Revision-Key",e._LastRevisionKey);var s=e;r.onload=function(){var e;try{e=JSON.parse(this.responseText)}catch(e){console.log("Revision failed to load",e)}e&&(s.setRevisionData(e),s._LastRevisionString=s.getRevisionString(!0))},r.onerror=function(){},r.send()}})}},{key:"cancelRevisionPreview",value:function(){if(this._CurrentState!==h.default.Preview)return!0;var e;try{e=JSON.parse(this._CancelBackToRevisionString)}catch(e){return console.log("Revision failed to load",e),!1}return e&&this.setRevisionData(e),this._CancelBackToRevisionString=null,this._PreviewRevisionKey=null,this.state=h.default.Idle,!0}},{key:"loadRevisionPreview",value:function(e,t){if(this._CurrentState!==h.default.ReadOnly){if(this._CurrentState===h.default.Idle)this._CancelBackToRevisionString=this.getRevisionString();else if(this._CurrentState!=h.default.Preview)return void console.log("Trying to restore a revision Preview while current state:",this._CurrentState);var n=this;this._Waiter.takeAway(function(){n._PreviewRevisionKey=e,n.state=h.default.Preview;var i=new XMLHttpRequest;i.open("GET","/api/revisions/"+e,!0),i.onload=function(){var e;try{e=JSON.parse(this.responseText)}catch(e){console.log("Revision failed to load",e)}e&&n.setRevisionData(e),t()},i.onerror=function(){t()},i.send()})}else console.log("Trying to preview a revision while in read-only mode.")}},{key:"fork",value:function(e,t,n){var i=new XMLHttpRequest;i.open("POST","/api/files/"+this._LastRevisionKey+"/copy",!0),i.onload=function(){var e=null;if(200===this.status)try{e=JSON.parse(this.responseText)}catch(t){console.log("Fork parse failed",t),e=null}n&&n(null!=e,e)},i.onerror=function(){n&&n(!1)},i.send(JSON.stringify({folderId:e,filename:t}))}},{key:"load",value:function(e,t,n,i,o){var r=this;if(this._FileAccess=o,this.state=this._FileAccess===l.default.ReadWrite?h.default.Idle:h.default.ReadOnly,this._OwnerId=e,this._FileId=t,this._LastRevisionKey=n,this._LastRevisionTime=1e3*i,v.default.event("file","open",this.product),k){var s=k.open("file-"+e+"-"+t,1);s.onsuccess=function(e){r._DB=e.target.result,r.loadStage2()},s.onerror=function(e){console.warn("IndexedDB - error: "+e.target.errorCode),r.loadStage2()},s.onupgradeneeded=function(e){e.target.result.createObjectStore("assets",{autoIncrement:!0})}}else this.loadStage2()}},{key:"userSave",value:function(e,t,n,i){if(this.isState(h.default.Preview,h.default.ReadOnly))return!1;this.state=h.default.Save;var o={revisionString:this.getRevisionString(!1,i),commitName:e,type:f.default.User,commitTime:Date.now(),revisionKeyCallback:n};return this._CommitQueue.push(o),this._CommitTable.eat({customTimeout:1}),this._Waiter.takeAway(t),!0}},{key:"systemSave",value:function(e,t,n,i){if(this.isState(h.default.Preview,h.default.ReadOnly))return!1;this.state=h.default.Save;var o={revisionString:this.getRevisionString(!1,i),commitName:e,type:f.default.System,commitTime:Date.now(),isFastCommit:!0,revisionKeyCallback:n};return this._CommitQueue.push(o),this._CommitTable.eat({customTimeout:1}),this._Waiter.takeAway(t),!0}},{key:"rename",value:function(e){if(this._CurrentState===h.default.ReadOnly)return!1;if(!this._FileId)throw new Error("File id is null when trying to rename.");var t=this,n=new XMLHttpRequest;n.open("POST","/api/files/"+this._OwnerId+"/"+this._FileId+"/name",!0),n.onload=function(){var e=null;if(200!=this.status)console.warn("Failed to rename.");else{try{e=JSON.parse(this.responseText)}catch(e){console.warn("Error while renaming:",e)}e&&t.dispatch("fileRenamed",e)}},n.send(JSON.stringify({name:e}))}},{key:"fileAccess",get:function(){return this._FileAccess}},{key:"revisionKey",get:function(){return this._LastRevisionKey}},{key:"state",get:function(){return this._CurrentState},set:function(e){e instanceof h.default&&this._CurrentState!==e&&(this._CurrentState=e,this.dispatch("stateChanged",{state:e}))}},{key:"isCaptureUpsideDown",get:function(){return!1}}]),t}()).prototype,"windowFileRename",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"windowFileRename"),i.prototype),g(i.prototype,"deleteLocal",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"deleteLocal"),i.prototype),g(i.prototype,"updateRevisions",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"updateRevisions"),i.prototype),g(i.prototype,"commitRevision",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"commitRevision"),i.prototype),g(i.prototype,"onActorRevised",[r.default],Object.getOwnPropertyDescriptor(i.prototype,"onActorRevised"),i.prototype),i);t.default=M,M.UpdateTime=200,M.CommitTime=2e3,M.AssetUpdateDelayTime=3750,M.CommitRetryTime=2500,M.MakeNewRevisionTime=12e5,M.MakeNewPreviewTime=12e4,M.MinRevisionTime=6e4,"undefined"==typeof HTMLCanvasElement||HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var i=atob(this.toDataURL(t,n).split(",")[1]),o=i.length,r=new Uint8Array(o),s=0;s<o;s++)r[s]=i.charCodeAt(s);e(new Blob([r],{type:t||"image/png"}))}})},4:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return c});var i=n(0);const o=new Float32Array(6);class r{static get Straight(){return 0}static get Mirror(){return 1}static get Disconnected(){return 2}static get Asymmetric(){return 3}}class s{constructor(){this._PointType=r.Straight,this._Translation=i.c.create(),this._Weights=null}get pointType(){return this._PointType}get translation(){return this._Translation}makeInstance(){return null}copy(e){this._PointType=e._PointType,this._Weights=e._Weights,i.c.copy(this._Translation,e._Translation)}}class a extends s{constructor(){super(),this._Radius=0}get radius(){return this._Radius}makeInstance(){const e=new a;return a.prototype.copy.call(e,this),e}copy(e){super.copy(e),this._Radius=e._Radius}skin(e,t){let{_Weights:n,translation:i,pointType:r,radius:s}=this,a=e[0]*i[0]+e[2]*i[1]+e[4],c=e[1]*i[0]+e[3]*i[1]+e[5];const u={pointType:r,o:this,radius:s},l=o;l.fill(0);for(let e=0;e<4;e++){const i=n[e],o=n[e+4];if(o>0){let e=6*i;for(let n=0;n<6;n++)l[n]+=t[e+n]*o}}return u.translation=new Float32Array([l[0]*a+l[2]*c+l[4],l[1]*a+l[3]*c+l[5]]),u}}class c extends s{constructor(){super(),this._In=i.c.create(),this._Out=i.c.create()}get in(){return this._In}get out(){return this._Out}makeInstance(){const e=new c;return c.prototype.copy.call(e,this),e}copy(e){super.copy(e),i.c.copy(this._In,e._In),i.c.copy(this._Out,e._Out)}skin(e,t){let{_Weights:n,translation:i,pointType:r,out:s,in:a}=this,c=e[0]*i[0]+e[2]*i[1]+e[4],u=e[1]*i[0]+e[3]*i[1]+e[5];const l={pointType:r,o:this},h=o;h.fill(0);for(let e=0;e<4;e++){const i=n[e],o=n[e+4];if(o>0){let e=6*i;for(let n=0;n<6;n++)h[n]+=t[e+n]*o}}l.translation=new Float32Array([h[0]*c+h[2]*u+h[4],h[1]*c+h[3]*u+h[5]]),c=e[0]*a[0]+e[2]*a[1]+e[4],u=e[1]*a[0]+e[3]*a[1]+e[5],h.fill(0);for(let e=8;e<12;e++){const i=n[e],o=n[e+4];if(o>0){let e=6*i;for(let n=0;n<6;n++)h[n]+=t[e+n]*o}}l.in=new Float32Array([h[0]*c+h[2]*u+h[4],h[1]*c+h[3]*u+h[5]]),c=e[0]*s[0]+e[2]*s[1]+e[4],u=e[1]*s[0]+e[3]*s[1]+e[5],h.fill(0);for(let e=16;e<20;e++){const i=n[e],o=n[e+4];if(o>0){let e=6*i;for(let n=0;n<6;n++)h[n]+=t[e+n]*o}}return l.out=new Float32Array([h[0]*c+h[2]*u+h[4],h[1]*c+h[3]*u+h[5]]),l}}},416:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(1)),s=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var u=(c((i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"click",value:function(){this.props.disabled||this.props.onToggle&&this.props.onToggle(!this.props.isOn)}},{key:"setKey",value:function(e){e.stopPropagation(),this.props.onSetKey&&this.props.onSetKey(this.props.isOn)}},{key:"render",value:function(){var e,t=this.props,n=t.disabled,i=t.isAnimating;if(i)switch(this.props.keyState){case 0:e="SelectionPanelKey";break;case 1:e="SelectionPanelKeyChanged";break;case 2:e="SelectionPanelKeyed"}return r.default.createElement("div",{className:this.props.addClass?"SelectionPanelToggleField "+this.props.addClass:"SelectionPanelToggleField",onMouseDown:this.click,style:{opacity:n?.5:null}},r.default.createElement("div",{className:"SelectionPanelToggle",style:{right:i?"15px":null}},r.default.createElement("div",{className:"SelectionPanelToggleHandle"+(this.props.isOn?" SelectionPanelToggleHandleSelected":"")})),i?r.default.createElement("div",{className:e,onMouseDown:this.setKey},r.default.createElement("div",null)):null)}}]),t}()).prototype,"click",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"click"),i.prototype),c(i.prototype,"setKey",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"setKey"),i.prototype),i);t.default=u},417:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(1)),s=l(n(28)),a=l(n(5)),c=l(n(2)),u=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var f=(h((i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n._Dropdowns=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"setDropdown",value:function(e){this.dropdown=e}},{key:"open",value:function(){if(!this.props.disabled){this.setState({isOpen:!0});for(var e=[],t=0;t<this.props.options.length;t++){var n=this.props.options[t],i=n.hoverTitle,o=n.hoverDesc,r=n.hoverIcon;n&&n.constructor!==String&&(n=n.label),e.push({label:n,active:t===this.props.selectedIndex,hoverTitle:i||!1,hoverDesc:o||!1,hoverIcon:r||!1})}var a=void 0;this.props.dropdownClass&&(a=this.props.dropdownClass);var c=s.default.findDOMNode(this.dropdown).getBoundingClientRect(),u=this.context.nima.showDropDownMenu({onClosed:this.closed,onSelectionChanged:this.props.onSelectionChanged,options:e,rect:c,dropdownClass:a});this._Dropdowns.push(u)}}},{key:"componentWillUnmount",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,o=this._Dropdowns[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var r=i.value;this.context.nima.removeDropdownMenu(r)}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}},{key:"closed",value:function(){this.setState({isOpen:!1})}},{key:"setKey",value:function(e){if(e.stopPropagation(),this.props.onSetKey){var t=this.props.options[this.props.selectedIndex];this.props.onSetKey(t)}}},{key:"render",value:function(){var e,t=this.props.options[this.props.selectedIndex];t&&t.constructor!==String&&(t=t.label);var n=this.props,i=n.disabled,o=n.isAnimating;if(o)switch(this.props.keyState){case 0:e="SelectionPanelKey";break;case 1:e="SelectionPanelKeyChanged";break;case 2:e="SelectionPanelKeyed"}return r.default.createElement("div",{className:this.props.addClass?"Dropdown "+this.props.addClass:"Dropdown",ref:this.setDropdown,style:{opacity:i?.2:null}},r.default.createElement("div",{className:"DropdownCurrent",onClick:this.open},r.default.createElement("span",{style:{top:this.state.isOpen?"15px":"0px",opacity:this.state.isOpen?"0":"1"}},t),i?null:r.default.createElement("svg",{className:"DropdownArrow",style:{right:o?"20px":null}},r.default.createElement("use",{xlinkHref:u.default.make("/images/symbol-defs.svg#icon-arrow")})),o?r.default.createElement("div",{className:e,onMouseDown:this.setKey},r.default.createElement("div",null)):null),this.props.label?r.default.createElement("div",{className:"SelectionPanelInputLabel"},this.props.label):null)}}]),t}()).prototype,"setDropdown",[c.default],Object.getOwnPropertyDescriptor(i.prototype,"setDropdown"),i.prototype),h(i.prototype,"open",[c.default],Object.getOwnPropertyDescriptor(i.prototype,"open"),i.prototype),h(i.prototype,"closed",[c.default],Object.getOwnPropertyDescriptor(i.prototype,"closed"),i.prototype),h(i.prototype,"setKey",[c.default],Object.getOwnPropertyDescriptor(i.prototype,"setKey"),i.prototype),i);t.default=f,f.contextTypes={nima:a.default.object}},418:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n(1)),s=c(n(2)),a=c(n(3));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var l=(u((i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"toggleCheck",value:function(){this.props.onValueChange&&this.props.onValueChange(!this.props.value,this.props.data)}},{key:"select",value:function(){this.props.onSelected&&this.props.onSelected(this.props.data)}},{key:"render",value:function(){return r.default.createElement("div",{className:this.props.isSelected?"CheckboxWrapper CheckboxWrapperSelected":"CheckboxWrapper",onClick:this.select},r.default.createElement("div",{className:"Checkbox",onClick:this.props.isSelectable?this.toggleCheck:null},r.default.createElement("svg",{className:"CheckboxCheck",style:{opacity:this.props.value?1:0}},r.default.createElement("use",{xlinkHref:a.default.make("/images/symbol-defs.svg#icon-check-small")}))),r.default.createElement("div",{className:"CheckboxLabel"},this.props.label),this.props.isCover?r.default.createElement("div",{className:"ShotCoverBadge"},"COVER"):null)}}]),t}()).prototype,"toggleCheck",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"toggleCheck"),i.prototype),u(i.prototype,"select",[s.default],Object.getOwnPropertyDescriptor(i.prototype,"select"),i.prototype),i);t.default=l},431:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=c(n(1)),a=c(n(2));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var l=(u((i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isFocused:!1,input:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),r(t,[{key:"componentWillMount",value:function(){this.moveAccum=0}},{key:"inputText",value:function(e){this.setState({input:e.target.value})}},{key:"keyDown",value:function(e){switch(e.keyCode){case 13:this.textInput.blur();break;case 27:this.state.input=null,this.textInput.blur()}}},{key:"confirmValue",value:function(){this.state.isFocused&&this.inputBlurred()}},{key:"setTextInput",value:function(e){this.textInput=e}},{key:"inputBlurred",value:function(){if(null!==this.state.input){var e=this.state.input;if(e!==t.InvalidValueMarker){var n=this.props.converter;if(n){var i=void 0;try{i=n.fromDisplayValue(e)}catch(t){console.log("Input converter failed, using old good.",e,this.props.value),i=this.props.value}this.props.onValueChanged&&this.props.onValueChanged(i,!1)}else if(this.props.isText)this.props.onValueChanged&&this.props.onValueChanged(e,!1);else{var o=this.enforce(parseFloat(e));this.props.onValueChanged&&!isNaN(o)&&this.props.onValueChanged(o,!1)}}}this.setState({isFocused:!1}),this.props.onEdit&&this.props.onEdit(this,!1)}},{key:"inputFocused",value:function(){var e=this.props.value,n=this.props.converter;n?e=n.toInputValue(e):!1===e?e=t.InvalidValueMarker:this.props.isText||(e=Number.parseFloat(e)),this.setState({isFocused:!0,input:e});var i=this.textInput;setTimeout(function(){i.setSelectionRange(0,i.value.length)},0),this.props.onEdit&&this.props.onEdit(this,!0)}},{key:"click",value:function(e){if(!(this.state.isFocused||this.props.disabled||this.props.readOnly)){e.preventDefault(),this.lastY=e.clientY,this.moved=!1;var n=this.textInput.value,i=this.props.converter;if(i)try{n=i.fromInputValue(n)}catch(e){n=i.defaultValue}else this.props.isText||(n=t.InvalidValueMarker===n?0:Number.parseFloat(n));this.valueAtClick=n,this.valueMoveAccum=0,this.moveAccum=0,window.addEventListener("mouseup",this.mouseUp,!0),i&&!i.allowDrag||window.addEventListener("mousemove",this.mouseMove,!0)}}},{key:"mouseMove",value:function(e){var t=this.props.converter,n=t&&(e.shiftKey?t.dragFastScale||3*t.dragScale:t.dragScale)||(e.shiftKey?3*this.props.dragScale:this.props.dragScale)||(e.shiftKey?.1*3:.1);if(!this.moved){var i=e.clientY-this.lastY;if(this.lastY=e.clientY,this.valueMoveAccum-=i*n,this.moveAccum+=Math.abs(i),!(this.moveAccum>4))return;this.moved=!0,this.props.onEdit&&this.props.onEdit(this,!0)}var o=e.clientY-this.lastY;if(this.lastY=e.clientY,this.valueMoveAccum-=o*n,this.props.onValueChanged){var r=t||{},s=r.dragMin,a=r.dragMax,c=this.valueAtClick+this.valueMoveAccum;this.valueAtClick>a?c=this.valueMoveAccum>0?this.valueAtClick:c:void 0!==s&&c<s?c=s:void 0!==a&&c>a&&(c=a),this.props.onValueChanged(this.enforce(c),!0)}}},{key:"enforce",value:function(e){if(this.props.converter)return e;if(this.props.isText)return e;if(void 0!==this.props.decimalPlaces){var t=Math.pow(10,this.props.decimalPlaces);e=Math.floor(e*t)/t}return e}},{key:"mouseUp",value:function(e){e.preventDefault(),e.stopPropagation(),this.moved?this.props.onValueCommit&&this.props.onValueCommit():this.textInput.focus(),this.moved&&this.props.onEdit&&this.props.onEdit(this,!1),window.removeEventListener("mousemove",this.mouseMove,!0),window.removeEventListener("mouseup",this.mouseUp,!0)}},{key:"render",value:function(){var e=this.props,n=e.style,i=e.decimals,r=e.value,a=e.isText,c=e.unit,u=e.converter,l=e.placeholder,h=e.className,f=this.state,d=f.isFocused,v=f.input,w="";if(d)w=v;else if(!1===r)w=t.InvalidValueMarker;else if(u)w=u.toDisplayValue(r);else if(a)w=r;else{void 0===i&&(i=2);var b=Math.pow(10,i);w=Math.round(r*b),w/=b,c&&(w+=c)}return s.default.createElement("input",{className:h,onMouseDown:this.click,placeholder:l,ref:this.setTextInput,style:o({cursor:d?null:"ns-resize"},n),type:"text",value:w,onChange:this.inputText,onFocus:this.inputFocused,onBlur:this.inputBlurred,onKeyDown:this.keyDown})}}],[{key:"InvalidValueMarker",get:function(){return"-"}}]),t}()).prototype,"inputText",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"inputText"),i.prototype),u(i.prototype,"keyDown",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"keyDown"),i.prototype),u(i.prototype,"setTextInput",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"setTextInput"),i.prototype),u(i.prototype,"inputBlurred",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"inputBlurred"),i.prototype),u(i.prototype,"inputFocused",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"inputFocused"),i.prototype),u(i.prototype,"click",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"click"),i.prototype),u(i.prototype,"mouseMove",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"mouseMove"),i.prototype),u(i.prototype,"mouseUp",[a.default],Object.getOwnPropertyDescriptor(i.prototype,"mouseUp"),i.prototype),i);t.default=l},443:function(e,t){},6:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(15),o=n(0),r=n(159);const{WorldTransformDirty:s,TransformDirty:a}=r.a;function c(e){let t=e._Rotation,n=e._Translation,i=e._Scale,r=e._Transform;return o.a.fromRotation(r,t),r[4]=n[0],r[5]=n[1],o.a.scale(r,r,i),r}class u extends i.a{constructor(){super(),this._Children=[],this._Transform=o.a.create(),this._WorldTransform=o.a.create(),this._OverrideWorldTransform=!1,this._Constraints=null,this._PeerConstraints=null,this._Translation=o.c.create(),this._Rotation=0,this._Scale=o.c.set(o.c.create(),1,1),this._Opacity=1,this._RenderOpacity=1,this._IsCollapsedVisibility=!1,this._RenderCollapsed=!1,this._Clips=null}get hasWorldTransform(){return!0}eachChildRecursive(e){const t=this._Children;for(let n of t)!1!==e(n)&&n.eachChildRecursive&&n.eachChildRecursive(e)}all(e){if(!1===e(this))return!1;const t=this._Children;for(let n of t)!1!==e(n)&&n.eachChildRecursive&&n.eachChildRecursive(e);return!0}get constraints(){return this._Constraints}get allConstraints(){return new Set((this._Constraints||[]).concat(this._PeerConstraints||[]))}addConstraint(e){let t=this._Constraints;return t||(this._Constraints=t=[]),-1===t.indexOf(e)&&(t.push(e),!0)}addPeerConstraint(e){this._PeerConstraints||(this._PeerConstraints=[]),this._PeerConstraints.push(e)}markTransformDirty(){let e=this._Actor;e&&e.addDirt(this,a)&&e.addDirt(this,s,!0)}updateWorldTransform(){const e=this._Parent;this._RenderOpacity=this._Opacity,e?(this._RenderCollapsed=this._IsCollapsedVisibility||e._RenderCollapsed,this._RenderOpacity*=e._RenderOpacity,this._OverrideWorldTransform||o.a.mul(this._WorldTransform,e._WorldTransform,this._Transform)):o.a.copy(this._WorldTransform,this._Transform)}get isNode(){return!0}get translation(){return this._Translation}set translation(e){o.c.exactEquals(this._Translation,e)||(o.c.copy(this._Translation,e),this.markTransformDirty())}get scale(){return this._Scale}set scale(e){o.c.exactEquals(this._Scale,e)||(o.c.copy(this._Scale,e),this.markTransformDirty())}get x(){return this._Translation[0]}set x(e){this._Translation[0]!=e&&(this._Translation[0]=e,this.markTransformDirty())}get y(){return this._Translation[1]}set y(e){this._Translation[1]!=e&&(this._Translation[1]=e,this.markTransformDirty())}get scaleX(){return this._Scale[0]}set scaleX(e){this._Scale[0]!=e&&(this._Scale[0]=e,this.markTransformDirty())}get scaleY(){return this._Scale[1]}set scaleY(e){this._Scale[1]!=e&&(this._Scale[1]=e,this.markTransformDirty())}get rotation(){return this._Rotation}set rotation(e){this._Rotation!=e&&(this._Rotation=e,this.markTransformDirty())}get opacity(){return this._Opacity}set opacity(e){this._Opacity!=e&&(this._Opacity=e,this.markTransformDirty())}update(e){if((e&a)===a&&c(this),(e&s)===s){this.updateWorldTransform();let e=this._Constraints;if(e)for(let t of e)t.isEnabled&&t.constrain(this)}}getWorldTransform(){if((this._DirtMask&s)!==s)return this._WorldTransform;let e=this.parent,t=[this];for(;e;)t.unshift(e),e=e.parent;for(let e of t)e.hasWorldTransform&&((this._DirtMask&a)!==a&&c(this),(this._DirtMask&s)!==s&&e.updateWorldTransform());return this._WorldTransform}get transform(){return this._Transform}get worldTransform(){return this._WorldTransform}get worldTranslation(){const e=this._WorldTransform;return o.c.set(o.c.create(),e[4],e[5])}setCollapsedVisibility(e){this._IsCollapsedVisibility!==e&&(this._IsCollapsedVisibility=e,this.markTransformDirty())}makeInstance(e){const t=new u;return t.copy(this,e),t}copy(e,t){if(super.copy(e,t),o.a.copy(this._Transform,e._Transform),o.a.copy(this._WorldTransform,e._WorldTransform),o.c.copy(this._Translation,e._Translation),o.c.copy(this._Scale,e._Scale),this._Rotation=e._Rotation,this._Opacity=e._Opacity,this._RenderOpacity=e._RenderOpacity,this._OverrideWorldTransform=e._OverrideWorldTransform,e._Clips){this._Clips=[];for(let t of e._Clips)this._Clips.push(t._Idx)}else this._Clips=null}overrideWorldTransform(e){this._OverrideWorldTransform=!!e,o.a.copy(this._WorldTransform,e),this.markTransformDirty()}resolveComponentIndices(e){super.resolveComponentIndices(e);let t=this._Clips;if(t)for(let n=0;n<t.length;n++){let i=t[n];t[n]=e[i]}}}},643:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=null;try{i=s.triangulate(e,t,n)}catch(e){console.error(e)}return i};var i,o=n(3),r=(i=o)&&i.__esModule?i:{default:i};var s=null;"function"==typeof TriInit&&TriInit({locateFile:function(e){return r.default.make("/lib/"+e)}}).then(function(e){s=e})},7:function(e,t,n){
/*!
@fileoverview gl-matrix - High performance matrix and vector operations
@author Brandon Jones
@author Colin MacKenzie IV
@version 2.7.1

Copyright (c) 2015-2018, Brandon Jones, Colin MacKenzie IV.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMatrixArrayType=function(e){t.ARRAY_TYPE=e},t.toRadian=function(e){return e*o},t.equals=function(e,t){return Math.abs(e-t)<=i*Math.max(1,Math.abs(e),Math.abs(t))};var i=t.EPSILON=1e-6;t.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,t.RANDOM=Math.random;var o=Math.PI/180},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.mul=void 0,t.create=function(){var e=new i.ARRAY_TYPE(9);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},t.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},t.clone=function(e){var t=new i.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},t.fromValues=function(e,t,n,o,r,s,a,c,u){var l=new i.ARRAY_TYPE(9);return l[0]=e,l[1]=t,l[2]=n,l[3]=o,l[4]=r,l[5]=s,l[6]=a,l[7]=c,l[8]=u,l},t.set=function(e,t,n,i,o,r,s,a,c,u){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e[4]=r,e[5]=s,e[6]=a,e[7]=c,e[8]=u,e},t.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.transpose=function(e,t){if(e===t){var n=t[1],i=t[2],o=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=i,e[7]=o}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},t.invert=function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=l*s-a*u,f=-l*r+a*c,d=u*r-s*c,v=n*h+i*f+o*d;return v?(v=1/v,e[0]=h*v,e[1]=(-l*i+o*u)*v,e[2]=(a*i-o*s)*v,e[3]=f*v,e[4]=(l*n-o*c)*v,e[5]=(-a*n+o*r)*v,e[6]=d*v,e[7]=(-u*n+i*c)*v,e[8]=(s*n-i*r)*v,e):null},t.adjoint=function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=t[8];return e[0]=s*l-a*u,e[1]=o*u-i*l,e[2]=i*a-o*s,e[3]=a*c-r*l,e[4]=n*l-o*c,e[5]=o*r-n*a,e[6]=r*u-s*c,e[7]=i*c-n*u,e[8]=n*s-i*r,e},t.determinant=function(e){var t=e[0],n=e[1],i=e[2],o=e[3],r=e[4],s=e[5],a=e[6],c=e[7],u=e[8];return t*(u*r-s*c)+n*(-u*o+s*a)+i*(c*o-r*a)},t.multiply=o,t.translate=function(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],f=n[0],d=n[1];return e[0]=i,e[1]=o,e[2]=r,e[3]=s,e[4]=a,e[5]=c,e[6]=f*i+d*s+u,e[7]=f*o+d*a+l,e[8]=f*r+d*c+h,e},t.rotate=function(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],f=Math.sin(n),d=Math.cos(n);return e[0]=d*i+f*s,e[1]=d*o+f*a,e[2]=d*r+f*c,e[3]=d*s-f*i,e[4]=d*a-f*o,e[5]=d*c-f*r,e[6]=u,e[7]=l,e[8]=h,e},t.scale=function(e,t,n){var i=n[0],o=n[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},t.fromRotation=function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=-n,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},t.fromQuat=function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],s=n+n,a=i+i,c=o+o,u=n*s,l=i*s,h=i*a,f=o*s,d=o*a,v=o*c,w=r*s,b=r*a,g=r*c;return e[0]=1-h-v,e[3]=l-g,e[6]=f+b,e[1]=l+g,e[4]=1-u-v,e[7]=d-w,e[2]=f-b,e[5]=d+w,e[8]=1-u-h,e},t.normalFromMat4=function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=t[9],f=t[10],d=t[11],v=t[12],w=t[13],b=t[14],g=t[15],_=n*a-i*s,k=n*c-o*s,M=n*u-r*s,S=i*c-o*a,O=i*u-r*a,E=o*u-r*c,p=l*w-h*v,D=l*b-f*v,T=l*g-d*v,I=h*b-f*w,C=h*g-d*w,y=f*g-d*b,L=_*y-k*C+M*I+S*T-O*D+E*p;return L?(L=1/L,e[0]=(a*y-c*C+u*I)*L,e[1]=(c*T-s*y-u*D)*L,e[2]=(s*C-a*T+u*p)*L,e[3]=(o*C-i*y-r*I)*L,e[4]=(n*y-o*T+r*D)*L,e[5]=(i*T-n*C-r*p)*L,e[6]=(w*E-b*O+g*S)*L,e[7]=(b*M-v*E-g*k)*L,e[8]=(v*O-w*M+g*_)*L,e):null},t.projection=function(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},t.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e},t.subtract=r,t.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e},t.multiplyScalarAndAdd=function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e[6]=t[6]+n[6]*i,e[7]=t[7]+n[7]*i,e[8]=t[8]+n[8]*i,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},t.equals=function(e,t){var n=e[0],o=e[1],r=e[2],s=e[3],a=e[4],c=e[5],u=e[6],l=e[7],h=e[8],f=t[0],d=t[1],v=t[2],w=t[3],b=t[4],g=t[5],_=t[6],k=t[7],M=t[8];return Math.abs(n-f)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(o-d)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(r-v)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(s-w)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-b)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(c-g)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(u-_)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(l-k)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(h-M)<=i.EPSILON*Math.max(1,Math.abs(h),Math.abs(M))};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function o(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],f=n[0],d=n[1],v=n[2],w=n[3],b=n[4],g=n[5],_=n[6],k=n[7],M=n[8];return e[0]=f*i+d*s+v*u,e[1]=f*o+d*a+v*l,e[2]=f*r+d*c+v*h,e[3]=w*i+b*s+g*u,e[4]=w*o+b*a+g*l,e[5]=w*r+b*c+g*h,e[6]=_*i+k*s+M*u,e[7]=_*o+k*a+M*l,e[8]=_*r+k*c+M*h,e}function r(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}t.mul=o,t.sub=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.mul=void 0,t.create=function(){var e=new i.ARRAY_TYPE(16);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},t.clone=function(e){var t=new i.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.fromValues=function(e,t,n,o,r,s,a,c,u,l,h,f,d,v,w,b){var g=new i.ARRAY_TYPE(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=o,g[4]=r,g[5]=s,g[6]=a,g[7]=c,g[8]=u,g[9]=l,g[10]=h,g[11]=f,g[12]=d,g[13]=v,g[14]=w,g[15]=b,g},t.set=function(e,t,n,i,o,r,s,a,c,u,l,h,f,d,v,w,b){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e[4]=r,e[5]=s,e[6]=a,e[7]=c,e[8]=u,e[9]=l,e[10]=h,e[11]=f,e[12]=d,e[13]=v,e[14]=w,e[15]=b,e},t.identity=o,t.transpose=function(e,t){if(e===t){var n=t[1],i=t[2],o=t[3],r=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=r,e[11]=t[14],e[12]=o,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},t.invert=function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=t[9],f=t[10],d=t[11],v=t[12],w=t[13],b=t[14],g=t[15],_=n*a-i*s,k=n*c-o*s,M=n*u-r*s,S=i*c-o*a,O=i*u-r*a,E=o*u-r*c,p=l*w-h*v,D=l*b-f*v,T=l*g-d*v,I=h*b-f*w,C=h*g-d*w,y=f*g-d*b,L=_*y-k*C+M*I+S*T-O*D+E*p;return L?(L=1/L,e[0]=(a*y-c*C+u*I)*L,e[1]=(o*C-i*y-r*I)*L,e[2]=(w*E-b*O+g*S)*L,e[3]=(f*O-h*E-d*S)*L,e[4]=(c*T-s*y-u*D)*L,e[5]=(n*y-o*T+r*D)*L,e[6]=(b*M-v*E-g*k)*L,e[7]=(l*E-f*M+d*k)*L,e[8]=(s*C-a*T+u*p)*L,e[9]=(i*T-n*C-r*p)*L,e[10]=(v*O-w*M+g*_)*L,e[11]=(h*M-l*O-d*_)*L,e[12]=(a*D-s*I-c*p)*L,e[13]=(n*I-i*D+o*p)*L,e[14]=(w*k-v*S-b*_)*L,e[15]=(l*S-h*k+f*_)*L,e):null},t.adjoint=function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=t[9],f=t[10],d=t[11],v=t[12],w=t[13],b=t[14],g=t[15];return e[0]=a*(f*g-d*b)-h*(c*g-u*b)+w*(c*d-u*f),e[1]=-(i*(f*g-d*b)-h*(o*g-r*b)+w*(o*d-r*f)),e[2]=i*(c*g-u*b)-a*(o*g-r*b)+w*(o*u-r*c),e[3]=-(i*(c*d-u*f)-a*(o*d-r*f)+h*(o*u-r*c)),e[4]=-(s*(f*g-d*b)-l*(c*g-u*b)+v*(c*d-u*f)),e[5]=n*(f*g-d*b)-l*(o*g-r*b)+v*(o*d-r*f),e[6]=-(n*(c*g-u*b)-s*(o*g-r*b)+v*(o*u-r*c)),e[7]=n*(c*d-u*f)-s*(o*d-r*f)+l*(o*u-r*c),e[8]=s*(h*g-d*w)-l*(a*g-u*w)+v*(a*d-u*h),e[9]=-(n*(h*g-d*w)-l*(i*g-r*w)+v*(i*d-r*h)),e[10]=n*(a*g-u*w)-s*(i*g-r*w)+v*(i*u-r*a),e[11]=-(n*(a*d-u*h)-s*(i*d-r*h)+l*(i*u-r*a)),e[12]=-(s*(h*b-f*w)-l*(a*b-c*w)+v*(a*f-c*h)),e[13]=n*(h*b-f*w)-l*(i*b-o*w)+v*(i*f-o*h),e[14]=-(n*(a*b-c*w)-s*(i*b-o*w)+v*(i*c-o*a)),e[15]=n*(a*f-c*h)-s*(i*f-o*h)+l*(i*c-o*a),e},t.determinant=function(e){var t=e[0],n=e[1],i=e[2],o=e[3],r=e[4],s=e[5],a=e[6],c=e[7],u=e[8],l=e[9],h=e[10],f=e[11],d=e[12],v=e[13],w=e[14],b=e[15];return(t*s-n*r)*(h*b-f*w)-(t*a-i*r)*(l*b-f*v)+(t*c-o*r)*(l*w-h*v)+(n*a-i*s)*(u*b-f*d)-(n*c-o*s)*(u*w-h*d)+(i*c-o*a)*(u*v-l*d)},t.multiply=r,t.translate=function(e,t,n){var i=n[0],o=n[1],r=n[2],s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0,f=void 0,d=void 0,v=void 0,w=void 0,b=void 0,g=void 0;return t===e?(e[12]=t[0]*i+t[4]*o+t[8]*r+t[12],e[13]=t[1]*i+t[5]*o+t[9]*r+t[13],e[14]=t[2]*i+t[6]*o+t[10]*r+t[14],e[15]=t[3]*i+t[7]*o+t[11]*r+t[15]):(s=t[0],a=t[1],c=t[2],u=t[3],l=t[4],h=t[5],f=t[6],d=t[7],v=t[8],w=t[9],b=t[10],g=t[11],e[0]=s,e[1]=a,e[2]=c,e[3]=u,e[4]=l,e[5]=h,e[6]=f,e[7]=d,e[8]=v,e[9]=w,e[10]=b,e[11]=g,e[12]=s*i+l*o+v*r+t[12],e[13]=a*i+h*o+w*r+t[13],e[14]=c*i+f*o+b*r+t[14],e[15]=u*i+d*o+g*r+t[15]),e},t.scale=function(e,t,n){var i=n[0],o=n[1],r=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.rotate=function(e,t,n,o){var r=o[0],s=o[1],a=o[2],c=Math.sqrt(r*r+s*s+a*a),u=void 0,l=void 0,h=void 0,f=void 0,d=void 0,v=void 0,w=void 0,b=void 0,g=void 0,_=void 0,k=void 0,M=void 0,S=void 0,O=void 0,E=void 0,p=void 0,D=void 0,T=void 0,I=void 0,C=void 0,y=void 0,L=void 0,N=void 0,A=void 0;return c<i.EPSILON?null:(r*=c=1/c,s*=c,a*=c,u=Math.sin(n),l=Math.cos(n),h=1-l,f=t[0],d=t[1],v=t[2],w=t[3],b=t[4],g=t[5],_=t[6],k=t[7],M=t[8],S=t[9],O=t[10],E=t[11],p=r*r*h+l,D=s*r*h+a*u,T=a*r*h-s*u,I=r*s*h-a*u,C=s*s*h+l,y=a*s*h+r*u,L=r*a*h+s*u,N=s*a*h-r*u,A=a*a*h+l,e[0]=f*p+b*D+M*T,e[1]=d*p+g*D+S*T,e[2]=v*p+_*D+O*T,e[3]=w*p+k*D+E*T,e[4]=f*I+b*C+M*y,e[5]=d*I+g*C+S*y,e[6]=v*I+_*C+O*y,e[7]=w*I+k*C+E*y,e[8]=f*L+b*N+M*A,e[9]=d*L+g*N+S*A,e[10]=v*L+_*N+O*A,e[11]=w*L+k*N+E*A,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},t.rotateX=function(e,t,n){var i=Math.sin(n),o=Math.cos(n),r=t[4],s=t[5],a=t[6],c=t[7],u=t[8],l=t[9],h=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=r*o+u*i,e[5]=s*o+l*i,e[6]=a*o+h*i,e[7]=c*o+f*i,e[8]=u*o-r*i,e[9]=l*o-s*i,e[10]=h*o-a*i,e[11]=f*o-c*i,e},t.rotateY=function(e,t,n){var i=Math.sin(n),o=Math.cos(n),r=t[0],s=t[1],a=t[2],c=t[3],u=t[8],l=t[9],h=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=r*o-u*i,e[1]=s*o-l*i,e[2]=a*o-h*i,e[3]=c*o-f*i,e[8]=r*i+u*o,e[9]=s*i+l*o,e[10]=a*i+h*o,e[11]=c*i+f*o,e},t.rotateZ=function(e,t,n){var i=Math.sin(n),o=Math.cos(n),r=t[0],s=t[1],a=t[2],c=t[3],u=t[4],l=t[5],h=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=r*o+u*i,e[1]=s*o+l*i,e[2]=a*o+h*i,e[3]=c*o+f*i,e[4]=u*o-r*i,e[5]=l*o-s*i,e[6]=h*o-a*i,e[7]=f*o-c*i,e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromRotation=function(e,t,n){var o=n[0],r=n[1],s=n[2],a=Math.sqrt(o*o+r*r+s*s),c=void 0,u=void 0,l=void 0;return a<i.EPSILON?null:(o*=a=1/a,r*=a,s*=a,c=Math.sin(t),u=Math.cos(t),l=1-u,e[0]=o*o*l+u,e[1]=r*o*l+s*c,e[2]=s*o*l-r*c,e[3]=0,e[4]=o*r*l-s*c,e[5]=r*r*l+u,e[6]=s*r*l+o*c,e[7]=0,e[8]=o*s*l+r*c,e[9]=r*s*l-o*c,e[10]=s*s*l+u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},t.fromXRotation=function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromYRotation=function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromZRotation=function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromRotationTranslation=s,t.fromQuat2=function(e,t){var n=new i.ARRAY_TYPE(3),o=-t[0],r=-t[1],a=-t[2],c=t[3],u=t[4],l=t[5],h=t[6],f=t[7],d=o*o+r*r+a*a+c*c;return d>0?(n[0]=2*(u*c+f*o+l*a-h*r)/d,n[1]=2*(l*c+f*r+h*o-u*a)/d,n[2]=2*(h*c+f*a+u*r-l*o)/d):(n[0]=2*(u*c+f*o+l*a-h*r),n[1]=2*(l*c+f*r+h*o-u*a),n[2]=2*(h*c+f*a+u*r-l*o)),s(e,t,n),e},t.getTranslation=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},t.getScaling=function(e,t){var n=t[0],i=t[1],o=t[2],r=t[4],s=t[5],a=t[6],c=t[8],u=t[9],l=t[10];return e[0]=Math.sqrt(n*n+i*i+o*o),e[1]=Math.sqrt(r*r+s*s+a*a),e[2]=Math.sqrt(c*c+u*u+l*l),e},t.getRotation=function(e,t){var n=t[0]+t[5]+t[10],i=0;return n>0?(i=2*Math.sqrt(n+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e},t.fromRotationTranslationScale=function(e,t,n,i){var o=t[0],r=t[1],s=t[2],a=t[3],c=o+o,u=r+r,l=s+s,h=o*c,f=o*u,d=o*l,v=r*u,w=r*l,b=s*l,g=a*c,_=a*u,k=a*l,M=i[0],S=i[1],O=i[2];return e[0]=(1-(v+b))*M,e[1]=(f+k)*M,e[2]=(d-_)*M,e[3]=0,e[4]=(f-k)*S,e[5]=(1-(h+b))*S,e[6]=(w+g)*S,e[7]=0,e[8]=(d+_)*O,e[9]=(w-g)*O,e[10]=(1-(h+v))*O,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},t.fromRotationTranslationScaleOrigin=function(e,t,n,i,o){var r=t[0],s=t[1],a=t[2],c=t[3],u=r+r,l=s+s,h=a+a,f=r*u,d=r*l,v=r*h,w=s*l,b=s*h,g=a*h,_=c*u,k=c*l,M=c*h,S=i[0],O=i[1],E=i[2],p=o[0],D=o[1],T=o[2],I=(1-(w+g))*S,C=(d+M)*S,y=(v-k)*S,L=(d-M)*O,N=(1-(f+g))*O,A=(b+_)*O,m=(v+k)*E,U=(b-_)*E,j=(1-(f+w))*E;return e[0]=I,e[1]=C,e[2]=y,e[3]=0,e[4]=L,e[5]=N,e[6]=A,e[7]=0,e[8]=m,e[9]=U,e[10]=j,e[11]=0,e[12]=n[0]+p-(I*p+L*D+m*T),e[13]=n[1]+D-(C*p+N*D+U*T),e[14]=n[2]+T-(y*p+A*D+j*T),e[15]=1,e},t.fromQuat=function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],s=n+n,a=i+i,c=o+o,u=n*s,l=i*s,h=i*a,f=o*s,d=o*a,v=o*c,w=r*s,b=r*a,g=r*c;return e[0]=1-h-v,e[1]=l+g,e[2]=f-b,e[3]=0,e[4]=l-g,e[5]=1-u-v,e[6]=d+w,e[7]=0,e[8]=f+b,e[9]=d-w,e[10]=1-u-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.frustum=function(e,t,n,i,o,r,s){var a=1/(n-t),c=1/(o-i),u=1/(r-s);return e[0]=2*r*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*r*c,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(o+i)*c,e[10]=(s+r)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*r*2*u,e[15]=0,e},t.perspective=function(e,t,n,i,o){var r=1/Math.tan(t/2),s=void 0;return e[0]=r/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(s=1/(i-o),e[10]=(o+i)*s,e[14]=2*o*i*s):(e[10]=-1,e[14]=-2*i),e},t.perspectiveFromFieldOfView=function(e,t,n,i){var o=Math.tan(t.upDegrees*Math.PI/180),r=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),c=2/(s+a),u=2/(o+r);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(s-a)*c*.5,e[9]=(o-r)*u*.5,e[10]=i/(n-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*n/(n-i),e[15]=0,e},t.ortho=function(e,t,n,i,o,r,s){var a=1/(t-n),c=1/(i-o),u=1/(r-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*a,e[13]=(o+i)*c,e[14]=(s+r)*u,e[15]=1,e},t.lookAt=function(e,t,n,r){var s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0,f=void 0,d=void 0,v=void 0,w=void 0,b=t[0],g=t[1],_=t[2],k=r[0],M=r[1],S=r[2],O=n[0],E=n[1],p=n[2];return Math.abs(b-O)<i.EPSILON&&Math.abs(g-E)<i.EPSILON&&Math.abs(_-p)<i.EPSILON?o(e):(f=b-O,d=g-E,v=_-p,w=1/Math.sqrt(f*f+d*d+v*v),s=M*(v*=w)-S*(d*=w),a=S*(f*=w)-k*v,c=k*d-M*f,(w=Math.sqrt(s*s+a*a+c*c))?(s*=w=1/w,a*=w,c*=w):(s=0,a=0,c=0),u=d*c-v*a,l=v*s-f*c,h=f*a-d*s,(w=Math.sqrt(u*u+l*l+h*h))?(u*=w=1/w,l*=w,h*=w):(u=0,l=0,h=0),e[0]=s,e[1]=u,e[2]=f,e[3]=0,e[4]=a,e[5]=l,e[6]=d,e[7]=0,e[8]=c,e[9]=h,e[10]=v,e[11]=0,e[12]=-(s*b+a*g+c*_),e[13]=-(u*b+l*g+h*_),e[14]=-(f*b+d*g+v*_),e[15]=1,e)},t.targetTo=function(e,t,n,i){var o=t[0],r=t[1],s=t[2],a=i[0],c=i[1],u=i[2],l=o-n[0],h=r-n[1],f=s-n[2],d=l*l+h*h+f*f;d>0&&(d=1/Math.sqrt(d),l*=d,h*=d,f*=d);var v=c*f-u*h,w=u*l-a*f,b=a*h-c*l;return(d=v*v+w*w+b*b)>0&&(d=1/Math.sqrt(d),v*=d,w*=d,b*=d),e[0]=v,e[1]=w,e[2]=b,e[3]=0,e[4]=h*b-f*w,e[5]=f*v-l*b,e[6]=l*w-h*v,e[7]=0,e[8]=l,e[9]=h,e[10]=f,e[11]=0,e[12]=o,e[13]=r,e[14]=s,e[15]=1,e},t.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},t.subtract=a,t.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},t.multiplyScalarAndAdd=function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e[6]=t[6]+n[6]*i,e[7]=t[7]+n[7]*i,e[8]=t[8]+n[8]*i,e[9]=t[9]+n[9]*i,e[10]=t[10]+n[10]*i,e[11]=t[11]+n[11]*i,e[12]=t[12]+n[12]*i,e[13]=t[13]+n[13]*i,e[14]=t[14]+n[14]*i,e[15]=t[15]+n[15]*i,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},t.equals=function(e,t){var n=e[0],o=e[1],r=e[2],s=e[3],a=e[4],c=e[5],u=e[6],l=e[7],h=e[8],f=e[9],d=e[10],v=e[11],w=e[12],b=e[13],g=e[14],_=e[15],k=t[0],M=t[1],S=t[2],O=t[3],E=t[4],p=t[5],D=t[6],T=t[7],I=t[8],C=t[9],y=t[10],L=t[11],N=t[12],A=t[13],m=t[14],U=t[15];return Math.abs(n-k)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(k))&&Math.abs(o-M)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(r-S)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(S))&&Math.abs(s-O)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(a-E)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(c-p)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(p))&&Math.abs(u-D)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(l-T)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(h-I)<=i.EPSILON*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(f-C)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(d-y)<=i.EPSILON*Math.max(1,Math.abs(d),Math.abs(y))&&Math.abs(v-L)<=i.EPSILON*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(w-N)<=i.EPSILON*Math.max(1,Math.abs(w),Math.abs(N))&&Math.abs(b-A)<=i.EPSILON*Math.max(1,Math.abs(b),Math.abs(A))&&Math.abs(g-m)<=i.EPSILON*Math.max(1,Math.abs(g),Math.abs(m))&&Math.abs(_-U)<=i.EPSILON*Math.max(1,Math.abs(_),Math.abs(U))};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function r(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],f=t[9],d=t[10],v=t[11],w=t[12],b=t[13],g=t[14],_=t[15],k=n[0],M=n[1],S=n[2],O=n[3];return e[0]=k*i+M*a+S*h+O*w,e[1]=k*o+M*c+S*f+O*b,e[2]=k*r+M*u+S*d+O*g,e[3]=k*s+M*l+S*v+O*_,k=n[4],M=n[5],S=n[6],O=n[7],e[4]=k*i+M*a+S*h+O*w,e[5]=k*o+M*c+S*f+O*b,e[6]=k*r+M*u+S*d+O*g,e[7]=k*s+M*l+S*v+O*_,k=n[8],M=n[9],S=n[10],O=n[11],e[8]=k*i+M*a+S*h+O*w,e[9]=k*o+M*c+S*f+O*b,e[10]=k*r+M*u+S*d+O*g,e[11]=k*s+M*l+S*v+O*_,k=n[12],M=n[13],S=n[14],O=n[15],e[12]=k*i+M*a+S*h+O*w,e[13]=k*o+M*c+S*f+O*b,e[14]=k*r+M*u+S*d+O*g,e[15]=k*s+M*l+S*v+O*_,e}function s(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=i+i,c=o+o,u=r+r,l=i*a,h=i*c,f=i*u,d=o*c,v=o*u,w=r*u,b=s*a,g=s*c,_=s*u;return e[0]=1-(d+w),e[1]=h+_,e[2]=f-g,e[3]=0,e[4]=h-_,e[5]=1-(l+w),e[6]=v+b,e[7]=0,e[8]=f+g,e[9]=v-b,e[10]=1-(l+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function a(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}t.mul=r,t.sub=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAxes=t.sqlerp=t.rotationTo=t.equals=t.exactEquals=t.normalize=t.sqrLen=t.squaredLength=t.len=t.length=t.lerp=t.dot=t.scale=t.mul=t.add=t.set=t.copy=t.fromValues=t.clone=void 0,t.create=c,t.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},t.setAxisAngle=u,t.getAxisAngle=function(e,t){var n=2*Math.acos(t[3]),o=Math.sin(n/2);return o>i.EPSILON?(e[0]=t[0]/o,e[1]=t[1]/o,e[2]=t[2]/o):(e[0]=1,e[1]=0,e[2]=0),n},t.multiply=l,t.rotateX=function(e,t,n){n*=.5;var i=t[0],o=t[1],r=t[2],s=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=i*c+s*a,e[1]=o*c+r*a,e[2]=r*c-o*a,e[3]=s*c-i*a,e},t.rotateY=function(e,t,n){n*=.5;var i=t[0],o=t[1],r=t[2],s=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=i*c-r*a,e[1]=o*c+s*a,e[2]=r*c+i*a,e[3]=s*c-o*a,e},t.rotateZ=function(e,t,n){n*=.5;var i=t[0],o=t[1],r=t[2],s=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=i*c+o*a,e[1]=o*c-i*a,e[2]=r*c+s*a,e[3]=s*c-r*a,e},t.calculateW=function(e,t){var n=t[0],i=t[1],o=t[2];return e[0]=n,e[1]=i,e[2]=o,e[3]=Math.sqrt(Math.abs(1-n*n-i*i-o*o)),e},t.slerp=h,t.random=function(e){var t=i.RANDOM(),n=i.RANDOM(),o=i.RANDOM(),r=Math.sqrt(1-t),s=Math.sqrt(t);return e[0]=r*Math.sin(2*Math.PI*n),e[1]=r*Math.cos(2*Math.PI*n),e[2]=s*Math.sin(2*Math.PI*o),e[3]=s*Math.cos(2*Math.PI*o),e},t.invert=function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],s=n*n+i*i+o*o+r*r,a=s?1/s:0;return e[0]=-n*a,e[1]=-i*a,e[2]=-o*a,e[3]=r*a,e},t.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},t.fromMat3=f,t.fromEuler=function(e,t,n,i){var o=.5*Math.PI/180;t*=o,n*=o,i*=o;var r=Math.sin(t),s=Math.cos(t),a=Math.sin(n),c=Math.cos(n),u=Math.sin(i),l=Math.cos(i);return e[0]=r*c*l-s*a*u,e[1]=s*a*l+r*c*u,e[2]=s*c*u-r*a*l,e[3]=s*c*l+r*a*u,e},t.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"};var i=a(n(0)),o=a(n(1)),r=a(n(4)),s=a(n(5));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function u(e,t,n){n*=.5;var i=Math.sin(n);return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=Math.cos(n),e}function l(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=n[0],c=n[1],u=n[2],l=n[3];return e[0]=i*l+s*a+o*u-r*c,e[1]=o*l+s*c+r*a-i*u,e[2]=r*l+s*u+i*c-o*a,e[3]=s*l-i*a-o*c-r*u,e}function h(e,t,n,o){var r=t[0],s=t[1],a=t[2],c=t[3],u=n[0],l=n[1],h=n[2],f=n[3],d=void 0,v=void 0,w=void 0,b=void 0,g=void 0;return(v=r*u+s*l+a*h+c*f)<0&&(v=-v,u=-u,l=-l,h=-h,f=-f),1-v>i.EPSILON?(d=Math.acos(v),w=Math.sin(d),b=Math.sin((1-o)*d)/w,g=Math.sin(o*d)/w):(b=1-o,g=o),e[0]=b*r+g*u,e[1]=b*s+g*l,e[2]=b*a+g*h,e[3]=b*c+g*f,e}function f(e,t){var n=t[0]+t[4]+t[8],i=void 0;if(n>0)i=Math.sqrt(n+1),e[3]=.5*i,i=.5/i,e[0]=(t[5]-t[7])*i,e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else{var o=0;t[4]>t[0]&&(o=1),t[8]>t[3*o+o]&&(o=2);var r=(o+1)%3,s=(o+2)%3;i=Math.sqrt(t[3*o+o]-t[3*r+r]-t[3*s+s]+1),e[o]=.5*i,i=.5/i,e[3]=(t[3*r+s]-t[3*s+r])*i,e[r]=(t[3*r+o]+t[3*o+r])*i,e[s]=(t[3*s+o]+t[3*o+s])*i}return e}t.clone=s.clone,t.fromValues=s.fromValues,t.copy=s.copy,t.set=s.set,t.add=s.add,t.mul=l,t.scale=s.scale,t.dot=s.dot,t.lerp=s.lerp;var d=t.length=s.length,v=(t.len=d,t.squaredLength=s.squaredLength),w=(t.sqrLen=v,t.normalize=s.normalize);t.exactEquals=s.exactEquals,t.equals=s.equals,t.rotationTo=function(){var e=r.create(),t=r.fromValues(1,0,0),n=r.fromValues(0,1,0);return function(i,o,s){var a=r.dot(o,s);return a<-.999999?(r.cross(e,t,o),r.len(e)<1e-6&&r.cross(e,n,o),r.normalize(e,e),u(i,e,Math.PI),i):a>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(r.cross(e,o,s),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=1+a,w(i,i))}}(),t.sqlerp=function(){var e=c(),t=c();return function(n,i,o,r,s,a){return h(e,i,s,a),h(t,o,r,a),h(n,e,t,2*a*(1-a)),n}}(),t.setAxes=function(){var e=o.create();return function(t,n,i,o){return e[0]=i[0],e[3]=i[1],e[6]=i[2],e[1]=o[0],e[4]=o[1],e[7]=o[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],w(t,f(t,e))}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.sqrLen=t.len=t.sqrDist=t.dist=t.div=t.mul=t.sub=void 0,t.create=o,t.clone=function(e){var t=new i.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.length=r,t.fromValues=s,t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.set=function(e,t,n,i){return e[0]=t,e[1]=n,e[2]=i,e},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},t.subtract=a,t.multiply=c,t.divide=u,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},t.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},t.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},t.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},t.scaleAndAdd=function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e},t.distance=l,t.squaredDistance=h,t.squaredLength=f,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},t.normalize=d,t.dot=v,t.cross=function(e,t,n){var i=t[0],o=t[1],r=t[2],s=n[0],a=n[1],c=n[2];return e[0]=o*c-r*a,e[1]=r*s-i*c,e[2]=i*a-o*s,e},t.lerp=function(e,t,n,i){var o=t[0],r=t[1],s=t[2];return e[0]=o+i*(n[0]-o),e[1]=r+i*(n[1]-r),e[2]=s+i*(n[2]-s),e},t.hermite=function(e,t,n,i,o,r){var s=r*r,a=s*(2*r-3)+1,c=s*(r-2)+r,u=s*(r-1),l=s*(3-2*r);return e[0]=t[0]*a+n[0]*c+i[0]*u+o[0]*l,e[1]=t[1]*a+n[1]*c+i[1]*u+o[1]*l,e[2]=t[2]*a+n[2]*c+i[2]*u+o[2]*l,e},t.bezier=function(e,t,n,i,o,r){var s=1-r,a=s*s,c=r*r,u=a*s,l=3*r*a,h=3*c*s,f=c*r;return e[0]=t[0]*u+n[0]*l+i[0]*h+o[0]*f,e[1]=t[1]*u+n[1]*l+i[1]*h+o[1]*f,e[2]=t[2]*u+n[2]*l+i[2]*h+o[2]*f,e},t.random=function(e,t){t=t||1;var n=2*i.RANDOM()*Math.PI,o=2*i.RANDOM()-1,r=Math.sqrt(1-o*o)*t;return e[0]=Math.cos(n)*r,e[1]=Math.sin(n)*r,e[2]=o*t,e},t.transformMat4=function(e,t,n){var i=t[0],o=t[1],r=t[2],s=n[3]*i+n[7]*o+n[11]*r+n[15];return s=s||1,e[0]=(n[0]*i+n[4]*o+n[8]*r+n[12])/s,e[1]=(n[1]*i+n[5]*o+n[9]*r+n[13])/s,e[2]=(n[2]*i+n[6]*o+n[10]*r+n[14])/s,e},t.transformMat3=function(e,t,n){var i=t[0],o=t[1],r=t[2];return e[0]=i*n[0]+o*n[3]+r*n[6],e[1]=i*n[1]+o*n[4]+r*n[7],e[2]=i*n[2]+o*n[5]+r*n[8],e},t.transformQuat=function(e,t,n){var i=n[0],o=n[1],r=n[2],s=n[3],a=t[0],c=t[1],u=t[2],l=o*u-r*c,h=r*a-i*u,f=i*c-o*a,d=o*f-r*h,v=r*l-i*f,w=i*h-o*l,b=2*s;return l*=b,h*=b,f*=b,d*=2,v*=2,w*=2,e[0]=a+l+d,e[1]=c+h+v,e[2]=u+f+w,e},t.rotateX=function(e,t,n,i){var o=[],r=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],r[0]=o[0],r[1]=o[1]*Math.cos(i)-o[2]*Math.sin(i),r[2]=o[1]*Math.sin(i)+o[2]*Math.cos(i),e[0]=r[0]+n[0],e[1]=r[1]+n[1],e[2]=r[2]+n[2],e},t.rotateY=function(e,t,n,i){var o=[],r=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],r[0]=o[2]*Math.sin(i)+o[0]*Math.cos(i),r[1]=o[1],r[2]=o[2]*Math.cos(i)-o[0]*Math.sin(i),e[0]=r[0]+n[0],e[1]=r[1]+n[1],e[2]=r[2]+n[2],e},t.rotateZ=function(e,t,n,i){var o=[],r=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],r[0]=o[0]*Math.cos(i)-o[1]*Math.sin(i),r[1]=o[0]*Math.sin(i)+o[1]*Math.cos(i),r[2]=o[2],e[0]=r[0]+n[0],e[1]=r[1]+n[1],e[2]=r[2]+n[2],e},t.angle=function(e,t){var n=s(e[0],e[1],e[2]),i=s(t[0],t[1],t[2]);d(n,n),d(i,i);var o=v(n,i);return o>1?0:o<-1?Math.PI:Math.acos(o)},t.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},t.equals=function(e,t){var n=e[0],o=e[1],r=e[2],s=t[0],a=t[1],c=t[2];return Math.abs(n-s)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-a)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(a))&&Math.abs(r-c)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function o(){var e=new i.ARRAY_TYPE(3);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function r(e){var t=e[0],n=e[1],i=e[2];return Math.sqrt(t*t+n*n+i*i)}function s(e,t,n){var o=new i.ARRAY_TYPE(3);return o[0]=e,o[1]=t,o[2]=n,o}function a(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function c(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function u(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function l(e,t){var n=t[0]-e[0],i=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+i*i+o*o)}function h(e,t){var n=t[0]-e[0],i=t[1]-e[1],o=t[2]-e[2];return n*n+i*i+o*o}function f(e){var t=e[0],n=e[1],i=e[2];return t*t+n*n+i*i}function d(e,t){var n=t[0],i=t[1],o=t[2],r=n*n+i*i+o*o;return r>0&&(r=1/Math.sqrt(r),e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r),e}function v(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}t.sub=a,t.mul=c,t.div=u,t.dist=l,t.sqrDist=h,t.len=r,t.sqrLen=f,t.forEach=function(){var e=o();return function(t,n,i,o,r,s){var a=void 0,c=void 0;for(n||(n=3),i||(i=0),c=o?Math.min(o*n+i,t.length):t.length,a=i;a<c;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],r(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2];return t}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.sqrLen=t.len=t.sqrDist=t.dist=t.div=t.mul=t.sub=void 0,t.create=o,t.clone=function(e){var t=new i.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},t.fromValues=function(e,t,n,o){var r=new i.ARRAY_TYPE(4);return r[0]=e,r[1]=t,r[2]=n,r[3]=o,r},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},t.set=function(e,t,n,i,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},t.subtract=r,t.multiply=s,t.divide=a,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},t.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},t.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},t.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},t.scaleAndAdd=function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e},t.distance=c,t.squaredDistance=u,t.length=l,t.squaredLength=h,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},t.normalize=function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],s=n*n+i*i+o*o+r*r;return s>0&&(s=1/Math.sqrt(s),e[0]=n*s,e[1]=i*s,e[2]=o*s,e[3]=r*s),e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},t.lerp=function(e,t,n,i){var o=t[0],r=t[1],s=t[2],a=t[3];return e[0]=o+i*(n[0]-o),e[1]=r+i*(n[1]-r),e[2]=s+i*(n[2]-s),e[3]=a+i*(n[3]-a),e},t.random=function(e,t){var n,o,r,s,a,c;t=t||1;do{n=2*i.RANDOM()-1,o=2*i.RANDOM()-1,a=n*n+o*o}while(a>=1);do{r=2*i.RANDOM()-1,s=2*i.RANDOM()-1,c=r*r+s*s}while(c>=1);var u=Math.sqrt((1-a)/c);return e[0]=t*n,e[1]=t*o,e[2]=t*r*u,e[3]=t*s*u,e},t.transformMat4=function(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3];return e[0]=n[0]*i+n[4]*o+n[8]*r+n[12]*s,e[1]=n[1]*i+n[5]*o+n[9]*r+n[13]*s,e[2]=n[2]*i+n[6]*o+n[10]*r+n[14]*s,e[3]=n[3]*i+n[7]*o+n[11]*r+n[15]*s,e},t.transformQuat=function(e,t,n){var i=t[0],o=t[1],r=t[2],s=n[0],a=n[1],c=n[2],u=n[3],l=u*i+a*r-c*o,h=u*o+c*i-s*r,f=u*r+s*o-a*i,d=-s*i-a*o-c*r;return e[0]=l*u+d*-s+h*-c-f*-a,e[1]=h*u+d*-a+f*-s-l*-c,e[2]=f*u+d*-c+l*-a-h*-s,e[3]=t[3],e},t.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},t.equals=function(e,t){var n=e[0],o=e[1],r=e[2],s=e[3],a=t[0],c=t[1],u=t[2],l=t[3];return Math.abs(n-a)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-c)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(r-u)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(s-l)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function o(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function r(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function s(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function a(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function c(e,t){var n=t[0]-e[0],i=t[1]-e[1],o=t[2]-e[2],r=t[3]-e[3];return Math.sqrt(n*n+i*i+o*o+r*r)}function u(e,t){var n=t[0]-e[0],i=t[1]-e[1],o=t[2]-e[2],r=t[3]-e[3];return n*n+i*i+o*o+r*r}function l(e){var t=e[0],n=e[1],i=e[2],o=e[3];return Math.sqrt(t*t+n*n+i*i+o*o)}function h(e){var t=e[0],n=e[1],i=e[2],o=e[3];return t*t+n*n+i*i+o*o}t.sub=r,t.mul=s,t.div=a,t.dist=c,t.sqrDist=u,t.len=l,t.sqrLen=h,t.forEach=function(){var e=o();return function(t,n,i,o,r,s){var a=void 0,c=void 0;for(n||(n=4),i||(i=0),c=o?Math.min(o*n+i,t.length):t.length,a=i;a<c;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],e[3]=t[a+3],r(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2],t[a+3]=e[3];return t}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vec4=t.vec3=t.vec2=t.quat2=t.quat=t.mat4=t.mat3=t.mat2d=t.mat2=t.glMatrix=void 0;var i=d(n(0)),o=d(n(7)),r=d(n(8)),s=d(n(1)),a=d(n(2)),c=d(n(3)),u=d(n(9)),l=d(n(10)),h=d(n(4)),f=d(n(5));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.glMatrix=i,t.mat2=o,t.mat2d=r,t.mat3=s,t.mat4=a,t.quat=c,t.quat2=u,t.vec2=l,t.vec3=h,t.vec4=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.mul=void 0,t.create=function(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},t.clone=function(e){var t=new i.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},t.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},t.fromValues=function(e,t,n,o){var r=new i.ARRAY_TYPE(4);return r[0]=e,r[1]=t,r[2]=n,r[3]=o,r},t.set=function(e,t,n,i,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e},t.transpose=function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},t.invert=function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],s=n*r-o*i;return s?(s=1/s,e[0]=r*s,e[1]=-i*s,e[2]=-o*s,e[3]=n*s,e):null},t.adjoint=function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e},t.determinant=function(e){return e[0]*e[3]-e[2]*e[1]},t.multiply=o,t.rotate=function(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=i*c+r*a,e[1]=o*c+s*a,e[2]=i*-a+r*c,e[3]=o*-a+s*c,e},t.scale=function(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=n[0],c=n[1];return e[0]=i*a,e[1]=o*a,e[2]=r*c,e[3]=s*c,e},t.fromRotation=function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=-n,e[3]=i,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},t.str=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},t.LDU=function(e,t,n,i){return e[2]=i[2]/i[0],n[0]=i[0],n[1]=i[1],n[3]=i[3]-e[2]*n[1],[e,t,n]},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},t.subtract=r,t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},t.equals=function(e,t){var n=e[0],o=e[1],r=e[2],s=e[3],a=t[0],c=t[1],u=t[2],l=t[3];return Math.abs(n-a)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-c)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(r-u)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(s-l)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))},t.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},t.multiplyScalarAndAdd=function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function o(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=n[0],c=n[1],u=n[2],l=n[3];return e[0]=i*a+r*c,e[1]=o*a+s*c,e[2]=i*u+r*l,e[3]=o*u+s*l,e}function r(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}t.mul=o,t.sub=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.mul=void 0,t.create=function(){var e=new i.ARRAY_TYPE(6);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e},t.clone=function(e){var t=new i.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},t.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},t.fromValues=function(e,t,n,o,r,s){var a=new i.ARRAY_TYPE(6);return a[0]=e,a[1]=t,a[2]=n,a[3]=o,a[4]=r,a[5]=s,a},t.set=function(e,t,n,i,o,r,s){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e[4]=r,e[5]=s,e},t.invert=function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],s=t[4],a=t[5],c=n*r-i*o;return c?(c=1/c,e[0]=r*c,e[1]=-i*c,e[2]=-o*c,e[3]=n*c,e[4]=(o*a-r*s)*c,e[5]=(i*s-n*a)*c,e):null},t.determinant=function(e){return e[0]*e[3]-e[1]*e[2]},t.multiply=o,t.rotate=function(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=t[4],c=t[5],u=Math.sin(n),l=Math.cos(n);return e[0]=i*l+r*u,e[1]=o*l+s*u,e[2]=i*-u+r*l,e[3]=o*-u+s*l,e[4]=a,e[5]=c,e},t.scale=function(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=t[4],c=t[5],u=n[0],l=n[1];return e[0]=i*u,e[1]=o*u,e[2]=r*l,e[3]=s*l,e[4]=a,e[5]=c,e},t.translate=function(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=t[4],c=t[5],u=n[0],l=n[1];return e[0]=i,e[1]=o,e[2]=r,e[3]=s,e[4]=i*u+r*l+a,e[5]=o*u+s*l+c,e},t.fromRotation=function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=-n,e[3]=i,e[4]=0,e[5]=0,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},t.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e},t.subtract=r,t.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e},t.multiplyScalarAndAdd=function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},t.equals=function(e,t){var n=e[0],o=e[1],r=e[2],s=e[3],a=e[4],c=e[5],u=t[0],l=t[1],h=t[2],f=t[3],d=t[4],v=t[5];return Math.abs(n-u)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-l)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(r-h)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(s-f)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(a-d)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(c-v)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))},t.getScaling=function(e,t){var n=t[0],i=t[1];return e[0]=Math.sign(n)*Math.sqrt(n*n+i*i),n=t[2],i=t[3],e[1]=Math.sign(i)*Math.sqrt(n*n+i*i),e},t.decompose=function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],s=n*r-o*i,a=Math.sqrt(n*n+i*i),c=Math.sqrt(o*o+r*r);return s<0&&(a=-a),e[0]=a,e[1]=c,Math.atan2(i/a,n/a)},t.getTranslation=function(e,t){return e[0]=t[4],e[1]=t[5],e},t.getRotation=function(e){return Math.atan2(e[1],e[0])},t.log=function(e){var t=vec2.create(),n=mat2d.decompose(t,e),i=mat2d.getTranslation(vec2.create(),e);console.log("mat2d",i,n/Math.PI*180,t)};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function o(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=t[4],c=t[5],u=n[0],l=n[1],h=n[2],f=n[3],d=n[4],v=n[5];return e[0]=i*u+r*l,e[1]=o*u+s*l,e[2]=i*h+r*f,e[3]=o*h+s*f,e[4]=i*d+r*v+a,e[5]=o*d+s*v+c,e}function r(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}t.mul=o,t.sub=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sqrLen=t.squaredLength=t.len=t.length=t.dot=t.mul=t.setReal=t.getReal=void 0,t.create=function(){var e=new i.ARRAY_TYPE(8);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e},t.clone=function(e){var t=new i.ARRAY_TYPE(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t},t.fromValues=function(e,t,n,o,r,s,a,c){var u=new i.ARRAY_TYPE(8);return u[0]=e,u[1]=t,u[2]=n,u[3]=o,u[4]=r,u[5]=s,u[6]=a,u[7]=c,u},t.fromRotationTranslationValues=function(e,t,n,o,r,s,a){var c=new i.ARRAY_TYPE(8);c[0]=e,c[1]=t,c[2]=n,c[3]=o;var u=.5*r,l=.5*s,h=.5*a;return c[4]=u*o+l*n-h*t,c[5]=l*o+h*e-u*n,c[6]=h*o+u*t-l*e,c[7]=-u*e-l*t-h*n,c},t.fromRotationTranslation=a,t.fromTranslation=function(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e},t.fromRotation=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},t.fromMat4=function(e,t){var n=o.create();r.getRotation(n,t);var s=new i.ARRAY_TYPE(3);return r.getTranslation(s,t),a(e,n,s),e},t.copy=c,t.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},t.set=function(e,t,n,i,o,r,s,a,c){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e[4]=r,e[5]=s,e[6]=a,e[7]=c,e},t.getDual=function(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e},t.setDual=function(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e},t.getTranslation=function(e,t){var n=t[4],i=t[5],o=t[6],r=t[7],s=-t[0],a=-t[1],c=-t[2],u=t[3];return e[0]=2*(n*u+r*s+i*c-o*a),e[1]=2*(i*u+r*a+o*s-n*c),e[2]=2*(o*u+r*c+n*a-i*s),e},t.translate=function(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=.5*n[0],c=.5*n[1],u=.5*n[2],l=t[4],h=t[5],f=t[6],d=t[7];return e[0]=i,e[1]=o,e[2]=r,e[3]=s,e[4]=s*a+o*u-r*c+l,e[5]=s*c+r*a-i*u+h,e[6]=s*u+i*c-o*a+f,e[7]=-i*a-o*c-r*u+d,e},t.rotateX=function(e,t,n){var i=-t[0],r=-t[1],s=-t[2],a=t[3],c=t[4],u=t[5],l=t[6],h=t[7],f=c*a+h*i+u*s-l*r,d=u*a+h*r+l*i-c*s,v=l*a+h*s+c*r-u*i,w=h*a-c*i-u*r-l*s;return o.rotateX(e,t,n),i=e[0],r=e[1],s=e[2],a=e[3],e[4]=f*a+w*i+d*s-v*r,e[5]=d*a+w*r+v*i-f*s,e[6]=v*a+w*s+f*r-d*i,e[7]=w*a-f*i-d*r-v*s,e},t.rotateY=function(e,t,n){var i=-t[0],r=-t[1],s=-t[2],a=t[3],c=t[4],u=t[5],l=t[6],h=t[7],f=c*a+h*i+u*s-l*r,d=u*a+h*r+l*i-c*s,v=l*a+h*s+c*r-u*i,w=h*a-c*i-u*r-l*s;return o.rotateY(e,t,n),i=e[0],r=e[1],s=e[2],a=e[3],e[4]=f*a+w*i+d*s-v*r,e[5]=d*a+w*r+v*i-f*s,e[6]=v*a+w*s+f*r-d*i,e[7]=w*a-f*i-d*r-v*s,e},t.rotateZ=function(e,t,n){var i=-t[0],r=-t[1],s=-t[2],a=t[3],c=t[4],u=t[5],l=t[6],h=t[7],f=c*a+h*i+u*s-l*r,d=u*a+h*r+l*i-c*s,v=l*a+h*s+c*r-u*i,w=h*a-c*i-u*r-l*s;return o.rotateZ(e,t,n),i=e[0],r=e[1],s=e[2],a=e[3],e[4]=f*a+w*i+d*s-v*r,e[5]=d*a+w*r+v*i-f*s,e[6]=v*a+w*s+f*r-d*i,e[7]=w*a-f*i-d*r-v*s,e},t.rotateByQuatAppend=function(e,t,n){var i=n[0],o=n[1],r=n[2],s=n[3],a=t[0],c=t[1],u=t[2],l=t[3];return e[0]=a*s+l*i+c*r-u*o,e[1]=c*s+l*o+u*i-a*r,e[2]=u*s+l*r+a*o-c*i,e[3]=l*s-a*i-c*o-u*r,a=t[4],c=t[5],u=t[6],l=t[7],e[4]=a*s+l*i+c*r-u*o,e[5]=c*s+l*o+u*i-a*r,e[6]=u*s+l*r+a*o-c*i,e[7]=l*s-a*i-c*o-u*r,e},t.rotateByQuatPrepend=function(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=n[0],c=n[1],u=n[2],l=n[3];return e[0]=i*l+s*a+o*u-r*c,e[1]=o*l+s*c+r*a-i*u,e[2]=r*l+s*u+i*c-o*a,e[3]=s*l-i*a-o*c-r*u,a=n[4],c=n[5],u=n[6],l=n[7],e[4]=i*l+s*a+o*u-r*c,e[5]=o*l+s*c+r*a-i*u,e[6]=r*l+s*u+i*c-o*a,e[7]=s*l-i*a-o*c-r*u,e},t.rotateAroundAxis=function(e,t,n,o){if(Math.abs(o)<i.EPSILON)return c(e,t);var r=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);o*=.5;var s=Math.sin(o),a=s*n[0]/r,u=s*n[1]/r,l=s*n[2]/r,h=Math.cos(o),f=t[0],d=t[1],v=t[2],w=t[3];e[0]=f*h+w*a+d*l-v*u,e[1]=d*h+w*u+v*a-f*l,e[2]=v*h+w*l+f*u-d*a,e[3]=w*h-f*a-d*u-v*l;var b=t[4],g=t[5],_=t[6],k=t[7];return e[4]=b*h+k*a+g*l-_*u,e[5]=g*h+k*u+_*a-b*l,e[6]=_*h+k*l+b*u-g*a,e[7]=k*h-b*a-g*u-_*l,e},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e},t.multiply=u,t.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e},t.lerp=function(e,t,n,i){var o=1-i;return l(t,n)<0&&(i=-i),e[0]=t[0]*o+n[0]*i,e[1]=t[1]*o+n[1]*i,e[2]=t[2]*o+n[2]*i,e[3]=t[3]*o+n[3]*i,e[4]=t[4]*o+n[4]*i,e[5]=t[5]*o+n[5]*i,e[6]=t[6]*o+n[6]*i,e[7]=t[7]*o+n[7]*i,e},t.invert=function(e,t){var n=f(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e},t.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e},t.normalize=function(e,t){var n=f(t);if(n>0){n=Math.sqrt(n);var i=t[0]/n,o=t[1]/n,r=t[2]/n,s=t[3]/n,a=t[4],c=t[5],u=t[6],l=t[7],h=i*a+o*c+r*u+s*l;e[0]=i,e[1]=o,e[2]=r,e[3]=s,e[4]=(a-i*h)/n,e[5]=(c-o*h)/n,e[6]=(u-r*h)/n,e[7]=(l-s*h)/n}return e},t.str=function(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]},t.equals=function(e,t){var n=e[0],o=e[1],r=e[2],s=e[3],a=e[4],c=e[5],u=e[6],l=e[7],h=t[0],f=t[1],d=t[2],v=t[3],w=t[4],b=t[5],g=t[6],_=t[7];return Math.abs(n-h)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(o-f)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(r-d)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(s-v)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(a-w)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(c-b)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(u-g)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(l-_)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(_))};var i=s(n(0)),o=s(n(3)),r=s(n(2));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t,n){var i=.5*n[0],o=.5*n[1],r=.5*n[2],s=t[0],a=t[1],c=t[2],u=t[3];return e[0]=s,e[1]=a,e[2]=c,e[3]=u,e[4]=i*u+o*c-r*a,e[5]=o*u+r*s-i*c,e[6]=r*u+i*a-o*s,e[7]=-i*s-o*a-r*c,e}function c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function u(e,t,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=n[4],c=n[5],u=n[6],l=n[7],h=t[4],f=t[5],d=t[6],v=t[7],w=n[0],b=n[1],g=n[2],_=n[3];return e[0]=i*_+s*w+o*g-r*b,e[1]=o*_+s*b+r*w-i*g,e[2]=r*_+s*g+i*b-o*w,e[3]=s*_-i*w-o*b-r*g,e[4]=i*l+s*a+o*u-r*c+h*_+v*w+f*g-d*b,e[5]=o*l+s*c+r*a-i*u+f*_+v*b+d*w-h*g,e[6]=r*l+s*u+i*c-o*a+d*_+v*g+h*b-f*w,e[7]=s*l-i*a-o*c-r*u+v*_-h*w-f*b-d*g,e}t.getReal=o.copy,t.setReal=o.copy,t.mul=u;var l=t.dot=o.dot,h=t.length=o.length,f=(t.len=h,t.squaredLength=o.squaredLength);t.sqrLen=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.sqrLen=t.sqrDist=t.dist=t.div=t.mul=t.sub=t.len=void 0,t.create=o,t.clone=function(e){var t=new i.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},t.fromValues=function(e,t){var n=new i.ARRAY_TYPE(2);return n[0]=e,n[1]=t,n},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},t.set=function(e,t,n){return e[0]=t,e[1]=n,e},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},t.subtract=r,t.multiply=s,t.divide=a,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},t.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},t.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},t.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},t.scaleAndAdd=function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e},t.distance=c,t.squaredDistance=u,t.length=l,t.squaredLength=h,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},t.normalize=function(e,t){var n=t[0],i=t[1],o=n*n+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o),e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},t.cross=function(e,t,n){var i=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=i,e},t.lerp=function(e,t,n,i){var o=t[0],r=t[1];return e[0]=o+i*(n[0]-o),e[1]=r+i*(n[1]-r),e},t.random=function(e,t){t=t||1;var n=2*i.RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},t.transformMat2=function(e,t,n){var i=t[0],o=t[1];return e[0]=n[0]*i+n[2]*o,e[1]=n[1]*i+n[3]*o,e},t.transformMat2d=function(e,t,n){var i=t[0],o=t[1];return e[0]=n[0]*i+n[2]*o+n[4],e[1]=n[1]*i+n[3]*o+n[5],e},t.transformMat3=function(e,t,n){var i=t[0],o=t[1];return e[0]=n[0]*i+n[3]*o+n[6],e[1]=n[1]*i+n[4]*o+n[7],e},t.transformMat4=function(e,t,n){var i=t[0],o=t[1];return e[0]=n[0]*i+n[4]*o+n[12],e[1]=n[1]*i+n[5]*o+n[13],e},t.rotate=function(e,t,n,i){var o=t[0]-n[0],r=t[1]-n[1],s=Math.sin(i),a=Math.cos(i);return e[0]=o*a-r*s+n[0],e[1]=o*s+r*a+n[1],e},t.angle=function(e,t){var n=e[0],i=e[1],o=t[0],r=t[1],s=n*n+i*i;s>0&&(s=1/Math.sqrt(s));var a=o*o+r*r;a>0&&(a=1/Math.sqrt(a));var c=(n*o+i*r)*s*a;return c>1?0:c<-1?Math.PI:Math.acos(c)},t.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t.equals=function(e,t){var n=e[0],o=e[1],r=t[0],s=t[1];return Math.abs(n-r)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(o-s)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))},t.isEqual=function(e,t){return e[0]==t[0]&&e[1]==t[1]},t.toArray=function(e){return[e[0],e[1]]},t.getAngle=function(e){return Math.atan2(e[1],e[0])};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function o(){var e=new i.ARRAY_TYPE(2);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function r(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function s(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function a(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function c(e,t){var n=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(n*n+i*i)}function u(e,t){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function l(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function h(e){var t=e[0],n=e[1];return t*t+n*n}t.len=l,t.sub=r,t.mul=s,t.div=a,t.dist=c,t.sqrDist=u,t.sqrLen=h,t.forEach=function(){var e=o();return function(t,n,i,o,r,s){var a=void 0,c=void 0;for(n||(n=2),i||(i=0),c=o?Math.min(o*n+i,t.length):t.length,a=i;a<c;a+=n)e[0]=t[a],e[1]=t[a+1],r(e,e,s),t[a]=e[0],t[a+1]=e[1];return t}}()}])}});
//# sourceMappingURL=Flare.6dc0fcfec8f72369a0fb.js.map